!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){var e=-1,o=-1,i=function(t){return parseFloat(t)||0},a=function(e){var o=1,a=t(e),n=null,r=[];return a.each(function(){var e=t(this),a=e.offset().top-i(e.css("margin-top")),s=r.length>0?r[r.length-1]:null;null===s?r.push(e):Math.floor(Math.abs(n-a))<=o?r[r.length-1]=s.add(e):r.push(e),n=a}),r},n=function(e){var o={byRow:!0,property:"height",target:null,remove:!1};return"object"==typeof e?t.extend(o,e):("boolean"==typeof e?o.byRow=e:"remove"===e&&(o.remove=!0),o)},r=t.fn.matchHeight=function(e){var o=n(e);if(o.remove){var i=this;return this.css(o.property,""),t.each(r._groups,function(t,e){e.elements=e.elements.not(i)}),this}return this.length<=1&&!o.target?this:(r._groups.push({elements:this,options:o}),r._apply(this,o),this)};r.version="0.7.0",r._groups=[],r._throttle=80,r._maintainScroll=!1,r._beforeUpdate=null,r._afterUpdate=null,r._rows=a,r._parse=i,r._parseOptions=n,r._apply=function(e,o){var s=n(o),h=t(e),l=[h],c=t(window).scrollTop(),p=t("html").outerHeight(!0),d=h.parents().filter(":hidden");return d.each(function(){var e=t(this);e.data("style-cache",e.attr("style"))}),d.css("display","block"),s.byRow&&!s.target&&(h.each(function(){var e=t(this),o=e.css("display");"inline-block"!==o&&"flex"!==o&&"inline-flex"!==o&&(o="block"),e.data("style-cache",e.attr("style")),e.css({display:o,"padding-top":"0","padding-bottom":"0","margin-top":"0","margin-bottom":"0","border-top-width":"0","border-bottom-width":"0",height:"100px",overflow:"hidden"})}),l=a(h),h.each(function(){var e=t(this);e.attr("style",e.data("style-cache")||"")})),t.each(l,function(e,o){var a=t(o),n=0;if(s.target)n=s.target.outerHeight(!1);else{if(s.byRow&&a.length<=1)return void a.css(s.property,"");a.each(function(){var e=t(this),o=e.attr("style"),i=e.css("display");"inline-block"!==i&&"flex"!==i&&"inline-flex"!==i&&(i="block");var a={display:i};a[s.property]="",e.css(a),e.outerHeight(!1)>n&&(n=e.outerHeight(!1)),o?e.attr("style",o):e.css("display","")})}a.each(function(){var e=t(this),o=0;s.target&&e.is(s.target)||("border-box"!==e.css("box-sizing")&&(o+=i(e.css("border-top-width"))+i(e.css("border-bottom-width")),o+=i(e.css("padding-top"))+i(e.css("padding-bottom"))),e.css(s.property,n-o+"px"))})}),d.each(function(){var e=t(this);e.attr("style",e.data("style-cache")||null)}),r._maintainScroll&&t(window).scrollTop(c/p*t("html").outerHeight(!0)),this},r._applyDataApi=function(){var e={};t("[data-match-height], [data-mh]").each(function(){var o=t(this),i=o.attr("data-mh")||o.attr("data-match-height");i in e?e[i]=e[i].add(o):e[i]=o}),t.each(e,function(){this.matchHeight(!0)})};var s=function(e){r._beforeUpdate&&r._beforeUpdate(e,r._groups),t.each(r._groups,function(){r._apply(this.elements,this.options)}),r._afterUpdate&&r._afterUpdate(e,r._groups)};r._update=function(i,a){if(a&&"resize"===a.type){var n=t(window).width();if(n===e)return;e=n}i?o===-1&&(o=setTimeout(function(){s(a),o=-1},r._throttle)):s(a)},t(r._applyDataApi),t(window).bind("load",function(t){r._update(!1,t)}),t(window).bind("resize orientationchange",function(t){r._update(!0,t)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZlbmRvci9qcXVlcnkubWF0Y2hIZWlnaHQuanMiXSwibmFtZXMiOlsiZmFjdG9yeSIsImRlZmluZSIsImFtZCIsIm1vZHVsZSIsImV4cG9ydHMiLCJyZXF1aXJlIiwialF1ZXJ5IiwiJCIsIl9wcmV2aW91c1Jlc2l6ZVdpZHRoIiwiX3VwZGF0ZVRpbWVvdXQiLCJfcGFyc2UiLCJ2YWx1ZSIsInBhcnNlRmxvYXQiLCJfcm93cyIsImVsZW1lbnRzIiwidG9sZXJhbmNlIiwiJGVsZW1lbnRzIiwibGFzdFRvcCIsInJvd3MiLCJlYWNoIiwiJHRoYXQiLCJ0aGlzIiwidG9wIiwib2Zmc2V0IiwiY3NzIiwibGFzdFJvdyIsImxlbmd0aCIsInB1c2giLCJNYXRoIiwiZmxvb3IiLCJhYnMiLCJhZGQiLCJfcGFyc2VPcHRpb25zIiwib3B0aW9ucyIsIm9wdHMiLCJieVJvdyIsInByb3BlcnR5IiwidGFyZ2V0IiwicmVtb3ZlIiwiZXh0ZW5kIiwibWF0Y2hIZWlnaHQiLCJmbiIsInRoYXQiLCJfZ3JvdXBzIiwia2V5IiwiZ3JvdXAiLCJub3QiLCJfYXBwbHkiLCJ2ZXJzaW9uIiwiX3Rocm90dGxlIiwiX21haW50YWluU2Nyb2xsIiwiX2JlZm9yZVVwZGF0ZSIsIl9hZnRlclVwZGF0ZSIsInNjcm9sbFRvcCIsIndpbmRvdyIsImh0bWxIZWlnaHQiLCJvdXRlckhlaWdodCIsIiRoaWRkZW5QYXJlbnRzIiwicGFyZW50cyIsImZpbHRlciIsImRhdGEiLCJhdHRyIiwiZGlzcGxheSIsInBhZGRpbmctdG9wIiwicGFkZGluZy1ib3R0b20iLCJtYXJnaW4tdG9wIiwibWFyZ2luLWJvdHRvbSIsImJvcmRlci10b3Atd2lkdGgiLCJib3JkZXItYm90dG9tLXdpZHRoIiwiaGVpZ2h0Iiwib3ZlcmZsb3ciLCJyb3ciLCIkcm93IiwidGFyZ2V0SGVpZ2h0Iiwic3R5bGUiLCJ2ZXJ0aWNhbFBhZGRpbmciLCJpcyIsIl9hcHBseURhdGFBcGkiLCJncm91cHMiLCIkdGhpcyIsImdyb3VwSWQiLCJfdXBkYXRlIiwiZXZlbnQiLCJ0aHJvdHRsZSIsInR5cGUiLCJ3aW5kb3dXaWR0aCIsIndpZHRoIiwic2V0VGltZW91dCIsImJpbmQiXSwibWFwcGluZ3MiOiJDQU1DLFNBQVVBLEdBQ1YsWUFDc0IsbUJBQVhDLFNBQXlCQSxPQUFPQyxJQUUxQ0QsUUFBUSxVQUFXRCxHQUNTLG1CQUFYRyxTQUEwQkEsT0FBT0MsUUFFbERELE9BQU9DLFFBQVVKLEVBQVFLLFFBQVEsV0FHakNMLEVBQVFNLFNBRVAsU0FBU0MsR0FLWCxHQUFJQyxNQUNIQyxLQU9HQyxFQUFTLFNBQVNDLEdBRXJCLE1BQU9DLFlBQVdELElBQVUsR0FTekJFLEVBQVEsU0FBU0MsR0FDcEIsR0FBSUMsR0FBWSxFQUNmQyxFQUFZVCxFQUFFTyxHQUNkRyxFQUFVLEtBQ1ZDLElBeUJELE9BdEJBRixHQUFVRyxLQUFLLFdBQ2QsR0FBSUMsR0FBUWIsRUFBRWMsTUFDYkMsRUFBTUYsRUFBTUcsU0FBU0QsSUFBTVosRUFBT1UsRUFBTUksSUFBSSxlQUM1Q0MsRUFBVVAsRUFBS1EsT0FBUyxFQUFJUixFQUFLQSxFQUFLUSxPQUFTLEdBQUssSUFFckMsUUFBWkQsRUFFSFAsRUFBS1MsS0FBS1AsR0FHTlEsS0FBS0MsTUFBTUQsS0FBS0UsSUFBSWIsRUFBVUssS0FBU1AsRUFDMUNHLEVBQUtBLEVBQUtRLE9BQVMsR0FBS0QsRUFBUU0sSUFBSVgsR0FHcENGLEVBQUtTLEtBQUtQLEdBS1pILEVBQVVLLElBR0pKLEdBUUpjLEVBQWdCLFNBQVNDLEdBQzVCLEdBQUlDLElBQ0hDLE9BQU8sRUFDUEMsU0FBVSxTQUNWQyxPQUFRLEtBQ1JDLFFBQVEsRUFHVCxPQUF1QixnQkFBWkwsR0FDSDFCLEVBQUVnQyxPQUFPTCxFQUFNRCxJQUdBLGlCQUFaQSxHQUNWQyxFQUFLQyxNQUFRRixFQUNTLFdBQVpBLElBQ1ZDLEVBQUtJLFFBQVMsR0FHUkosSUFRSk0sRUFBY2pDLEVBQUVrQyxHQUFHRCxZQUFjLFNBQVNQLEdBQzdDLEdBQUlDLEdBQU9GLEVBQWND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QXVCNkUsRUFJbkJGLEVBRU0xRSxTQUNWQSxFQUFpQjhFLFdBQVcsV0FDM0JOLEVBQVFDLEdBQ1J6RSxNQUNFK0IsRUFBWVMsWUFMZmdDLEVBQVFDLElBY1YzRSxFQUFFaUMsRUFBWXFDLGVBR2R0RSxFQUFFK0MsUUFBUWtDLEtBQUssT0FBUSxTQUFTTixHQUMvQjFDLEVBQVl5QyxTQUFRLEVBQU9DLEtBSTVCM0UsRUFBRStDLFFBQVFrQyxLQUFLLDJCQUE0QixTQUFTTixHQUNuRDFDLEVBQVl5QyxTQUFRLEVBQU1DIiwiZmlsZSI6InZlbmRvci9qcXVlcnkubWF0Y2hIZWlnaHQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4qIGpxdWVyeS1tYXRjaC1oZWlnaHQgMC43LjAgYnkgQGxpYWJydVxuKiBodHRwOi8vYnJtLmlvL2pxdWVyeS1tYXRjaC1oZWlnaHQvXG4qIExpY2Vuc2U6IE1JVFxuKi9cblxuOyhmdW5jdGlvbihmYWN0b3J5KSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXh0cmEtc2VtaVxuXHQndXNlIHN0cmljdCc7XG5cdGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyBBTURcblx0XHRkZWZpbmUoWydqcXVlcnknXSwgZmFjdG9yeSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0XHQvLyBDb21tb25KU1xuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKCdqcXVlcnknKSk7XG5cdH0gZWxzZSB7XG5cdFx0Ly8gR2xvYmFsXG5cdFx0ZmFjdG9yeShqUXVlcnkpO1xuXHR9XG59KShmdW5jdGlvbigkKSB7XG5cdC8qXG5cdCogIGludGVybmFsXG5cdCovXG5cblx0dmFyIF9wcmV2aW91c1Jlc2l6ZVdpZHRoID0gLTEsXG5cdFx0X3VwZGF0ZVRpbWVvdXQgPSAtMTtcblxuXHQvKlxuXHQqICBfcGFyc2Vcblx0KiAgdmFsdWUgcGFyc2UgdXRpbGl0eSBmdW5jdGlvblxuXHQqL1xuXG5cdHZhciBfcGFyc2UgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdC8vIHBhcnNlIHZhbHVlIGFuZCBjb252ZXJ0IE5hTiB0byAwXG5cdFx0cmV0dXJuIHBhcnNlRmxvYXQodmFsdWUpIHx8IDA7XG5cdH07XG5cblx0Lypcblx0KiAgX3Jvd3Ncblx0KiAgdXRpbGl0eSBmdW5jdGlvbiByZXR1cm5zIGFycmF5IG9mIGpRdWVyeSBzZWxlY3Rpb25zIHJlcHJlc2VudGluZyBlYWNoIHJvd1xuXHQqICAoYXMgZGlzcGxheWVkIGFmdGVyIGZsb2F0IHdyYXBwaW5nIGFwcGxpZWQgYnkgYnJvd3Nlcilcblx0Ki9cblxuXHR2YXIgX3Jvd3MgPSBmdW5jdGlvbihlbGVtZW50cykge1xuXHRcdHZhciB0b2xlcmFuY2UgPSAxLFxuXHRcdFx0JGVsZW1lbnRzID0gJChlbGVtZW50cyksXG5cdFx0XHRsYXN0VG9wID0gbnVsbCxcblx0XHRcdHJvd3MgPSBbXTtcblxuXHRcdC8vIGdyb3VwIGVsZW1lbnRzIGJ5IHRoZWlyIHRvcCBwb3NpdGlvblxuXHRcdCRlbGVtZW50cy5lYWNoKGZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgJHRoYXQgPSAkKHRoaXMpLFxuXHRcdFx0XHR0b3AgPSAkdGhhdC5vZmZzZXQoKS50b3AgLSBfcGFyc2UoJHRoYXQuY3NzKCdtYXJnaW4tdG9wJykpLFxuXHRcdFx0XHRsYXN0Um93ID0gcm93cy5sZW5ndGggPiAwID8gcm93c1tyb3dzLmxlbmd0aCAtIDFdIDogbnVsbDtcblxuXHRcdFx0aWYgKGxhc3RSb3cgPT09IG51bGwpIHtcblx0XHRcdFx0Ly8gZmlyc3QgaXRlbSBvbiB0aGUgcm93LCBzbyBqdXN0IHB1c2ggaXRcblx0XHRcdFx0cm93cy5wdXNoKCR0aGF0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIGlmIHRoZSByb3cgdG9wIGlzIHRoZSBzYW1lLCBhZGQgdG8gdGhlIHJvdyBncm91cFxuXHRcdFx0XHRpZiAoTWF0aC5mbG9vcihNYXRoLmFicyhsYXN0VG9wIC0gdG9wKSkgPD0gdG9sZXJhbmNlKSB7XG5cdFx0XHRcdFx0cm93c1tyb3dzLmxlbmd0aCAtIDFdID0gbGFzdFJvdy5hZGQoJHRoYXQpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIG90aGVyd2lzZSBzdGFydCBhIG5ldyByb3cgZ3JvdXBcblx0XHRcdFx0XHRyb3dzLnB1c2goJHRoYXQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIGtlZXAgdHJhY2sgb2YgdGhlIGxhc3Qgcm93IHRvcFxuXHRcdFx0bGFzdFRvcCA9IHRvcDtcblx0XHR9KTtcblxuXHRcdHJldHVybiByb3dzO1xuXHR9O1xuXG5cdC8qXG5cdCogIF9wYXJzZU9wdGlvbnNcblx0KiAgaGFuZGxlIHBsdWdpbiBvcHRpb25zXG5cdCovXG5cblx0dmFyIF9wYXJzZU9wdGlvbnMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdFx0dmFyIG9wdHMgPSB7XG5cdFx0XHRieVJvdzogdHJ1ZSxcblx0XHRcdHByb3BlcnR5OiAnaGVpZ2h0Jyxcblx0XHRcdHRhcmdldDogbnVsbCxcblx0XHRcdHJlbW92ZTogZmFsc2Vcblx0XHR9O1xuXG5cdFx0aWYgKHR5cGVvZiBvcHRpb25zID09PSAnb2JqZWN0Jykge1xuXHRcdFx0cmV0dXJuICQuZXh0ZW5kKG9wdHMsIG9wdGlvbnMpO1xuXHRcdH1cblxuXHRcdGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Jvb2xlYW4nKSB7XG5cdFx0XHRvcHRzLmJ5Um93ID0gb3B0aW9ucztcblx0XHR9IGVsc2UgaWYgKG9wdGlvbnMgPT09ICdyZW1vdmUnKSB7XG5cdFx0XHRvcHRzLnJlbW92ZSA9IHRydWU7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG9wdHM7XG5cdH07XG5cblx0Lypcblx0KiAgbWF0Y2hIZWlnaHRcblx0KiAgcGx1Z2luIGRlZmluaXRpb25cblx0Ki9cblxuXHR2YXIgbWF0Y2hIZWlnaHQgPSAkLmZuLm1hdGNoSGVpZ2h0ID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHRcdHZhciBvcHRzID0gX3BhcnNlT3B0aW9ucyhvcHRpb25zKTtcblxuXHRcdC8vIGhhbmRsZSByZW1vdmVcblx0XHRpZiAob3B0cy5yZW1vdmUpIHtcblx0XHRcdHZhciB0aGF0ID0gdGhpcztcblxuXHRcdFx0Ly8gcmVtb3ZlIGZpeGVkIGhlaWdodCBmcm9tIGFsbCBzZWxlY3RlZCBlbGVtZW50c1xuXHRcdFx0dGhpcy5jc3Mob3B0cy5wcm9wZXJ0eSwgJycpO1xuXG5cdFx0XHQvLyByZW1vdmUgc2VsZWN0ZWQgZWxlbWVudHMgZnJvbSBhbGwgZ3JvdXBzXG5cdFx0XHQkLmVhY2gobWF0Y2hIZWlnaHQuX2dyb3VwcywgZnVuY3Rpb24oa2V5LCBncm91cCkge1xuXHRcdFx0XHRncm91cC5lbGVtZW50cyA9IGdyb3VwLmVsZW1lbnRzLm5vdCh0aGF0KTtcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBUT0RPOiBjbGVhbnVwIGVtcHR5IGdyb3Vwc1xuXG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cblx0XHRpZiAodGhpcy5sZW5ndGggPD0gMSAmJiAhb3B0cy50YXJnZXQpIHtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblxuXHRcdC8vIGtlZXAgdHJhY2sgb2YgdGhpcyBncm91cCBzbyB3ZSBjYW4gcmUtYXBwbHkgbGF0ZXIgb24gbG9hZCBhbmQgcmVzaXplIGV2ZW50c1xuXHRcdG1hdGNoSGVpZ2h0Ll9ncm91cHMucHVzaCh7XG5cdFx0XHRlbGVtZW50czogdGhpcyxcblx0XHRcdG9wdGlvbnM6IG9wdHNcblx0XHR9KTtcblxuXHRcdC8vIG1hdGNoIGVhY2ggZWxlbWVudCdzIGhlaWdodCB0byB0aGUgdGFsbGVzdCBlbGVtZW50IGluIHRoZSBzZWxlY3Rpb25cblx0XHRtYXRjaEhlaWdodC5fYXBwbHkodGhpcywgb3B0cyk7XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHQvKlxuXHQqICBwbHVnaW4gZ2xvYmFsIG9wdGlvbnNcblx0Ki9cblxuXHRtYXRjaEhlaWdodC52ZXJzaW9uID0gJzAuNy4wJztcblx0bWF0Y2hIZWlnaHQuX2dyb3VwcyA9IFtdO1xuXHRtYXRjaEhlaWdodC5fdGhyb3R0bGUgPSA4MDtcblx0bWF0Y2hIZWlnaHQuX21haW50YWluU2Nyb2xsID0gZmFsc2U7XG5cdG1hdGNoSGVpZ2h0Ll9iZWZvcmVVcGRhdGUgPSBudWxsO1xuXHRtYXRjaEhlaWdodC5fYWZ0ZXJVcGRhdGUgPSBudWxsO1xuXHRtYXRjaEhlaWdodC5fcm93cyA9IF9yb3dzO1xuXHRtYXRjaEhlaWdodC5fcGFyc2UgPSBfcGFyc2U7XG5cdG1hdGNoSGVpZ2h0Ll9wYXJzZU9wdGlvbnMgPSBfcGFyc2VPcHRpb25zO1xuXG5cdC8qXG5cdCogIG1hdGNoSGVpZ2h0Ll9hcHBseVxuXHQqICBhcHBseSBtYXRjaEhlaWdodCB0byBnaXZlbiBlbGVtZW50c1xuXHQqL1xuXG5cdG1hdGNoSGVpZ2h0Ll9hcHBseSA9IGZ1bmN0aW9uKGVsZW1lbnRzLCBvcHRpb25zKSB7XG5cdFx0dmFyIG9wdHMgPSBfcGFyc2VPcHRpb25zKG9wdGlvbnMpLFxuXHRcdFx0JGVsZW1lbnRzID0gJChlbGVtZW50cyksXG5cdFx0XHRyb3dzID0gWyRlbGVtZW50c107XG5cblx0XHQvLyB0YWtlIG5vdGUgb2Ygc2Nyb2xsIHBvc2l0aW9uXG5cdFx0dmFyIHNjcm9sbFRvcCA9ICQod2luZG93KS5zY3JvbGxUb3AoKSxcblx0XHRcdGh0bWxIZWlnaHQgPSAkKCdodG1sJykub3V0ZXJIZWlnaHQodHJ1ZSk7XG5cblx0XHQvLyBnZXQgaGlkZGVuIHBhcmVudHNcblx0XHR2YXIgJGhpZGRlblBhcmVudHMgPSAkZWxlbWVudHMucGFyZW50cygpLmZpbHRlcignOmhpZGRlbicpO1xuXG5cdFx0Ly8gY2FjaGUgdGhlIG9yaWdpbmFsIGlubGluZSBzdHlsZVxuXHRcdCRoaWRkZW5QYXJlbnRzLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgJHRoYXQgPSAkKHRoaXMpO1xuXHRcdFx0JHRoYXQuZGF0YSgnc3R5bGUtY2FjaGUnLCAkdGhhdC5hdHRyKCdzdHlsZScpKTtcblx0XHR9KTtcblxuXHRcdC8vIHRlbXBvcmFyaWx5IG11c3QgZm9yY2UgaGlkZGVuIHBhcmVudHMgdmlzaWJsZVxuXHRcdCRoaWRkZW5QYXJlbnRzLmNzcygnZGlzcGxheScsICdibG9jaycpO1xuXG5cdFx0Ly8gZ2V0IHJvd3MgaWYgdXNpbmcgYnlSb3csIG90aGVyd2lzZSBhc3N1bWUgb25lIHJvd1xuXHRcdGlmIChvcHRzLmJ5Um93ICYmICFvcHRzLnRhcmdldCkge1xuXG5cdFx0XHQvLyBtdXN0IGZpcnN0IGZvcmNlIGFuIGFyYml0cmFyeSBlcXVhbCBoZWlnaHQgc28gZmxvYXRpbmcgZWxlbWVudHMgYnJlYWsgZXZlbmx5XG5cdFx0XHQkZWxlbWVudHMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyICR0aGF0ID0gJCh0aGlzKSxcblx0XHRcdFx0XHRkaXNwbGF5ID0gJHRoYXQuY3NzKCdkaXNwbGF5Jyk7XG5cblx0XHRcdFx0Ly8gdGVtcG9yYXJpbHkgZm9yY2UgYSB1c2FibGUgZGlzcGxheSB2YWx1ZVxuXHRcdFx0XHRpZiAoZGlzcGxheSAhPT0gJ2lubGluZS1ibG9jaycgJiYgZGlzcGxheSAhPT0gJ2ZsZXgnICYmIGRpc3BsYXkgIT09ICdpbmxpbmUtZmxleCcpIHtcblx0XHRcdFx0XHRkaXNwbGF5ID0gJ2Jsb2NrJztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIGNhY2hlIHRoZSBvcmlnaW5hbCBpbmxpbmUgc3R5bGVcblx0XHRcdFx0JHRoYXQuZGF0YSgnc3R5bGUtY2FjaGUnLCAkdGhhdC5hdHRyKCdzdHlsZScpKTtcblxuXHRcdFx0XHQkdGhhdC5jc3Moe1xuXHRcdFx0XHRcdCdkaXNwbGF5JzogZGlzcGxheSxcblx0XHRcdFx0XHQncGFkZGluZy10b3AnOiAnMCcsXG5cdFx0XHRcdFx0J3BhZGRpbmctYm90dG9tJzogJzAnLFxuXHRcdFx0XHRcdCdtYXJnaW4tdG9wJzogJzAnLFxuXHRcdFx0XHRcdCdtYXJnaW4tYm90dG9tJzogJzAnLFxuXHRcdFx0XHRcdCdib3JkZXItdG9wLXdpZHRoJzogJzAnLFxuXHRcdFx0XHRcdCdib3JkZXItYm90dG9tLXdpZHRoJzogJzAnLFxuXHRcdFx0XHRcdCdoZWlnaHQnOiAnMTAwcHgnLFxuXHRcdFx0XHRcdCdvdmVyZmxvdyc6ICdoaWRkZW4nXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vIGdldCB0aGUgYXJyYXkgb2Ygcm93cyAoYmFzZWQgb24gZWxlbWVudCB0b3AgcG9zaXRpb24pXG5cdFx0XHRyb3dzID0gX3Jvd3MoJGVsZW1lbnRzKTtcblxuXHRcdFx0Ly8gcmV2ZXJ0IG9yaWdpbmFsIGlubGluZSBzdHlsZXNcblx0XHRcdCRlbGVtZW50cy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgJHRoYXQgPSAkKHRoaXMpO1xuXHRcdFx0XHQkdGhhdC5hdHRyKCdzdHlsZScsICR0aGF0LmRhdGEoJ3N0eWxlLWNhY2hlJykgfHwgJycpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0JC5lYWNoKHJvd3MsIGZ1bmN0aW9uKGtleSwgcm93KSB7XG5cdFx0XHR2YXIgJHJvdyA9ICQocm93KSxcblx0XHRcdFx0dGFyZ2V0SGVpZ2h0ID0gMDtcblxuXHRcdFx0aWYgKCFvcHRzLnRhcmdldCkge1xuXHRcdFx0XHQvLyBza2lwIGFwcGx5IHRvIHJvd3Mgd2l0aCBvbmx5IG9uZSBpdGVtXG5cdFx0XHRcdGlmIChvcHRzLmJ5Um93ICYmICRyb3cubGVuZ3RoIDw9IDEpIHtcblx0XHRcdFx0XHQkcm93LmNzcyhvcHRzLnByb3BlcnR5LCAnJyk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gaXRlcmF0ZSB0aGUgcm93IGFuZCBmaW5kIHRoZSBtYXggaGVpZ2h0XG5cdFx0XHRcdCRyb3cuZWFjaChmdW5jdGlvbigpe1xuXHRcdFx0XHRcdHZhciAkdGhhdCA9ICQodGhpcyksXG5cdFx0XHRcdFx0XHRzdHlsZSA9ICR0aGF0LmF0dHIoJ3N0eWxlJyksXG5cdFx0XHRcdFx0XHRkaXNwbGF5ID0gJHRoYXQuY3NzKCdkaXNwbGF5Jyk7XG5cblx0XHRcdFx0XHQvLyB0ZW1wb3JhcmlseSBmb3JjZSBhIHVzYWJsZSBkaXNwbGF5IHZhbHVlXG5cdFx0XHRcdFx0aWYgKGRpc3BsYXkgIT09ICdpbmxpbmUtYmxvY2snICYmIGRpc3BsYXkgIT09ICdmbGV4JyAmJiBkaXNwbGF5ICE9PSAnaW5saW5lLWZsZXgnKSB7XG5cdFx0XHRcdFx0XHRkaXNwbGF5ID0gJ2Jsb2NrJztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBlbnN1cmUgd2UgZ2V0IHRoZSBjb3JyZWN0IGFjdHVhbCBoZWlnaHQgKGFuZCBub3QgYSBwcmV2aW91c2x5IHNldCBoZWlnaHQgdmFsdWUpXG5cdFx0XHRcdFx0dmFyIGNzcyA9IHsgJ2Rpc3BsYXknOiBkaXNwbGF5IH07XG5cdFx0XHRcdFx0Y3NzW29wdHMucHJvcGVydHldID0gJyc7XG5cdFx0XHRcdFx0JHRoYXQuY3NzKGNzcyk7XG5cblx0XHRcdFx0XHQvLyBmaW5kIHRoZSBtYXggaGVpZ2h0IChpbmNsdWRpbmcgcGFkZGluZywgYnV0IG5vdCBtYXJnaW4pXG5cdFx0XHRcdFx0aWYgKCR0aGF0Lm91dGVySGVpZ2h0KGZhbHNlKSA+IHRhcmdldEhlaWdodCkge1xuXHRcdFx0XHRcdFx0dGFyZ2V0SGVpZ2h0ID0gJHRoYXQub3V0ZXJIZWlnaHQoZmFsc2UpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIHJldmVydCBzdHlsZXNcblx0XHRcdFx0XHRpZiAoc3R5bGUpIHtcblx0XHRcdFx0XHRcdCR0aGF0LmF0dHIoJ3N0eWxlJywgc3R5bGUpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHQkdGhhdC5jc3MoJ2Rpc3BsYXknLCAnJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIGlmIHRhcmdldCBzZXQsIHVzZSB0aGUgaGVpZ2h0IG9mIHRoZSB0YXJnZXQgZWxlbWVudFxuXHRcdFx0XHR0YXJnZXRIZWlnaHQgPSBvcHRzLnRhcmdldC5vdXRlckhlaWdodChmYWxzZSk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGl0ZXJhdGUgdGhlIHJvdyBhbmQgYXBwbHkgdGhlIGhlaWdodCB0byBhbGwgZWxlbWVudHNcblx0XHRcdCRyb3cuZWFjaChmdW5jdGlvbigpe1xuXHRcdFx0XHR2YXIgJHRoYXQgPSAkKHRoaXMpLFxuXHRcdFx0XHRcdHZlcnRpY2FsUGFkZGluZyA9IDA7XG5cblx0XHRcdFx0Ly8gZG9uJ3QgYXBwbHkgdG8gYSB0YXJnZXRcblx0XHRcdFx0aWYgKG9wdHMudGFyZ2V0ICYmICR0aGF0LmlzKG9wdHMudGFyZ2V0KSkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIGhhbmRsZSBwYWRkaW5nIGFuZCBib3JkZXIgY29ycmVjdGx5IChyZXF1aXJlZCB3aGVuIG5vdCB1c2luZyBib3JkZXItYm94KVxuXHRcdFx0XHRpZiAoJHRoYXQuY3NzKCdib3gtc2l6aW5nJykgIT09ICdib3JkZXItYm94Jykge1xuXHRcdFx0XHRcdHZlcnRpY2FsUGFkZGluZyArPSBfcGFyc2UoJHRoYXQuY3NzKCdib3JkZXItdG9wLXdpZHRoJykpICsgX3BhcnNlKCR0aGF0LmNzcygnYm9yZGVyLWJvdHRvbS13aWR0aCcpKTtcblx0XHRcdFx0XHR2ZXJ0aWNhbFBhZGRpbmcgKz0gX3BhcnNlKCR0aGF0LmNzcygncGFkZGluZy10b3AnKSkgKyBfcGFyc2UoJHRoYXQuY3NzKCdwYWRkaW5nLWJvdHRvbScpKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIHNldCB0aGUgaGVpZ2h0IChhY2NvdW50aW5nIGZvciBwYWRkaW5nIGFuZCBib3JkZXIpXG5cdFx0XHRcdCR0aGF0LmNzcyhvcHRzLnByb3BlcnR5LCAodGFyZ2V0SGVpZ2h0IC0gdmVydGljYWxQYWRkaW5nKSArICdweCcpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHQvLyByZXZlcnQgaGlkZGVuIHBhcmVudHNcblx0XHQkaGlkZGVuUGFyZW50cy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyICR0aGF0ID0gJCh0aGlzKTtcblx0XHRcdCR0aGF0LmF0dHIoJ3N0eWxlJywgJHRoYXQuZGF0YSgnc3R5bGUtY2FjaGUnKSB8fCBudWxsKTtcblx0XHR9KTtcblxuXHRcdC8vIHJlc3RvcmUgc2Nyb2xsIHBvc2l0aW9uIGlmIGVuYWJsZWRcblx0XHRpZiAobWF0Y2hIZWlnaHQuX21haW50YWluU2Nyb2xsKSB7XG5cdFx0XHQkKHdpbmRvdykuc2Nyb2xsVG9wKChzY3JvbGxUb3AgLyBodG1sSGVpZ2h0KSAqICQoJ2h0bWwnKS5vdXRlckhlaWdodCh0cnVlKSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0Lypcblx0KiAgbWF0Y2hIZWlnaHQuX2FwcGx5RGF0YUFwaVxuXHQqICBhcHBsaWVzIG1hdGNoSGVpZ2h0IHRvIGFsbCBlbGVtZW50cyB3aXRoIGEgZGF0YS1tYXRjaC1oZWlnaHQgYXR0cmlidXRlXG5cdCovXG5cblx0bWF0Y2hIZWlnaHQuX2FwcGx5RGF0YUFwaSA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBncm91cHMgPSB7fTtcblxuXHRcdC8vIGdlbmVyYXRlIGdyb3VwcyBieSB0aGVpciBncm91cElkIHNldCBieSBlbGVtZW50cyB1c2luZyBkYXRhLW1hdGNoLWhlaWdodFxuXHRcdCQoJ1tkYXRhLW1hdGNoLWhlaWdodF0sIFtkYXRhLW1oXScpLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgJHRoaXMgPSAkKHRoaXMpLFxuXHRcdFx0XHRncm91cElkID0gJHRoaXMuYXR0cignZGF0YS1taCcpIHx8ICR0aGlzLmF0dHIoJ2RhdGEtbWF0Y2gtaGVpZ2h0Jyk7XG5cblx0XHRcdGlmIChncm91cElkIGluIGdyb3Vwcykge1xuXHRcdFx0XHRncm91cHNbZ3JvdXBJZF0gPSBncm91cHNbZ3JvdXBJZF0uYWRkKCR0aGlzKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGdyb3Vwc1tncm91cElkXSA9ICR0aGlzO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gYXBwbHkgbWF0Y2hIZWlnaHQgdG8gZWFjaCBncm91cFxuXHRcdCQuZWFjaChncm91cHMsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5tYXRjaEhlaWdodCh0cnVlKTtcblx0XHR9KTtcblx0fTtcblxuXHQvKlxuXHQqICBtYXRjaEhlaWdodC5fdXBkYXRlXG5cdCogIHVwZGF0ZXMgbWF0Y2hIZWlnaHQgb24gYWxsIGN1cnJlbnQgZ3JvdXBzIHdpdGggdGhlaXIgY29ycmVjdCBvcHRpb25zXG5cdCovXG5cblx0dmFyIF91cGRhdGUgPSBmdW5jdGlvbihldmVudCkge1xuXHRcdGlmIChtYXRjaEhlaWdodC5fYmVmb3JlVXBkYXRlKSB7XG5cdFx0XHRtYXRjaEhlaWdodC5fYmVmb3JlVXBkYXRlKGV2ZW50LCBtYXRjaEhlaWdodC5fZ3JvdXBzKTtcblx0XHR9XG5cblx0XHQkLmVhY2gobWF0Y2hIZWlnaHQuX2dyb3VwcywgZnVuY3Rpb24oKSB7XG5cdFx0XHRtYXRjaEhlaWdodC5fYXBwbHkodGhpcy5lbGVtZW50cywgdGhpcy5vcHRpb25zKTtcblx0XHR9KTtcblxuXHRcdGlmIChtYXRjaEhlaWdodC5fYWZ0ZXJVcGRhdGUpIHtcblx0XHRcdG1hdGNoSGVpZ2h0Ll9hZnRlclVwZGF0ZShldmVudCwgbWF0Y2hIZWlnaHQuX2dyb3Vwcyk7XG5cdFx0fVxuXHR9O1xuXG5cdG1hdGNoSGVpZ2h0Ll91cGRhdGUgPSBmdW5jdGlvbih0aHJvdHRsZSwgZXZlbnQpIHtcblx0XHQvLyBwcmV2ZW50IHVwZGF0ZSBpZiBmaXJlZCBmcm9tIGEgcmVzaXplIGV2ZW50XG5cdFx0Ly8gd2hlcmUgdGhlIHZpZXdwb3J0IHdpZHRoIGhhc24ndCBhY3R1YWxseSBjaGFuZ2VkXG5cdFx0Ly8gZml4ZXMgYW4gZXZlbnQgbG9vcGluZyBidWcgaW4gSUU4XG5cdFx0aWYgKGV2ZW50ICYmIGV2ZW50LnR5cGUgPT09ICdyZXNpemUnKSB7XG5cdFx0XHR2YXIgd2luZG93V2lkdGggPSAkKHdpbmRvdykud2lkdGgoKTtcblx0XHRcdGlmICh3aW5kb3dXaWR0aCA9PT0gX3ByZXZpb3VzUmVzaXplV2lkdGgpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0X3ByZXZpb3VzUmVzaXplV2lkdGggPSB3aW5kb3dXaWR0aDtcblx0XHR9XG5cblx0XHQvLyB0aHJvdHRsZSB1cGRhdGVzXG5cdFx0aWYgKCF0aHJvdHRsZSkge1xuXHRcdFx0X3VwZGF0ZShldmVudCk7XG5cdFx0fSBlbHNlIGlmIChfdXBkYXRlVGltZW91dCA9PT0gLTEpIHtcblx0XHRcdF91cGRhdGVUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0X3VwZGF0ZShldmVudCk7XG5cdFx0XHRcdF91cGRhdGVUaW1lb3V0ID0gLTE7XG5cdFx0XHR9LCBtYXRjaEhlaWdodC5fdGhyb3R0bGUpO1xuXHRcdH1cblx0fTtcblxuXHQvKlxuXHQqICBiaW5kIGV2ZW50c1xuXHQqL1xuXG5cdC8vIGFwcGx5IG9uIERPTSByZWFkeSBldmVudFxuXHQkKG1hdGNoSGVpZ2h0Ll9hcHBseURhdGFBcGkpO1xuXG5cdC8vIHVwZGF0ZSBoZWlnaHRzIG9uIGxvYWQgYW5kIHJlc2l6ZSBldmVudHNcblx0JCh3aW5kb3cpLmJpbmQoJ2xvYWQnLCBmdW5jdGlvbihldmVudCkge1xuXHRcdG1hdGNoSGVpZ2h0Ll91cGRhdGUoZmFsc2UsIGV2ZW50KTtcblx0fSk7XG5cblx0Ly8gdGhyb3R0bGVkIHVwZGF0ZSBoZWlnaHRzIG9uIHJlc2l6ZSBldmVudHNcblx0JCh3aW5kb3cpLmJpbmQoJ3Jlc2l6ZSBvcmllbnRhdGlvbmNoYW5nZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0bWF0Y2hIZWlnaHQuX3VwZGF0ZSh0cnVlLCBldmVudCk7XG5cdH0pO1xuXG59KTsiXX0=
