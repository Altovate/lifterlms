+function(t){"use strict";function e(e){var a,s=e.attr("data-target")||(a=e.attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,"");return t(s)}function a(e){return this.each(function(){var a=t(this),i=a.data("bs.collapse"),n=t.extend({},s.DEFAULTS,a.data(),"object"==typeof e&&e);!i&&n.toggle&&/show|hide/.test(e)&&(n.toggle=!1),i||a.data("bs.collapse",i=new s(this,n)),"string"==typeof e&&i[e]()})}var s=function(e,a){this.$element=t(e),this.options=t.extend({},s.DEFAULTS,a),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};s.VERSION="3.3.5",s.TRANSITION_DURATION=350,s.DEFAULTS={toggle:!0},s.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},s.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,i=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(i&&i.length&&(e=i.data("bs.collapse"),e&&e.transitioning))){var n=t.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){i&&i.length&&(a.call(i,"hide"),e||i.data("bs.collapse",null));var l=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[l](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[l](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return o.call(this);var r=t.camelCase(["scroll",l].join("-"));this.$element.one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(s.TRANSITION_DURATION)[l](this.$element[0][r])}}}},s.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var a=this.dimension();this.$element[a](this.$element[a]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[a](0).one("bsTransitionEnd",t.proxy(i,this)).emulateTransitionEnd(s.TRANSITION_DURATION):i.call(this)}}},s.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},s.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(a,s){var i=t(s);this.addAriaAndCollapsedClass(e(i),i)},this)).end()},s.prototype.addAriaAndCollapsedClass=function(t,e){var a=t.hasClass("in");t.attr("aria-expanded",a),e.toggleClass("collapsed",!a).attr("aria-expanded",a)};var i=t.fn.collapse;t.fn.collapse=a,t.fn.collapse.Constructor=s,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(s){var i=t(this);i.attr("data-target")||s.preventDefault();var n=e(i),l=n.data("bs.collapse"),o=l?"toggle":i.data();a.call(n,o)})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZlbmRvci9jb2xsYXBzZS5qcyJdLCJuYW1lcyI6WyIkIiwiZ2V0VGFyZ2V0RnJvbVRyaWdnZXIiLCIkdHJpZ2dlciIsImhyZWYiLCJ0YXJnZXQiLCJhdHRyIiwicmVwbGFjZSIsIlBsdWdpbiIsIm9wdGlvbiIsInRoaXMiLCJlYWNoIiwiJHRoaXMiLCJkYXRhIiwib3B0aW9ucyIsImV4dGVuZCIsIkNvbGxhcHNlIiwiREVGQVVMVFMiLCJ0b2dnbGUiLCJ0ZXN0IiwiZWxlbWVudCIsIiRlbGVtZW50IiwiaWQiLCJ0cmFuc2l0aW9uaW5nIiwicGFyZW50IiwiJHBhcmVudCIsImdldFBhcmVudCIsImFkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyIsIlZFUlNJT04iLCJUUkFOU0lUSU9OX0RVUkFUSU9OIiwicHJvdG90eXBlIiwiZGltZW5zaW9uIiwiaGFzV2lkdGgiLCJoYXNDbGFzcyIsInNob3ciLCJhY3RpdmVzRGF0YSIsImFjdGl2ZXMiLCJjaGlsZHJlbiIsImxlbmd0aCIsInN0YXJ0RXZlbnQiLCJFdmVudCIsInRyaWdnZXIiLCJpc0RlZmF1bHRQcmV2ZW50ZWQiLCJjYWxsIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsImNvbXBsZXRlIiwic3VwcG9ydCIsInRyYW5zaXRpb24iLCJzY3JvbGxTaXplIiwiY2FtZWxDYXNlIiwiam9pbiIsIm9uZSIsInByb3h5IiwiZW11bGF0ZVRyYW5zaXRpb25FbmQiLCJoaWRlIiwib2Zmc2V0SGVpZ2h0IiwiZmluZCIsImkiLCJlbmQiLCJpc09wZW4iLCJ0b2dnbGVDbGFzcyIsIm9sZCIsImZuIiwiY29sbGFwc2UiLCJDb25zdHJ1Y3RvciIsIm5vQ29uZmxpY3QiLCJkb2N1bWVudCIsIm9uIiwiZSIsInByZXZlbnREZWZhdWx0IiwiJHRhcmdldCIsImpRdWVyeSJdLCJtYXBwaW5ncyI6IkNBU0MsU0FBVUEsR0FDVCxZQWtKQSxTQUFTQyxHQUFxQkMsR0FDNUIsR0FBSUMsR0FDQUMsRUFBU0YsRUFBU0csS0FBSyxpQkFDckJGLEVBQU9ELEVBQVNHLEtBQUssVUFBWUYsRUFBS0csUUFBUSxpQkFBa0IsR0FFdEUsT0FBT04sR0FBRUksR0FPWCxRQUFTRyxHQUFPQyxHQUNkLE1BQU9DLE1BQUtDLEtBQUssV0FDZixHQUFJQyxHQUFVWCxFQUFFUyxNQUNaRyxFQUFVRCxFQUFNQyxLQUFLLGVBQ3JCQyxFQUFVYixFQUFFYyxVQUFXQyxFQUFTQyxTQUFVTCxFQUFNQyxPQUF5QixnQkFBVkosSUFBc0JBLElBRXBGSSxHQUFRQyxFQUFRSSxRQUFVLFlBQVlDLEtBQUtWLEtBQVNLLEVBQVFJLFFBQVMsR0FDckVMLEdBQU1ELEVBQU1DLEtBQUssY0FBZ0JBLEVBQU8sR0FBSUcsR0FBU04sS0FBTUksSUFDM0MsZ0JBQVZMLElBQW9CSSxFQUFLSixPQWpLeEMsR0FBSU8sR0FBVyxTQUFVSSxFQUFTTixHQUNoQ0osS0FBS1csU0FBZ0JwQixFQUFFbUIsR0FDdkJWLEtBQUtJLFFBQWdCYixFQUFFYyxVQUFXQyxFQUFTQyxTQUFVSCxHQUNyREosS0FBS1AsU0FBZ0JGLEVBQUUsbUNBQXFDbUIsRUFBUUUsR0FBSyw2Q0FDTkYsRUFBUUUsR0FBSyxNQUNoRlosS0FBS2EsY0FBZ0IsS0FFakJiLEtBQUtJLFFBQVFVLE9BQ2ZkLEtBQUtlLFFBQVVmLEtBQUtnQixZQUVwQmhCLEtBQUtpQix5QkFBeUJqQixLQUFLVyxTQUFVWCxLQUFLUCxVQUdoRE8sS0FBS0ksUUFBUUksUUFBUVIsS0FBS1EsU0FHaENGLEdBQVNZLFFBQVcsUUFFcEJaLEVBQVNhLG9CQUFzQixJQUUvQmIsRUFBU0MsVUFDUEMsUUFBUSxHQUdWRixFQUFTYyxVQUFVQyxVQUFZLFdBQzdCLEdBQUlDLEdBQVd0QixLQUFLVyxTQUFTWSxTQUFTLFFBQ3RDLE9BQU9ELEdBQVcsUUFBVSxVQUc5QmhCLEVBQVNjLFVBQVVJLEtBQU8sV0FDeEIsSUFBSXhCLEtBQUthLGdCQUFpQmIsS0FBS1csU0FBU1ksU0FBUyxNQUFqRCxDQUVBLEdBQUlFLEdBQ0FDLEVBQVUxQixLQUFLZSxTQUFXZixLQUFLZSxRQUFRWSxTQUFTLFVBQVVBLFNBQVMsbUJBRXZFLE1BQUlELEdBQVdBLEVBQVFFLFNBQ3JCSCxFQUFjQyxFQUFRdkIsS0FBSyxlQUN2QnNCLEdBQWVBLEVBQVlaLGdCQUZqQyxDQUtBLEdBQUlnQixHQUFhdEMsRUFBRXVDLE1BQU0sbUJBRXpCLElBREE5QixLQUFLVyxTQUFTb0IsUUFBUUYsSUFDbEJBLEVBQVdHLHFCQUFmLENBRUlOLEdBQVdBLEVBQVFFLFNBQ3JCOUIsRUFBT21DLEtBQUtQLEVBQVMsUUFDckJELEdBQWVDLEVBQVF2QixLQUFLLGNBQWUsTUFHN0MsSUFBSWtCLEdBQVlyQixLQUFLcUIsV0FFckJyQixNQUFLVyxTQUNGdUIsWUFBWSxZQUNaQyxTQUFTLGNBQWNkLEdBQVcsR0FDbEN6QixLQUFLLGlCQUFpQixHQUV6QkksS0FBS1AsU0FDRnlDLFlBQVksYUFDWnRDLEtBQUssaUJBQWlCLEdBRXpCSSxLQUFLYSxjQUFnQixDQUVyQixJQUFJdUIsR0FBVyxXQUNicEMsS0FBS1csU0FDRnVCLFlBQVksY0FDWkMsU0FBUyxlQUFlZCxHQUFXLElBQ3RDckIsS0FBS2EsY0FBZ0IsRUFDckJiLEtBQUtXLFNBQ0ZvQixRQUFRLHFCQUdiLEtBQUt4QyxFQUFFOEMsUUFBUUMsV0FBWSxNQUFPRixHQUFTSCxLQUFLakMsS0FFaEQsSUFBSXVDLEdBQWFoRCxFQUFFaUQsV0FBVyxTQUFVbkIsR0FBV29CLEtBQUssS0FFeER6QyxNQUFLVyxTQUNGK0IsSUFBSSxrQkFBbUJuRCxFQUFFb0QsTUFBTVAsRUFBVXBDLE9BQ3pDNEMscUJBQXFCdEMsRUFBU2EscUJBQXFCRSxHQUFXckIsS0FBS1csU0FBUyxHQUFHNEIsUUFHcEZqQyxFQUFTYyxVQUFVeUIsS0FBTyxXQUN4QixJQUFJN0MsS0FBS2EsZUFBa0JiLEtBQUtXLFNBQVNZLFNBQVMsTUFBbEQsQ0FFQSxHQUFJTSxHQUFhdEMsRUFBRXVDLE1BQU0sbUJBRXpCLElBREE5QixLQUFLVyxTQUFTb0IsUUFBUUYsSUFDbEJBLEVBQVdHLHFCQUFmLENBRUEsR0FBSVgsR0FBWXJCLEtBQUtxQixXQUVyQnJCLE1BQUtXLFNBQVNVLEdBQVdyQixLQUFLVyxTQUFTVSxNQUFjLEdBQUd5QixhQUV4RDlDLEtBQUtXLFNBQ0Z3QixTQUFTLGNBQ1RELFlBQVksZUFDWnRDLEtBQUssaUJBQWlCLEdBRXpCSSxLQUFLUCxTQUNGMEMsU0FBUyxhQUNUdkMsS0FBSyxpQkFBaUIsR0FFekJJLEtBQUthLGNBQWdCLENBRXJCLElBQUl1QixHQUFXLFdBQ2JwQyxLQUFLYSxjQUFnQixFQUNyQmIsS0FBS1csU0FDRnVCLFlBQVksY0FDWkMsU0FBUyxZQUNUSixRQUFRLHNCQUdiLE9BQUt4QyxHQUFFOEMsUUFBUUMsZUFFZnRDLE1BQUtXLFNBQ0ZVLEdBQVcsR0FDWHFCLElBQUksa0JBQW1CbkQsRUFBRW9ELE1BQU1QLEVBQVVwQyxPQUN6QzRDLHFCQUFxQnRDLEVBQVNhLHFCQUxDaUIsRUFBU0gsS0FBS2pDLFNBUWxETSxFQUFTYyxVQUFVWixPQUFTLFdBQzFCUixLQUFLQSxLQUFLVyxTQUFTWSxTQUFTLE1BQVEsT0FBUyxXQUcvQ2pCLEVBQVNjLFVBQVVKLFVBQVksV0FDN0IsTUFBT3pCLEdBQUVTLEtBQUtJLFFBQVFVLFFBQ25CaUMsS0FBSyx5Q0FBMkMvQyxLQUFLSSxRQUFRVSxPQUFTLE1BQ3RFYixLQUFLVixFQUFFb0QsTUFBTSxTQUFVSyxFQUFHdEMsR0FDekIsR0FBSUMsR0FBV3BCLEVBQUVtQixFQUNqQlYsTUFBS2lCLHlCQUF5QnpCLEVBQXFCbUIsR0FBV0EsSUFDN0RYLE9BQ0ZpRCxPQUdMM0MsRUFBU2MsVUFBVUgseUJBQTJCLFNBQVVOLEVBQVVsQixHQUNoRSxHQUFJeUQsR0FBU3ZDLEVBQVNZLFNBQVMsS0FFL0JaLEdBQVNmLEtBQUssZ0JBQWlCc0QsR0FDL0J6RCxFQUNHMEQsWUFBWSxhQUFjRCxHQUMxQnRELEtBQUssZ0JBQWlCc0QsR0EyQjNCLElBQUlFLEdBQU03RCxFQUFFOEQsR0FBR0MsUUFFZi9ELEdBQUU4RCxHQUFHQyxTQUF1QnhELEVBQzVCUCxFQUFFOEQsR0FBR0MsU0FBU0MsWUFBY2pELEVBTTVCZixFQUFFOEQsR0FBR0MsU0FBU0UsV0FBYSxXQUV6QixNQURBakUsR0FBRThELEdBQUdDLFNBQVdGLEVBQ1RwRCxNQU9UVCxFQUFFa0UsVUFBVUMsR0FBRyw2QkFBOEIsMkJBQTRCLFNBQVVDLEdBQ2pGLEdBQUl6RCxHQUFVWCxFQUFFUyxLQUVYRSxHQUFNTixLQUFLLGdCQUFnQitELEVBQUVDLGdCQUVsQyxJQUFJQyxHQUFVckUsRUFBcUJVLEdBQy9CQyxFQUFVMEQsRUFBUTFELEtBQUssZUFDdkJKLEVBQVVJLEVBQU8sU0FBV0QsRUFBTUMsTUFFdENMLEdBQU9tQyxLQUFLNEIsRUFBUzlELE1BR3ZCK0QiLCJmaWxlIjoidmVuZG9yL2NvbGxhcHNlLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBjb2xsYXBzZS5qcyB2My4zLjVcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI2NvbGxhcHNlXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTUgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gQ09MTEFQU0UgUFVCTElDIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgQ29sbGFwc2UgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMuJGVsZW1lbnQgICAgICA9ICQoZWxlbWVudClcbiAgICB0aGlzLm9wdGlvbnMgICAgICAgPSAkLmV4dGVuZCh7fSwgQ29sbGFwc2UuREVGQVVMVFMsIG9wdGlvbnMpXG4gICAgdGhpcy4kdHJpZ2dlciAgICAgID0gJCgnW2RhdGEtdG9nZ2xlPVwiY29sbGFwc2VcIl1baHJlZj1cIiMnICsgZWxlbWVudC5pZCArICdcIl0sJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAnW2RhdGEtdG9nZ2xlPVwiY29sbGFwc2VcIl1bZGF0YS10YXJnZXQ9XCIjJyArIGVsZW1lbnQuaWQgKyAnXCJdJylcbiAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSBudWxsXG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnBhcmVudCkge1xuICAgICAgdGhpcy4kcGFyZW50ID0gdGhpcy5nZXRQYXJlbnQoKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyh0aGlzLiRlbGVtZW50LCB0aGlzLiR0cmlnZ2VyKVxuICAgIH1cblxuICAgIGlmICh0aGlzLm9wdGlvbnMudG9nZ2xlKSB0aGlzLnRvZ2dsZSgpXG4gIH1cblxuICBDb2xsYXBzZS5WRVJTSU9OICA9ICczLjMuNSdcblxuICBDb2xsYXBzZS5UUkFOU0lUSU9OX0RVUkFUSU9OID0gMzUwXG5cbiAgQ29sbGFwc2UuREVGQVVMVFMgPSB7XG4gICAgdG9nZ2xlOiB0cnVlXG4gIH1cblxuICBDb2xsYXBzZS5wcm90b3R5cGUuZGltZW5zaW9uID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBoYXNXaWR0aCA9IHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ3dpZHRoJylcbiAgICByZXR1cm4gaGFzV2lkdGggPyAnd2lkdGgnIDogJ2hlaWdodCdcbiAgfVxuXG4gIENvbGxhcHNlLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnRyYW5zaXRpb25pbmcgfHwgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnaW4nKSkgcmV0dXJuXG5cbiAgICB2YXIgYWN0aXZlc0RhdGFcbiAgICB2YXIgYWN0aXZlcyA9IHRoaXMuJHBhcmVudCAmJiB0aGlzLiRwYXJlbnQuY2hpbGRyZW4oJy5wYW5lbCcpLmNoaWxkcmVuKCcuaW4sIC5jb2xsYXBzaW5nJylcblxuICAgIGlmIChhY3RpdmVzICYmIGFjdGl2ZXMubGVuZ3RoKSB7XG4gICAgICBhY3RpdmVzRGF0YSA9IGFjdGl2ZXMuZGF0YSgnYnMuY29sbGFwc2UnKVxuICAgICAgaWYgKGFjdGl2ZXNEYXRhICYmIGFjdGl2ZXNEYXRhLnRyYW5zaXRpb25pbmcpIHJldHVyblxuICAgIH1cblxuICAgIHZhciBzdGFydEV2ZW50ID0gJC5FdmVudCgnc2hvdy5icy5jb2xsYXBzZScpXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKHN0YXJ0RXZlbnQpXG4gICAgaWYgKHN0YXJ0RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgaWYgKGFjdGl2ZXMgJiYgYWN0aXZlcy5sZW5ndGgpIHtcbiAgICAgIFBsdWdpbi5jYWxsKGFjdGl2ZXMsICdoaWRlJylcbiAgICAgIGFjdGl2ZXNEYXRhIHx8IGFjdGl2ZXMuZGF0YSgnYnMuY29sbGFwc2UnLCBudWxsKVxuICAgIH1cblxuICAgIHZhciBkaW1lbnNpb24gPSB0aGlzLmRpbWVuc2lvbigpXG5cbiAgICB0aGlzLiRlbGVtZW50XG4gICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlJylcbiAgICAgIC5hZGRDbGFzcygnY29sbGFwc2luZycpW2RpbWVuc2lvbl0oMClcbiAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSlcblxuICAgIHRoaXMuJHRyaWdnZXJcbiAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2VkJylcbiAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSlcblxuICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IDFcblxuICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzaW5nJylcbiAgICAgICAgLmFkZENsYXNzKCdjb2xsYXBzZSBpbicpW2RpbWVuc2lvbl0oJycpXG4gICAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAwXG4gICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgIC50cmlnZ2VyKCdzaG93bi5icy5jb2xsYXBzZScpXG4gICAgfVxuXG4gICAgaWYgKCEkLnN1cHBvcnQudHJhbnNpdGlvbikgcmV0dXJuIGNvbXBsZXRlLmNhbGwodGhpcylcblxuICAgIHZhciBzY3JvbGxTaXplID0gJC5jYW1lbENhc2UoWydzY3JvbGwnLCBkaW1lbnNpb25dLmpvaW4oJy0nKSlcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsICQucHJveHkoY29tcGxldGUsIHRoaXMpKVxuICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKENvbGxhcHNlLlRSQU5TSVRJT05fRFVSQVRJT04pW2RpbWVuc2lvbl0odGhpcy4kZWxlbWVudFswXVtzY3JvbGxTaXplXSlcbiAgfVxuXG4gIENvbGxhcHNlLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnRyYW5zaXRpb25pbmcgfHwgIXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2luJykpIHJldHVyblxuXG4gICAgdmFyIHN0YXJ0RXZlbnQgPSAkLkV2ZW50KCdoaWRlLmJzLmNvbGxhcHNlJylcbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc3RhcnRFdmVudClcbiAgICBpZiAoc3RhcnRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICB2YXIgZGltZW5zaW9uID0gdGhpcy5kaW1lbnNpb24oKVxuXG4gICAgdGhpcy4kZWxlbWVudFtkaW1lbnNpb25dKHRoaXMuJGVsZW1lbnRbZGltZW5zaW9uXSgpKVswXS5vZmZzZXRIZWlnaHRcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5hZGRDbGFzcygnY29sbGFwc2luZycpXG4gICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlIGluJylcbiAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgZmFsc2UpXG5cbiAgICB0aGlzLiR0cmlnZ2VyXG4gICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNlZCcpXG4gICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIGZhbHNlKVxuXG4gICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMVxuXG4gICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMFxuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNpbmcnKVxuICAgICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNlJylcbiAgICAgICAgLnRyaWdnZXIoJ2hpZGRlbi5icy5jb2xsYXBzZScpXG4gICAgfVxuXG4gICAgaWYgKCEkLnN1cHBvcnQudHJhbnNpdGlvbikgcmV0dXJuIGNvbXBsZXRlLmNhbGwodGhpcylcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIFtkaW1lbnNpb25dKDApXG4gICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCAkLnByb3h5KGNvbXBsZXRlLCB0aGlzKSlcbiAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChDb2xsYXBzZS5UUkFOU0lUSU9OX0RVUkFUSU9OKVxuICB9XG5cbiAgQ29sbGFwc2UucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzW3RoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2luJykgPyAnaGlkZScgOiAnc2hvdyddKClcbiAgfVxuXG4gIENvbGxhcHNlLnByb3RvdHlwZS5nZXRQYXJlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICQodGhpcy5vcHRpb25zLnBhcmVudClcbiAgICAgIC5maW5kKCdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXVtkYXRhLXBhcmVudD1cIicgKyB0aGlzLm9wdGlvbnMucGFyZW50ICsgJ1wiXScpXG4gICAgICAuZWFjaCgkLnByb3h5KGZ1bmN0aW9uIChpLCBlbGVtZW50KSB7XG4gICAgICAgIHZhciAkZWxlbWVudCA9ICQoZWxlbWVudClcbiAgICAgICAgdGhpcy5hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3MoZ2V0VGFyZ2V0RnJvbVRyaWdnZXIoJGVsZW1lbnQpLCAkZWxlbWVudClcbiAgICAgIH0sIHRoaXMpKVxuICAgICAgLmVuZCgpXG4gIH1cblxuICBDb2xsYXBzZS5wcm90b3R5cGUuYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzID0gZnVuY3Rpb24gKCRlbGVtZW50LCAkdHJpZ2dlcikge1xuICAgIHZhciBpc09wZW4gPSAkZWxlbWVudC5oYXNDbGFzcygnaW4nKVxuXG4gICAgJGVsZW1lbnQuYXR0cignYXJpYS1leHBhbmRlZCcsIGlzT3BlbilcbiAgICAkdHJpZ2dlclxuICAgICAgLnRvZ2dsZUNsYXNzKCdjb2xsYXBzZWQnLCAhaXNPcGVuKVxuICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBpc09wZW4pXG4gIH1cblxuICBmdW5jdGlvbiBnZXRUYXJnZXRGcm9tVHJpZ2dlcigkdHJpZ2dlcikge1xuICAgIHZhciBocmVmXG4gICAgdmFyIHRhcmdldCA9ICR0cmlnZ2VyLmF0dHIoJ2RhdGEtdGFyZ2V0JylcbiAgICAgIHx8IChocmVmID0gJHRyaWdnZXIuYXR0cignaHJlZicpKSAmJiBocmVmLnJlcGxhY2UoLy4qKD89I1teXFxzXSskKS8sICcnKSAvLyBzdHJpcCBmb3IgaWU3XG5cbiAgICByZXR1cm4gJCh0YXJnZXQpXG4gIH1cblxuXG4gIC8vIENPTExBUFNFIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLmNvbGxhcHNlJylcbiAgICAgIHZhciBvcHRpb25zID0gJC5leHRlbmQoe30sIENvbGxhcHNlLkRFRkFVTFRTLCAkdGhpcy5kYXRhKCksIHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uKVxuXG4gICAgICBpZiAoIWRhdGEgJiYgb3B0aW9ucy50b2dnbGUgJiYgL3Nob3d8aGlkZS8udGVzdChvcHRpb24pKSBvcHRpb25zLnRvZ2dsZSA9IGZhbHNlXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLmNvbGxhcHNlJywgKGRhdGEgPSBuZXcgQ29sbGFwc2UodGhpcywgb3B0aW9ucykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLmNvbGxhcHNlXG5cbiAgJC5mbi5jb2xsYXBzZSAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLmNvbGxhcHNlLkNvbnN0cnVjdG9yID0gQ29sbGFwc2VcblxuXG4gIC8vIENPTExBUFNFIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5jb2xsYXBzZS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uY29sbGFwc2UgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBDT0xMQVBTRSBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PT09PVxuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljay5icy5jb2xsYXBzZS5kYXRhLWFwaScsICdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXScsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG5cbiAgICBpZiAoISR0aGlzLmF0dHIoJ2RhdGEtdGFyZ2V0JykpIGUucHJldmVudERlZmF1bHQoKVxuXG4gICAgdmFyICR0YXJnZXQgPSBnZXRUYXJnZXRGcm9tVHJpZ2dlcigkdGhpcylcbiAgICB2YXIgZGF0YSAgICA9ICR0YXJnZXQuZGF0YSgnYnMuY29sbGFwc2UnKVxuICAgIHZhciBvcHRpb24gID0gZGF0YSA/ICd0b2dnbGUnIDogJHRoaXMuZGF0YSgpXG5cbiAgICBQbHVnaW4uY2FsbCgkdGFyZ2V0LCBvcHRpb24pXG4gIH0pXG5cbn0oalF1ZXJ5KTsiXX0=
