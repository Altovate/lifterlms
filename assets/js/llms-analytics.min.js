function drawChart(){var e=google.visualization.arrayToDataTable(myJson),t={title:"Sales Volume",hAxis:{title:"Date Range",titleTextStyle:{color:"#333"}},vAxis:{minValue:0}},a=new google.visualization.AreaChart(document.getElementById("chart_div"));a.draw(e,t)}function drawChart2(){var e=google.visualization.arrayToDataTable(enrolled_students),t={title:"Student Enrollment",legend:{position:"bottom"}},a=new google.visualization.LineChart(document.getElementById("curve_chart"));a.draw(e,t)}function drawChart3(){var e=50*lesson_completion_percent.length+100,t=google.visualization.arrayToDataTable(lesson_completion_percent),a={title:"Lesson Completion Percentage",legend:{position:"bottom"},height:e,hAxis:{title:"Percentage",titleTextStyle:{color:"#333"},minValue:0,maxValue:100},vAxis:{title:"Lesson"}},l=new google.visualization.BarChart(document.getElementById("lesson-completion-chart"));l.draw(t,a)}function drawTable(){var e=new google.visualization.DataTable;e.addColumn("string","Last"),e.addColumn("string","First"),e.addColumn("string","Enrolled"),e.addColumn("string","Completion"),e.addColumn("string","Last Lesson Completed"),e.addColumn("string","View"),e.addRows(students_result_large);var t=new google.visualization.Table(document.getElementById("table_div"));t.draw(e,{showRowNumber:!0,allowHtml:!0})}function drawTableSmall(){var e=new google.visualization.DataTable;e.addColumn("string","Last"),e.addColumn("string","First"),e.addColumn("string","View"),e.addRows(students_result_small);var t=new google.visualization.Table(document.getElementById("table_div"));t.draw(e,{showRowNumber:!0,allowHtml:!0})}function draw_enrolled_members_chart(){var e=google.visualization.arrayToDataTable(enrolled_members),t={title:"Membership Enrollment by Day",legend:{position:"bottom"}},a=new google.visualization.LineChart(document.getElementById("enrolled_members_chart"));a.draw(e,t)}function draw_member_table(){var e=new google.visualization.DataTable;e.addColumn("string","Last"),e.addColumn("string","First"),e.addColumn("string","Enrolled"),e.addColumn("string","Expires"),e.addColumn("string","View"),e.addRows(members_result_large);var t=new google.visualization.Table(document.getElementById("members_table"));t.draw(e,{showRowNumber:!0,allowHtml:!0})}function draw_member_table_small(){var e=new google.visualization.DataTable;e.addColumn("string","Last"),e.addColumn("string","First"),e.addColumn("string","View"),e.addRows(members_result_small);var t=new google.visualization.Table(document.getElementById("members_table"));t.draw(e,{showRowNumber:!0,allowHtml:!0})}function draw_student_search_results_table(){var e=new google.visualization.DataTable;e.addColumn("string","Last"),e.addColumn("string","First"),e.addColumn("string","Email"),e.addColumn("string","View"),e.addRows(students_search_result_large);var t=new google.visualization.Table(document.getElementById("student_search_results"));t.draw(e,{showRowNumber:!0,allowHtml:!0})}function draw_student_course_table(){var e=new google.visualization.DataTable;e.addColumn("string","Course"),e.addColumn("string","Enrolled Date"),e.addColumn("string","Status"),e.addColumn("string","Progress"),e.addRows(student_course_list);var t=new google.visualization.Table(document.getElementById("student_course_table"));t.draw(e,{showRowNumber:!0,allowHtml:!0})}function draw_student_membership_table(){var e=new google.visualization.DataTable;e.addColumn("string","membership"),e.addColumn("string","Enrolled Date"),e.addColumn("string","Status"),e.addRows(student_membership_list);var t=new google.visualization.Table(document.getElementById("student_membership_table"));t.draw(e,{showRowNumber:!0,allowHtml:!0})}!function(e){window.llms=window.llms||{},window.llms.analytics=function(){return this.timeout=5e3,this.data=e.parseJSON(e("#llms-analytics-json").text()),this.$widgets=e(".llms-widget"),this.init=function(){this.bind(),this.load_widgets()},this.bind=function(){e(".llms-datepicker").datepicker({dateFormat:"yy-mm-dd",maxDate:0})},this.load_widgets=function(){var t=this;this.$widgets.each(function(){t.load_widget(e(this))})},this.load_widget=function(t){var a,l=this,o=t.attr("data-method"),n=t.find("h1"),s=t.find(".llms-reload-widget"),i="Unknown error";t.addClass("is-loading"),e.ajax({data:{action:"llms_widget_"+o,dates:l.data.dates},method:"POST",timeout:l.timeout,url:window.ajaxurl,success:function(e){a="success",e.response&&(i=e.response)},error:function(e){a="error"},complete:function(o){console.log(o),"error"===a&&(i="timeout"===o.statusText?"Request timed out":"Unknown error",s.length||(s=e('<a class="llms-reload-widget" href="#">Retry</a>'),s.on("click",function(e){e.preventDefault(),l.load_widget(t)}),t.append(s))),t.removeClass("is-loading"),n.text(i)}})},this.init(),this},new window.llms.analytics}(jQuery),jQuery(document).ready(function(e){var t={".chosen-select":{},".chosen-select-deselect":{allow_single_deselect:!0},".chosen-select-no-single":{disable_search_threshold:10},".chosen-select-no-results":{no_results_text:"Oops, nothing found!"},".chosen-select-width":{width:"100%"}};for(var a in t)e(a).chosen(t[a]);e(".llms-date-range-select-start").datepicker(),e(".llms-date-range-select-end").datepicker();var l=get_query_var();"llms-analytics"===l.page&&"sales"===l.tab||"llms-analytics"===l.page&&!("tab"in l)?(google.setOnLoadCallback(drawChart),e(window).resize(function(){drawChart()})):"llms-analytics"===l.page&&"courses"===l.tab?(google.setOnLoadCallback(drawChart2),google.setOnLoadCallback(drawChart3),e(window).width()<=768?google.setOnLoadCallback(drawTableSmall):google.setOnLoadCallback(drawTable),e(window).resize(function(){e(window).width()<=768?drawTableSmall():drawTable(),drawChart2(),drawChart3()})):"llms-analytics"===l.page&&"memberships"===l.tab?(google.setOnLoadCallback(draw_enrolled_members_chart),e(window).width()<=768?google.setOnLoadCallback(draw_member_table_small):google.setOnLoadCallback(draw_member_table),e(window).resize(function(){e(window).width()<=768?draw_member_table_small():draw_member_table(),draw_enrolled_members_chart()})):"llms-students"===l.page&&!("tab"in l)||"llms-students"===l.page&&"dashboard"===l.tab?("all_products"===e(".chosen-select-width").chosen().val()&&(e("#include_expired_users").hide(),e("#exp_users_filter").attr("checked",!1)),e(".chosen-select-width").chosen().change(function(){"all_products"==e(".chosen-select-width").chosen().val()?(e("#include_expired_users").hide(),e("#exp_users_filter").attr("checked",!1)):e("#include_expired_users").show()}),google.setOnLoadCallback(draw_student_search_results_table),e(window).resize(function(){draw_student_search_results_table()})):"llms-students"===l.page&&"profile"===l.tab&&(google.setOnLoadCallback(draw_student_course_table),google.setOnLoadCallback(draw_student_membership_table),e(window).resize(function(){draw_student_course_table()}))}),google.load("visualization","1",{packages:["corechart","table"]}),get_query_var=function(){for(var e,t=[],a=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),l=0;l<a.length;l++)e=a[l].split("="),t.push(e[0]),t[e[0]]=e[1];return t};