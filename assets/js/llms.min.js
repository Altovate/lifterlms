var LLMS=window.LLMS||{};!function(t){"use strict";LLMS.Achievements={init:function(){var e=this;t(".llms-achievement")&&t(document).on("ready",function(){e.bind(),e.maybe_open()})},bind:function(){var e=this;t(".llms-achievement").each(function(){e.create_modal(t(this))}),t(".llms-achievement").on("click",function(){var n=t(this),i="achievement-"+n.attr("data-id"),s=t("#"+i);s.length||e.create_modal(n),s.iziModal("open")})},create_modal:function(e){var n="achievement-"+e.attr("data-id"),i=t("#"+n);i.length||(i=t('<div class="llms-achievement-modal" id="'+n+'" />'),t("body").append(i)),i.iziModal({headerColor:"#3a3a3a",group:"achievements",history:!0,loop:!0,overlayColor:"rgba( 0, 0, 0, 0.6 )",transitionIn:"fadeInDown",transitionOut:"fadeOutDown",width:340,onOpening:function(t){t.setTitle(e.find(".llms-achievement-title").html()),t.setSubtitle(e.find(".llms-achievement-date").html()),t.setContent('<div class="llms-achievement">'+e.html()+"</div>")},onClosing:function(){window.history.pushState("",document.title,window.location.pathname+window.location.search)}})},maybe_open:function(){var e=window.location.hash;e&&-1!==e.indexOf("achievement-")&&t('a[href="'+e+'"]').first().trigger("click")}},LLMS.Ajax={url:window.ajaxurl||window.llms.ajaxurl,type:"post",data:[],cache:!1,dataType:"json",async:!0,response:[],init:function(e){if(null===e||"object"!=typeof e)return!1;e.url="url"in e?e.url:this.url,e.type="type"in e?e.type:this.type,e.data="data"in e?e.data:this.data,e.cache="cache"in e?e.cache:this.cache,e.dataType="dataType"in e?e.dataType:this.dataType,e.async="async"in e?e.async:this.async,e.data._ajax_nonce=wp_ajax_data.nonce;var n=LLMS.Rest,i=n.get_query_vars();return e.data.post_id="post"in i?i.post:null,!e.data.post_id&&t("input#post_ID").length&&(e.data.post_id=t("input#post_ID").val()),e},call:function(t){var e=this.init(t);return!!e&&(this.request(e),this)},request:function(e){return t.ajax(e),this}},LLMS.Donut=function(e){function n(e){this.settings=t.extend({element:e.element,percent:100},e),this.circle=this.settings.element.find("path"),this.settings.stroke_width=parseInt(this.circle.css("stroke-width")),this.radius=(parseInt(this.settings.element.css("width"))-this.settings.stroke_width)/2,this.angle=-97.5,this.i=Math.round(.75*this.settings.percent),this.first=!0,this.animate=function(){this.timer=setInterval(this.loop.bind(this),10)},this.loop=function(){this.angle+=5,this.angle%=360;var t,e=this.angle/180*Math.PI,n=this.radius+this.settings.stroke_width/2+Math.cos(e)*this.radius,i=this.radius+this.settings.stroke_width/2+Math.sin(e)*this.radius;this.first===!0?(t=this.circle.attr("d")+" M "+n+" "+i,this.first=!1):t=this.circle.attr("d")+" L "+n+" "+i,this.circle.attr("d",t),this.i--,this.i<=0&&clearInterval(this.timer)}}function i(t){var e='<path d="M100,100" />';t.append('<svg preserveAspectRatio="xMidYMid" xmlns:xlink="http://www.w3.org/1999/xlink">'+e+"</svg>");var i=new n({element:t,percent:t.attr("data-perc")});i.animate()}i(e)},LLMS.Forms={locale:{},locale_defaults:{},$countries:null,$states:null,$states_holder:null,init:function(){if(!t("body").hasClass("wp-admin")){var e=this;e.bind_matching_fields(),e.bind_voucher_field(),LLMS.wait_for(function(){return void 0!==t.fn.llmsSelect2},function(){e.bind_l10n_selects()})}},bind_l10n_selects:function(){var e=this;e.$countries=t(".llms-l10n-country-select select"),e.$states=t(".llms-l10n-state-select select"),e.$zips=t("#llms_billing_zip"),e.$countries.length&&(e.$states.length&&e.prep_state_field(),e.$countries.add(e.$states).llmsSelect2({width:"100%"}),window.llms.locale&&(e.locale=JSON.parse(window.llms.locale),e.locale_defaults={state:function(){var t=e.get_field_parent(e.$states).find("label").clone();return t.find("*").remove(),t.text().trim()}()}),e.$countries.on("change",function(){var n=t(this).val();e.update_state_options(n),e.update_locale_info(n)}).trigger("change"))},bind_matching_fields:function(){var e=t("input[data-match]").not('[type="password"]');e.each(function(){var e,n=t(this),i=t("#"+n.attr("data-match"));i.length&&(e=n.closest(".llms-form-field").add(i.closest(".llms-form-field")),n.on("input change",function(){var t=n.val(),s=i.val();t&&s&&t!==s?e.addClass("invalid"):e.removeClass("invalid")}))})},bind_voucher_field:function(){t("#llms-voucher-toggle").on("click",function(e){e.preventDefault(),t("#llms_voucher").toggle()})},get_field_parent:function(t){var e=t.closest(".wp-block-column");return e.length?e:t.closest(".llms-form-field")},prep_state_field:function(){var e=this.$states.closest(".llms-form-field");this.$holder=t('<select disabled style="display:none !important;" />'),this.$holder.appendTo(e),this.$states.find("optgroup").appendTo(this.$holder)},update_label:function(t,e){var n=this.get_field_parent(t).find("label"),i=n.find(".llms-required").clone();n.html(e),n.append(i)},update_locale_info:function(t){if(this.locale&&this.locale[t]){var e=this.locale[t],n=e.state?e.state:this.locale_defaults.state;this.update_label(this.$states,n);var i=this.get_field_parent(this.$zips);this.$zips.removeAttr("disabled"),e.zip?(this.update_label(this.$zips,e.zip),i.show()):(this.$zips.attr("disabled","disabled"),i.hide())}},update_state_options:function(t){if(this.$states.length){var e=this.$holder.find('optgroup[data-key="'+t+'"] option').clone(),n=this.get_field_parent(this.$states);e.length?(this.$states.html(e),this.$states.removeAttr("disabled"),n.show()):(this.$states.html("<option>&nbsp</option>"),this.$states.attr("disabled","disabled"),n.hide())}}},LLMS.Instructors={init:function(){var e=this;t("body").hasClass("wp-admin")||t(".llms-instructors").length&&LLMS.wait_for_matchHeight(function(){e.bind()})},bind:function(){t(".llms-instructors .llms-author").matchHeight()}},LLMS.l10n=LLMS.l10n||{},LLMS.l10n.translate=function(t){var e=this;return e.strings[t]?e.strings[t]:t},LLMS.l10n.replace=function(e,n){var i=this.translate(e);return t.each(n,function(t,e){-1!==t.indexOf("s")?e=e.toString():-1!==t.indexOf("d")&&(e=1*e),i=i.replace(t,e)}),i},LLMS.LessonPreview={$els:null,init:function(){var e=this;this.$locked=t('a[href="#llms-lesson-locked"]'),this.$locked.length&&e.bind(),t(".llms-course-navigation").length&&LLMS.wait_for_matchHeight(function(){e.match_height()})},bind:function(){var e=this;this.$locked.on("click",function(){return!1}),this.$locked.on("mouseenter",function(){var n=t(this).find(".llms-tooltip");if(!n.length){var i=t(this).attr("data-tooltip-msg");i||(i=LLMS.l10n.translate("You do not have permission to access this content")),n=e.get_tooltip(i),t(this).append(n)}setTimeout(function(){n.addClass("show")},10)}),this.$locked.on("mouseleave",function(){var e=t(this).find(".llms-tooltip");e.removeClass("show")})},match_height:function(){t(".llms-course-navigation .llms-lesson-link").matchHeight()},get_tooltip:function(e){var n=t('<div class="llms-tooltip" />');return n.append('<div class="llms-tooltip-content">'+e+"</div>"),n}},LLMS.Loops={init:function(){var e=this;t(".llms-loop").length&&LLMS.wait_for_matchHeight(function(){e.match_height()})},match_height:function(){t(".llms-loop-item .llms-loop-item-content").matchHeight(),t(".llms-achievement-loop-item .llms-achievement").matchHeight(),t(".llms-certificate-loop-item .llms-certificate").matchHeight()}},LLMS.OutlineCollapse={$outlines:null,init:function(){this.$outlines=t(".llms-widget-syllabus--collapsible"),this.$outlines.length&&this.bind()},bind:function(){var e=this;this.$outlines.each(function(){var n=t(this),i=n.find(".llms-section .section-header");i.on("click",function(n){n.preventDefault();var i=t(this),s=i.closest(".llms-section"),o=e.get_section_state(s);switch(o){case"closed":e.open_section(s);break;case"opened":e.close_section(s)}}),n.find(".llms-collapse-toggle").on("click",function(n){n.preventDefault();var s=t(this),o=s.attr("data-action"),a="close"===o?"opened":"closed";i.each(function(){var n=t(this).closest(".llms-section"),i=e.get_section_state(n);if(a!==i)return!0;switch(i){case"closed":e.close_section(n);break;case"opened":e.open_section(n)}t(this).trigger("click")})})})},close_section:function(t){t.removeClass("llms-section--opened").addClass("llms-section--closed")},open_section:function(t){t.removeClass("llms-section--closed").addClass("llms-section--opened")},get_section_state:function(t){return t.hasClass("llms-section--opened")?"opened":"closed"}},t.extend(LLMS.PasswordStrength,{$meter:t(".llms-password-strength-meter"),$pass:null,$conf:null,$form:null,init:function(){if(!t("body").hasClass("wp-admin")&&this.setup_references()){var e=this;LLMS.wait_for(function(){return"undefined"!=typeof wp&&"undefined"!=typeof wp.passwordStrength},function(){e.bind(),e.$form.trigger("llms-password-strength-ready")})}},bind:function(){var t=this;this.$form.hasClass("llms-checkout")||this.$form.on("submit",t,t.submit),t.$pass.add(t.$conf).on("keyup",function(){t.check_strength()})},check_strength:function(){var t=this.$pass.closest(".llms-form-field"),e=this.$conf.closest(".llms-form-field"),n=this.$pass.val().length,i=this.$conf.length?this.$conf.val().length:0;return n||i?(this.get_current_strength_status()?(t.removeClass("invalid").addClass("valid"),i&&e.removeClass("invalid").addClass("valid")):(t.removeClass("valid").addClass("invalid"),i&&e.removeClass("valid").addClass("invalid")),this.$meter.removeClass("too-short very-weak weak medium strong mismatch"),this.$meter.show().addClass(this.get_current_strength("slug")),void this.$meter.html(this.get_current_strength("text"))):(t.removeClass("valid invalid"),e.removeClass("valid invalid"),void this.$meter.hide())},checkout:function(t,e){e(t.get_current_strength_status()?!0:LLMS.l10n.translate("There is an issue with your chosen password."))},get_blacklist:function(){var e=wp.passwordStrength.userInputBlacklist().concat(this.get_setting("blacklist",[]));return this.$form.find('input[type="text"], input[type="email"], input[type="tel"], input[type="number"]').each(function(){var n=t(this).val();n&&e.push(n)}),e},get_current_strength:function(t){t=t||"int";var e,n=this.$pass.val(),i=this.$conf.val();return n.length<this.get_setting("min_length",6)?e=-1:(e=wp.passwordStrength.meter(n,this.get_blacklist(),i),0===e&&(e=1)),"slug"===t?this.get_strength_slug(e):"text"===t?this.get_strength_text(e):e},get_current_strength_status:function(){var t=this.get_current_strength(),e=this.get_strength_value(this.get_minimum_strength());return 5!==t&&t>=e},get_minimum_strength:function(){return this.get_setting("min_strength","strong")},get_setting:function(t,e){var n=this.get_settings();return n[t]?n[t]:e},get_strength_slug:function(t){var e={"-1":"too-short",1:"very-weak",2:"weak",3:"medium",4:"strong",5:"mismatch"};return e[t]?e[t]:e[5]},get_strength_text:function(t){var e={"-1":LLMS.l10n.translate("Too Short"),1:LLMS.l10n.translate("Very Weak"),2:LLMS.l10n.translate("Weak"),3:LLMS.l10n.translate("Medium"),4:LLMS.l10n.translate("Strong"),5:LLMS.l10n.translate("Mismatch")};return e[t]?e[t]:e[5]},get_strength_value:function(t){var e={"too-short":-1,"very-weak":1,weak:2,medium:3,strong:4,mismatch:5};return e[t]?e[t]:e.mismatch},setup_references:function(){return!!this.$meter.length&&(this.$form=this.$meter.closest("form"),this.$pass=this.$form.find('input[type="password"]'),this.$pass.length&&this.$pass.attr("data-match")&&(this.$conf=this.$form.find("#"+this.$pass.attr("data-match"))),this.$pass.length>0)},submit:function(e){var n=e.data;e.preventDefault(),n.$pass.trigger("keyup"),n.get_current_strength_status()?(n.$form.off("submit",n.submit),n.$form.trigger("submit")):(t("html, body").animate({scrollTop:n.$meter.offset().top-100},200),n.$meter.hide(),setTimeout(function(){n.$meter.fadeIn(400)},220))}}),LLMS.Pricing_Tables={init:function(){var e=this;t("body").hasClass("wp-admin")||t(".llms-access-plans").length&&(LLMS.wait_for_matchHeight(function(){e.bind()}),this.$locked=t('a[href="#llms-plan-locked"]'),this.$locked.length&&LLMS.wait_for_popover(function(){e.bind_locked()}))},bind:function(){t(".llms-access-plan-content").matchHeight(),t(".llms-access-plan-pricing.trial").matchHeight()},bind_locked:function(){this.$locked.each(function(){t(this).webuiPopover({animation:"pop",closeable:!0,content:function(e){var n=t('<div class="llms-members-only-restrictions" />');return n.append(e.$element.closest(".llms-access-plan").find(".llms-access-plan-restrictions ul").clone()),n},placement:"top",style:"inverse",title:LLMS.l10n.translate("Members Only Pricing"),width:"280px"})})}},LLMS.Review={init:function(){this.bind()},bind:function(){t("#llms_review_submit_button").click(function(){""!==t("#review_title").val()&&""!==t("#review_text").val()?jQuery.ajax({type:"post",dataType:"json",url:window.llms.ajaxurl,data:{action:"LLMSSubmitReview",review_title:t("#review_title").val(),review_text:t("#review_text").val(),pageID:t("#post_ID").val()},success:function(){console.log("Review success"),t("#review_box").hide("swing"),t("#thank_you_box").show("swing")},error:function(t,e,n){console.log(t),console.log(e),console.log(n)}}):(""===t("#review_title").val()?t("#review_title_error").show("swing"):t("#review_title_error").hide("swing"),""===t("#review_text").val()?t("#review_text_error").show("swing"):t("#review_text_error").hide("swing"))}),t("#_llms_display_reviews").attr("checked")?(t(".llms-num-reviews-top").addClass("top"),t(".llms-num-reviews-bottom").show()):t(".llms-num-reviews-bottom").hide(),t("#_llms_display_reviews").change(function(){t("#_llms_display_reviews").attr("checked")?(t(".llms-num-reviews-top").addClass("top"),t(".llms-num-reviews-bottom").show()):(t(".llms-num-reviews-top").removeClass("top"),t(".llms-num-reviews-bottom").hide())})}},LLMS.Spinner={get:function(e,n){var i=e.find(".llms-spinning").first();return i.length||(n=n?n:"default",i=t('<div class="llms-spinning"><i class="llms-spinner '+n+'"></i></div>'),e.append(i)),i},start:function(e,n){var i=this;e.each(function(){i.get(t(this),n).show()})},stop:function(e){var n=this;e.each(function(){n.get(t(this)).hide()})}},function(t){var e;if("function"==typeof define&&define.amd&&(define(t),e=!0),"object"==typeof exports&&(module.exports=t(),e=!0),!e){var n=window.Cookies,i=window.Cookies=t();i.noConflict=function(){return window.Cookies=n,i}}}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function n(i){function s(){}function o(e,n,o){if("undefined"!=typeof document){o=t({path:"/"},s.defaults,o),"number"==typeof o.expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(r){}n=i.write?i.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var l="";for(var c in o)o[c]&&(l+="; "+c,o[c]!==!0&&(l+="="+o[c].split(";")[0]));return document.cookie=e+"="+n+l}}function a(t,n){if("undefined"!=typeof document){for(var s={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var r=o[a].split("="),l=r.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=e(r[0]);if(l=(i.read||i)(l,c)||e(l),n)try{l=JSON.parse(l)}catch(h){}if(s[c]=l,t===c)break}catch(h){}}return t?s[t]:s}}return s.set=o,s.get=function(t){return a(t,!1)},s.getJSON=function(t){return a(t,!0)},s.remove=function(e,n){o(e,"",t(n,{expires:-1}))},s.defaults={},s.withConverter=n,s}return n(function(){})}),LLMS.Storage=function(t){var e=this,n=Cookies.noConflict();this.clearAll=function(){n.remove(t)},this.clear=function(i){var s=e.getAll();return delete s[i],n.set(t,s)},this.getAll=function(){return n.getJSON(t)||{}},this.get=function(t,n){var i=e.getAll();return i[t]?i[t]:n},this.set=function(i,s){var o=e.getAll();return o[i]=s,n.set(t,o)}},LLMS.StudentDashboard={screen:"",meter_exists:0,init:function(){t(".llms-student-dashboard").length&&(this.meter_exists=t(".llms-password-strength-meter").length,this.bind(),"orders"===this.get_screen()&&this.bind_orders())},bind:function(){var e=this,n=t('.llms-student-dashboard a[href="#llms-password-change-toggle"]');n.on("click",function(n){n.preventDefault();var i=t(this),s=i.text(),o=i.attr("data-action"),a="hide"===o?"show":"hide",r=i.attr("data-text");e.password_toggle(o),"show"===o?i.attr("tabindex","-777"):i.removeAttr("tabindex"),i.attr("data-action",a).attr("data-text",s).text(r)}),this.meter_exists?t(".llms-person-form.edit-account").on("llms-password-strength-ready",function(){e.password_toggle("hide")}):e.password_toggle("hide"),t(".llms-donut").each(function(){LLMS.Donut(t(this))})},bind_orders:function(){t("#llms-cancel-subscription-form").on("submit",this.order_cancel_warning),t("#llms_update_payment_method").on("click",function(){t('input[name="llms_payment_gateway"]:checked').trigger("change"),t(this).closest("form").find(".llms-switch-payment-source-main").slideToggle("200")})},get_screen:function(){return this.screen||(this.screen=t(".llms-student-dashboard").attr("data-current")),this.screen},order_cancel_warning:function(e){e.preventDefault();var n=LLMS.l10n.translate("Are you sure you want to cancel your subscription?");window.confirm(LLMS.l10n.translate(n))&&(t(this).off("submit",this.order_cancel_warning),t(this).submit())},password_toggle:function(e){e||(e="show");var n=this,i=t("#password, #password_confirm, #current_password"),s=t("#password").closest("form");t(".llms-change-password")[e](),"show"===e?(i.attr("required","required"),n.meter_exists&&s.on("submit",LLMS.PasswordStrength,LLMS.PasswordStrength.submit)):(i.removeAttr("required").val(""),n.meter_exists&&(s.off("submit",LLMS.PasswordStrength.submit),LLMS.PasswordStrength.check_strength()))}},LLMS.Tracking=function(e){function n(){e.nonce&&r.set("nonce",e.nonce),a.addEvent("page.load"),window.addEventListener("beforeunload",i),window.addEventListener("unload",s),document.addEventListener("visibilitychange",o)}function i(t){document.removeEventListener("visibilitychange",o)}function s(t){a.addEvent("page.exit")}function o(t){var e=document.hidden?"page.blur":"page.focus";a.addEvent(e)}e=e||{};var a=this,r=new LLMS.Storage("llms-tracking");e="string"==typeof e?JSON.parse(e):e,this.addEvent=function(t,n){if(n=n||{},"string"==typeof t&&(n.event=t),e.events&&-1!==e.events.indexOf(n.event)){t=a.makeEventObj(n);var i=r.get("events",[]);i.push(t),r.set("events",i)}},this.getSettings=function(){return e},this.makeEventObj=function(t){return Object.assign(t,{url:window.location.href,time:Math.round((new Date).getTime()/1e3)})},t("body").hasClass("wp-admin")||n()},llms.tracking=new LLMS.Tracking(llms.tracking),LLMS.Rest={init:function(){this.bind()},bind:function(){},is_path:function(t){for(var e=!1,n=window.location.href,i=0;i<t.length;i++)n.search(t[i])>0&&!e&&(e=!0);return e},get_query_vars:function(){for(var t,e=[],n=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),i=0;i<n.length;i++)t=n[i].split("="),e.push(t[0]),e[t[0]]=t[1];return e}},LLMS.init=function(){for(var t in LLMS)"object"==typeof LLMS[t]&&null!==LLMS[t]&&void 0!==LLMS[t].init&&"function"==typeof LLMS[t].init&&LLMS[t].init()},LLMS.is_touch_device=function(){var t=" -webkit- -moz- -o- -ms- ".split(" "),e=function(t){return window.matchMedia(t).matches};if("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)return!0;var n=["(",t.join("touch-enabled),("),"heartz",")"].join("");return e(n)},LLMS.wait_for_matchHeight=function(e){this.wait_for(function(){return void 0!==t.fn.matchHeight},e)},LLMS.wait_for_popover=function(e){this.wait_for(function(){return void 0!==t.fn.webuiPopover},e)},LLMS.wait_for=function(t,e){var n,i=0;n=setInterval(function(){if(i>=300)console.log("could not load dependency");else{if(!t())return console.log("waiting..."),void i++;e()}clearInterval(n)},100)},LLMS.init(t)}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxsbXMuanMiLCIuLi9hcHAvbGxtcy1hY2hpZXZlbWVudHMuanMiLCIuLi9hcHAvbGxtcy1hamF4LmpzIiwiLi4vYXBwL2xsbXMtZG9udXQuanMiLCIuLi9hcHAvbGxtcy1mb3Jtcy5qcyIsIi4uL2FwcC9sbG1zLWluc3RydWN0b3JzLmpzIiwiLi4vYXBwL2xsbXMtbDEwbi5qcyIsIi4uL2FwcC9sbG1zLWxlc3Nvbi1wcmV2aWV3LmpzIiwiLi4vYXBwL2xsbXMtbG9vcHMuanMiLCIuLi9hcHAvbGxtcy1vdXRsaW5lLWNvbGxhcHNlLmpzIiwiLi4vYXBwL2xsbXMtcGFzc3dvcmQtc3RyZW5ndGguanMiLCIuLi9hcHAvbGxtcy1wcmljaW5nLXRhYmxlcy5qcyIsIi4uL2FwcC9sbG1zLXJldmlldy5qcyIsIi4uL2FwcC9sbG1zLXNwaW5uZXIuanMiLCIuLi92ZW5kb3IvanMuY29va2llLmpzIiwiLi4vYXBwL2xsbXMtc3RvcmFnZS5qcyIsIi4uL2FwcC9sbG1zLXN0dWRlbnQtZGFzaGJvYXJkLmpzIiwiLi4vYXBwL2xsbXMtdHJhY2tpbmcuanMiLCIuLi9hcHAvcmVzdC5qcyJdLCJuYW1lcyI6WyJMTE1TIiwid2luZG93IiwiJCIsIkFjaGlldmVtZW50cyIsImluaXQiLCJzZWxmIiwidGhpcyIsImRvY3VtZW50Iiwib24iLCJiaW5kIiwibWF5YmVfb3BlbiIsImVhY2giLCJjcmVhdGVfbW9kYWwiLCIkdGhpcyIsImlkIiwiYXR0ciIsIiRtb2RhbCIsImxlbmd0aCIsIml6aU1vZGFsIiwiJGVsIiwiYXBwZW5kIiwiaGVhZGVyQ29sb3IiLCJncm91cCIsImhpc3RvcnkiLCJsb29wIiwib3ZlcmxheUNvbG9yIiwidHJhbnNpdGlvbkluIiwidHJhbnNpdGlvbk91dCIsIndpZHRoIiwib25PcGVuaW5nIiwibW9kYWwiLCJzZXRUaXRsZSIsImZpbmQiLCJodG1sIiwic2V0U3VidGl0bGUiLCJzZXRDb250ZW50Iiwib25DbG9zaW5nIiwicHVzaFN0YXRlIiwidGl0bGUiLCJsb2NhdGlvbiIsInBhdGhuYW1lIiwic2VhcmNoIiwiaGFzaCIsImluZGV4T2YiLCJmaXJzdCIsInRyaWdnZXIiLCJBamF4IiwidXJsIiwiYWpheHVybCIsImxsbXMiLCJ0eXBlIiwiZGF0YSIsImNhY2hlIiwiZGF0YVR5cGUiLCJhc3luYyIsInJlc3BvbnNlIiwib2JqIiwiX2FqYXhfbm9uY2UiLCJ3cF9hamF4X2RhdGEiLCJub25jZSIsIiRSIiwiUmVzdCIsInF1ZXJ5X3ZhcnMiLCJnZXRfcXVlcnlfdmFycyIsInBvc3RfaWQiLCJwb3N0IiwidmFsIiwiY2FsbCIsInNldHRpbmdzIiwicmVxdWVzdCIsImFqYXgiLCJEb251dCIsIm9wdGlvbnMiLCJleHRlbmQiLCJlbGVtZW50IiwicGVyY2VudCIsImNpcmNsZSIsInN0cm9rZV93aWR0aCIsInBhcnNlSW50IiwiY3NzIiwicmFkaXVzIiwiYW5nbGUiLCJpIiwiTWF0aCIsInJvdW5kIiwiYW5pbWF0ZSIsInRpbWVyIiwic2V0SW50ZXJ2YWwiLCJkIiwicmFkaWFucyIsIlBJIiwieCIsImNvcyIsInkiLCJzaW4iLCJjbGVhckludGVydmFsIiwiZHJhdyIsInBhdGgiLCJkb251dCIsIkZvcm1zIiwibG9jYWxlIiwibG9jYWxlX2RlZmF1bHRzIiwiJGNvdW50cmllcyIsIiRzdGF0ZXMiLCIkc3RhdGVzX2hvbGRlciIsImhhc0NsYXNzIiwiYmluZF9tYXRjaGluZ19maWVsZHMiLCJiaW5kX3ZvdWNoZXJfZmllbGQiLCJ3YWl0X2ZvciIsInVuZGVmaW5lZCIsImZuIiwibGxtc1NlbGVjdDIiLCJiaW5kX2wxMG5fc2VsZWN0cyIsIiR6aXBzIiwicHJlcF9zdGF0ZV9maWVsZCIsImFkZCIsIkpTT04iLCJwYXJzZSIsInN0YXRlIiwiJGxhYmVsIiwiZ2V0X2ZpZWxkX3BhcmVudCIsImNsb25lIiwicmVtb3ZlIiwidGV4dCIsInRyaW0iLCJ1cGRhdGVfc3RhdGVfb3B0aW9ucyIsInVwZGF0ZV9sb2NhbGVfaW5mbyIsIiRmaWVsZHMiLCJub3QiLCIkcGFyZW50cyIsIiRmaWVsZCIsIiRtYXRjaCIsImNsb3Nlc3QiLCJ2YWxfMSIsInZhbF8yIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInRvZ2dsZSIsIiRibG9jayIsIiRwYXJlbnQiLCIkaG9sZGVyIiwiYXBwZW5kVG8iLCJ1cGRhdGVfbGFiZWwiLCIkcmVxdWlyZWQiLCJjb3VudHJ5X2NvZGUiLCJpbmZvIiwic3RhdGVfdGV4dCIsIiR6aXBzX3BhcmVudCIsInJlbW92ZUF0dHIiLCJ6aXAiLCJzaG93IiwiaGlkZSIsIm9wdHMiLCJJbnN0cnVjdG9ycyIsIndhaXRfZm9yX21hdGNoSGVpZ2h0IiwibWF0Y2hIZWlnaHQiLCJsMTBuIiwidHJhbnNsYXRlIiwic3RyaW5nIiwic3RyaW5ncyIsInJlcGxhY2UiLCJyZXBsYWNlbWVudHMiLCJzdHIiLCJ0b2tlbiIsInZhbHVlIiwidG9TdHJpbmciLCJMZXNzb25QcmV2aWV3IiwiJGVscyIsIiRsb2NrZWQiLCJtYXRjaF9oZWlnaHQiLCIkdGlwIiwibXNnIiwiZ2V0X3Rvb2x0aXAiLCJzZXRUaW1lb3V0IiwiTG9vcHMiLCJPdXRsaW5lQ29sbGFwc2UiLCIkb3V0bGluZXMiLCIkb3V0bGluZSIsIiRoZWFkZXJzIiwiJHRvZ2dsZSIsIiRzZWN0aW9uIiwiZ2V0X3NlY3Rpb25fc3RhdGUiLCJvcGVuX3NlY3Rpb24iLCJjbG9zZV9zZWN0aW9uIiwiJGJ0biIsImFjdGlvbiIsIm9wcG9zaXRlX2FjdGlvbiIsIlBhc3N3b3JkU3RyZW5ndGgiLCIkbWV0ZXIiLCIkcGFzcyIsIiRjb25mIiwiJGZvcm0iLCJzZXR1cF9yZWZlcmVuY2VzIiwid3AiLCJwYXNzd29yZFN0cmVuZ3RoIiwic3VibWl0IiwiY2hlY2tfc3RyZW5ndGgiLCIkcGFzc19maWVsZCIsIiRjb25mX2ZpZWxkIiwicGFzc19sZW5ndGgiLCJjb25mX2xlbmd0aCIsImdldF9jdXJyZW50X3N0cmVuZ3RoX3N0YXR1cyIsImdldF9jdXJyZW50X3N0cmVuZ3RoIiwiY2hlY2tvdXQiLCJjYWxsYmFjayIsImdldF9ibGFja2xpc3QiLCJibGFja2xpc3QiLCJ1c2VySW5wdXRCbGFja2xpc3QiLCJjb25jYXQiLCJnZXRfc2V0dGluZyIsInB1c2giLCJmb3JtYXQiLCJwYXNzIiwiY29uZiIsIm1ldGVyIiwiZ2V0X3N0cmVuZ3RoX3NsdWciLCJnZXRfc3RyZW5ndGhfdGV4dCIsImN1cnIiLCJtaW4iLCJnZXRfc3RyZW5ndGhfdmFsdWUiLCJnZXRfbWluaW11bV9zdHJlbmd0aCIsImtleSIsImRlZmF1bHRfdmFsIiwiZ2V0X3NldHRpbmdzIiwic3RyZW5ndGhfdmFsIiwic2x1Z3MiLCItMSIsIjEiLCIyIiwiMyIsIjQiLCI1IiwidGV4dHMiLCJzdHJlbmd0aF9zbHVnIiwidmFsdWVzIiwidG9vLXNob3J0IiwidmVyeS13ZWFrIiwid2VhayIsIm1lZGl1bSIsInN0cm9uZyIsIm1pc21hdGNoIiwib2ZmIiwic2Nyb2xsVG9wIiwib2Zmc2V0IiwidG9wIiwiZmFkZUluIiwiUHJpY2luZ19UYWJsZXMiLCJ3YWl0X2Zvcl9wb3BvdmVyIiwiYmluZF9sb2NrZWQiLCJ3ZWJ1aVBvcG92ZXIiLCJhbmltYXRpb24iLCJjbG9zZWFibGUiLCJjb250ZW50IiwiJGNvbnRlbnQiLCIkZWxlbWVudCIsInBsYWNlbWVudCIsInN0eWxlIiwiUmV2aWV3IiwiY2xpY2siLCJqUXVlcnkiLCJyZXZpZXdfdGl0bGUiLCJyZXZpZXdfdGV4dCIsInBhZ2VJRCIsInN1Y2Nlc3MiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJqcVhIUiIsInRleHRTdGF0dXMiLCJlcnJvclRocm93biIsImNoYW5nZSIsIlNwaW5uZXIiLCJnZXQiLCJzaXplIiwiJHNwaW5uZXIiLCJzdGFydCIsInN0b3AiLCJmYWN0b3J5IiwicmVnaXN0ZXJlZEluTW9kdWxlTG9hZGVyIiwiZGVmaW5lIiwiYW1kIiwiZXhwb3J0cyIsIm1vZHVsZSIsIk9sZENvb2tpZXMiLCJDb29raWVzIiwiYXBpIiwibm9Db25mbGljdCIsInJlc3VsdCIsImFyZ3VtZW50cyIsImF0dHJpYnV0ZXMiLCJkZWNvZGUiLCJzIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiY29udmVydGVyIiwic2V0IiwiZGVmYXVsdHMiLCJleHBpcmVzIiwiRGF0ZSIsInRvVVRDU3RyaW5nIiwic3RyaW5naWZ5IiwidGVzdCIsIndyaXRlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiU3RyaW5nIiwiZXNjYXBlIiwic3RyaW5naWZpZWRBdHRyaWJ1dGVzIiwiYXR0cmlidXRlTmFtZSIsInNwbGl0IiwiY29va2llIiwianNvbiIsImphciIsImNvb2tpZXMiLCJwYXJ0cyIsInNsaWNlIiwiam9pbiIsImNoYXJBdCIsIm5hbWUiLCJyZWFkIiwiZ2V0SlNPTiIsIndpdGhDb252ZXJ0ZXIiLCJTdG9yYWdlIiwic3RvcmUiLCJjbGVhckFsbCIsImNsZWFyIiwiZ2V0QWxsIiwiU3R1ZGVudERhc2hib2FyZCIsInNjcmVlbiIsIm1ldGVyX2V4aXN0cyIsImdldF9zY3JlZW4iLCJiaW5kX29yZGVycyIsImN1cnJfdGV4dCIsImN1cnJfYWN0aW9uIiwibmV3X2FjdGlvbiIsIm5ld190ZXh0IiwicGFzc3dvcmRfdG9nZ2xlIiwib3JkZXJfY2FuY2VsX3dhcm5pbmciLCJzbGlkZVRvZ2dsZSIsImNvbmZpcm0iLCIkcHdkcyIsIlRyYWNraW5nIiwiYWRkRXZlbnQiLCJhZGRFdmVudExpc3RlbmVyIiwib25CZWZvcmVVbmxvYWQiLCJvblVubG9hZCIsIm9uVmlzaWJpbGl0eUNoYW5nZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldmVudCIsImhpZGRlbiIsImFyZ3MiLCJldmVudHMiLCJtYWtlRXZlbnRPYmoiLCJhbGwiLCJnZXRTZXR0aW5ncyIsIk9iamVjdCIsImFzc2lnbiIsImhyZWYiLCJ0aW1lIiwiZ2V0VGltZSIsInRyYWNraW5nIiwiaXNfcGF0aCIsInBhdGhfZXhpc3RzIiwidmFycyIsImhhc2hlcyIsImZ1bmMiLCJpc190b3VjaF9kZXZpY2UiLCJwcmVmaXhlcyIsIm1xIiwicXVlcnkiLCJtYXRjaE1lZGlh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LEdBQUF6VyxRQW1CQUosS0FBQThXLGdCQUFBLFdBRUEsR0FBQUMsR0FBQSw0QkFBQTFELE1BQUEsS0FDQTJELEVBQUEsU0FBQUMsR0FDQSxNQUFBaFgsUUFBQWlYLFdBQUFELEdBQUFFLFFBR0EsSUFBQSxnQkFBQWxYLFNBQUFBLE9BQUFtWCxlQUFBN1csbUJBQUE2VyxlQUNBLE9BQUEsQ0FLQSxJQUFBSCxJQUFBLElBQUFGLEVBQUFuRCxLQUFBLG9CQUFBLFNBQUEsS0FBQUEsS0FBQSxHQUNBLE9BQUFvRCxHQUFBQyxJQVlBalgsS0FBQTRKLHFCQUFBLFNBQUF5TixHQUNBL1csS0FBQXNHLFNBQUEsV0FDQSxNQUFBQyxVQUFBM0csRUFBQTRHLEdBQUErQyxhQUNBd04sSUFXQXJYLEtBQUF5UCxpQkFBQSxTQUFBNEgsR0FDQS9XLEtBQUFzRyxTQUFBLFdBQ0EsTUFBQUMsVUFBQTNHLEVBQUE0RyxHQUFBNkksY0FDQTBILElBYUFyWCxLQUFBNEcsU0FBQSxTQUFBa00sRUFBQXVFLEdBRUEsR0FDQUMsR0FEQUMsRUFBQSxDQUdBRCxHQUFBL1IsWUFBQSxXQUdBLEdBQUFnUyxHQUFBLElBRUE3RyxRQUFBQyxJQUFBLGlDQUdBLENBR0EsSUFBQW1DLElBUUEsTUFGQXBDLFNBQUFDLElBQUEsa0JBQ0E0RyxJQUxBRixLQVlBdFIsY0FBQXVSLElBRUEsTUFJQXRYLEtBQUFJLEtBQUFGLElBRUFtUSIsImZpbGUiOiJsbG1zLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKlxuICogQ29udHJpYnV0b3IncyBOb3RpY2VcbiAqIFxuICogVGhpcyBpcyBhIGNvbXBpbGVkIGZpbGUgYW5kIHNob3VsZCBub3QgYmUgZWRpdGVkIGRpcmVjdGx5IVxuICogVGhlIHVuY29tcGlsZWQgc2NyaXB0IGlzIGxvY2F0ZWQgaW4gdGhlIFwiYXNzZXRzL3ByaXZhdGVcIiBkaXJlY3RvcnlcbiAqIFxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qKlxuICogTWFpbiBMTE1TIE5hbWVzcGFjZVxuICpcbiAqIEB0eXBlICAgICB7T2JqZWN0fVxuICogQHNpbmNlICAgIDEuMC4wXG4gKiBAdmVyc2lvbiAgMy4yNC4zXG4gKi9cbnZhciBMTE1TID0gd2luZG93LkxMTVMgfHwge307XG4oZnVuY3Rpb24oJCl7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdC8qKlxuXHQgKiBsb2FkIGFsbCBhcHAgbW9kdWxlc1xuXHQgKi9cblx0LyoqXG5cdCAqIEZyb250IEVuZCBBY2hpZXZlbWVudHNcblx0ICpcblx0ICogQHBhY2thZ2UgTGlmdGVyTE1TL1NjcmlwdHNcblx0ICpcblx0ICogQHNpbmNlICAgIDMuMTQuMFxuXHQgKiBAdmVyc2lvbiAgMy4xNC4wXG5cdCAqL1xuXHRcblx0TExNUy5BY2hpZXZlbWVudHMgPSB7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIEluaXRcblx0XHQgKlxuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMTQuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjE0LjBcblx0XHQgKi9cblx0XHRpbml0OiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFxuXHRcdFx0aWYgKCAkKCAnLmxsbXMtYWNoaWV2ZW1lbnQnICkgKSB7XG5cdFx0XHRcdCQoIGRvY3VtZW50ICkub24oICdyZWFkeScsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHNlbGYuYmluZCgpO1xuXHRcdFx0XHRcdHNlbGYubWF5YmVfb3BlbigpO1xuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEJpbmQgRE9NIGV2ZW50c1xuXHRcdCAqXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4xNC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMTQuMFxuXHRcdCAqL1xuXHRcdGJpbmQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XG5cdFx0XHQkKCAnLmxsbXMtYWNoaWV2ZW1lbnQnICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0XHRzZWxmLmNyZWF0ZV9tb2RhbCggJCggdGhpcyApICk7XG5cdFxuXHRcdFx0fSApO1xuXHRcblx0XHRcdCQoICcubGxtcy1hY2hpZXZlbWVudCcgKS5vbiggJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0XHR2YXIgJHRoaXMgID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdGlkICAgICA9ICdhY2hpZXZlbWVudC0nICsgJHRoaXMuYXR0ciggJ2RhdGEtaWQnICksXG5cdFx0XHRcdFx0JG1vZGFsID0gJCggJyMnICsgaWQgKTtcblx0XG5cdFx0XHRcdGlmICggISAkbW9kYWwubGVuZ3RoICkge1xuXHRcdFx0XHRcdHNlbGYuY3JlYXRlX21vZGFsKCAkdGhpcyApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQkbW9kYWwuaXppTW9kYWwoICdvcGVuJyApO1xuXHRcblx0XHRcdH0gKTtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogQ3JlYXRlcyBtb2RhbCBhIG1vZGFsIGZvciBhbiBhY2hpZXZlbWVudFxuXHRcdCAqXG5cdFx0ICogQHBhcmFtICAgIG9iaiAgICRlbCAgalF1ZXJ5IHNlbGVjdG9yIGZvciB0aGUgbW9kYWwgY2FyZFxuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMTQuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjE0LjBcblx0XHQgKi9cblx0XHRjcmVhdGVfbW9kYWw6IGZ1bmN0aW9uKCAkZWwgKSB7XG5cdFxuXHRcdFx0dmFyIGlkICAgICA9ICdhY2hpZXZlbWVudC0nICsgJGVsLmF0dHIoICdkYXRhLWlkJyApLFxuXHRcdFx0XHQkbW9kYWwgPSAkKCAnIycgKyBpZCApO1xuXHRcblx0XHRcdGlmICggISAkbW9kYWwubGVuZ3RoICkge1xuXHRcdFx0XHQkbW9kYWwgPSAkKCAnPGRpdiBjbGFzcz1cImxsbXMtYWNoaWV2ZW1lbnQtbW9kYWxcIiBpZD1cIicgKyBpZCArICdcIiAvPicgKTtcblx0XHRcdFx0JCggJ2JvZHknICkuYXBwZW5kKCAkbW9kYWwgKTtcblx0XHRcdH1cblx0XG5cdFx0XHQkbW9kYWwuaXppTW9kYWwoIHtcblx0XHRcdFx0aGVhZGVyQ29sb3I6ICcjM2EzYTNhJyxcblx0XHRcdFx0Z3JvdXA6ICdhY2hpZXZlbWVudHMnLFxuXHRcdFx0XHRoaXN0b3J5OiB0cnVlLFxuXHRcdFx0XHRsb29wOiB0cnVlLFxuXHRcdFx0XHRvdmVybGF5Q29sb3I6ICdyZ2JhKCAwLCAwLCAwLCAwLjYgKScsXG5cdFx0XHRcdHRyYW5zaXRpb25JbjogJ2ZhZGVJbkRvd24nLFxuXHRcdFx0XHR0cmFuc2l0aW9uT3V0OiAnZmFkZU91dERvd24nLFxuXHRcdFx0XHR3aWR0aDogMzQwLFxuXHRcdFx0XHRvbk9wZW5pbmc6IGZ1bmN0aW9uKCBtb2RhbCApIHtcblx0XG5cdFx0XHRcdFx0bW9kYWwuc2V0VGl0bGUoICRlbC5maW5kKCAnLmxsbXMtYWNoaWV2ZW1lbnQtdGl0bGUnICkuaHRtbCgpICk7XG5cdFx0XHRcdFx0bW9kYWwuc2V0U3VidGl0bGUoICRlbC5maW5kKCAnLmxsbXMtYWNoaWV2ZW1lbnQtZGF0ZScgKS5odG1sKCkgKTtcblx0XHRcdFx0XHRtb2RhbC5zZXRDb250ZW50KCAnPGRpdiBjbGFzcz1cImxsbXMtYWNoaWV2ZW1lbnRcIj4nICsgJGVsLmh0bWwoKSArICc8L2Rpdj4nICk7XG5cdFxuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0b25DbG9zaW5nOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoICcnLCBkb2N1bWVudC50aXRsZSwgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICsgd2luZG93LmxvY2F0aW9uLnNlYXJjaCApO1xuXHRcdFx0XHR9LFxuXHRcblx0XHRcdH0gKTtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogT24gcGFnZSBsb2FkLCBvcGVucyBhIG1vZGFsIGlmIHRoZSBVUkwgY29udGFpbnMgYW4gYWNoaWV2ZW1lbnQgaW4gdGhlIGxvY2F0aW9uIGhhc2hcblx0XHQgKlxuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMTQuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjE0LjBcblx0XHQgKi9cblx0XHRtYXliZV9vcGVuOiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHR2YXIgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoO1xuXHRcdFx0aWYgKCBoYXNoICYmIC0xICE9PSBoYXNoLmluZGV4T2YoICdhY2hpZXZlbWVudC0nICkgKSB7XG5cdFx0XHRcdCQoICdhW2hyZWY9XCInICsgaGFzaCArICdcIl0nICkuZmlyc3QoKS50cmlnZ2VyKCAnY2xpY2snICk7XG5cdFx0XHR9XG5cdFxuXHRcdH1cblx0XG5cdH07XG5cdFxuXHRcdC8qKlxuXHQgKiBNYWluIEFqYXggY2xhc3Ncblx0ICogSGFuZGxlcyBQcmltYXJ5IEFqYXggY29ubmVjdGlvblxuXHQgKlxuXHQgKiBAcGFja2FnZSBMaWZ0ZXJMTVMvU2NyaXB0c1xuXHQgKlxuXHQgKiBAc2luY2UgVW5rbm93blxuXHQgKiBAdmVyc2lvbiBVbmtub3duXG5cdCAqL1xuXHRcblx0TExNUy5BamF4ID0ge1xuXHRcblx0XHQvKipcblx0XHQgKiBVcmxcblx0XHQgKlxuXHRcdCAqIEB0eXBlIHtTdHJpbmd9XG5cdFx0ICovXG5cdFx0dXJsOiB3aW5kb3cuYWpheHVybCB8fCB3aW5kb3cubGxtcy5hamF4dXJsLFxuXHRcblx0XHQvKipcblx0XHQgKiBUeXBlXG5cdFx0ICpcblx0XHQgKiBAdHlwZSB7W3R5cGVdfVxuXHRcdCAqL1xuXHRcdHR5cGU6ICdwb3N0Jyxcblx0XG5cdFx0LyoqXG5cdFx0ICogRGF0YVxuXHRcdCAqXG5cdFx0ICogQHR5cGUge1t0eXBlXX1cblx0XHQgKi9cblx0XHRkYXRhOiBbXSxcblx0XG5cdFx0LyoqXG5cdFx0ICogQ2FjaGVcblx0XHQgKlxuXHRcdCAqIEB0eXBlIHtbdHlwZV19XG5cdFx0ICovXG5cdFx0Y2FjaGU6IGZhbHNlLFxuXHRcblx0XHQvKipcblx0XHQgKiBEYXRhVHlwZVxuXHRcdCAqIGRlZmF1bHRlZCB0byBqc29uXG5cdFx0ICpcblx0XHQgKiBAdHlwZSB7U3RyaW5nfVxuXHRcdCAqL1xuXHRcdGRhdGFUeXBlOiAnanNvbicsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEFzeW5jXG5cdFx0ICogZGVmYXVsdCB0byBmYWxzZVxuXHRcdCAqXG5cdFx0ICogQHR5cGUge0Jvb2xlYW59XG5cdFx0ICovXG5cdFx0YXN5bmM6IHRydWUsXG5cdFxuXHRcdHJlc3BvbnNlOltdLFxuXHRcblx0XHQvKipcblx0XHQgKiBJbml0aWFsaXplIEFqYXggbWV0aG9kc1xuXHRcdCAqIGxvYWRzIGNsYXNzIG1ldGhvZHNcblx0XHQgKi9cblx0XHRpbml0OiBmdW5jdGlvbihvYmopIHtcblx0XG5cdFx0XHQvLyBpZiBvYmogaXMgbm90IG9mIHR5cGUgb2JqZWN0IG9yIG51bGwgcmV0dXJuIGZhbHNlO1xuXHRcdFx0aWYgKCBvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBzZXQgb2JqZWN0IGRlZmF1bHRzIGlmIHZhbHVlcyBhcmUgbm90IHN1cHBsaWVkXG5cdFx0XHRvYmoudXJsICAgICAgPSAndXJsJyAgICAgICAgIGluIG9iaiA/IG9iai51cmwgOiB0aGlzLnVybDtcblx0XHRcdG9iai50eXBlICAgICA9ICd0eXBlJyBcdFx0aW4gb2JqID8gb2JqLnR5cGUgOiB0aGlzLnR5cGU7XG5cdFx0XHRvYmouZGF0YSAgICAgPSAnZGF0YScgXHRcdGluIG9iaiA/IG9iai5kYXRhIDogdGhpcy5kYXRhO1xuXHRcdFx0b2JqLmNhY2hlICAgID0gJ2NhY2hlJyBcdFx0aW4gb2JqID8gb2JqLmNhY2hlIDogdGhpcy5jYWNoZTtcblx0XHRcdG9iai5kYXRhVHlwZSA9ICdkYXRhVHlwZSdcdGluIG9iaiA/IG9iai5kYXRhVHlwZSA6IHRoaXMuZGF0YVR5cGU7XG5cdFx0XHRvYmouYXN5bmMgICAgPSAnYXN5bmMnXHRcdGluIG9iaiA/IG9iai5hc3luYyA6IHRoaXMuYXN5bmM7XG5cdFxuXHRcdFx0Ly8gYWRkIG5vbmNlIHRvIGRhdGEgb2JqZWN0XG5cdFx0XHRvYmouZGF0YS5fYWpheF9ub25jZSA9IHdwX2FqYXhfZGF0YS5ub25jZTtcblx0XG5cdFx0XHQvLyBhZGQgcG9zdCBpZCB0byBkYXRhIG9iamVjdFxuXHRcdFx0dmFyICRSICAgICAgICAgICA9IExMTVMuUmVzdCxcblx0XHRcdHF1ZXJ5X3ZhcnMgICAgICAgPSAkUi5nZXRfcXVlcnlfdmFycygpO1xuXHRcdFx0b2JqLmRhdGEucG9zdF9pZCA9ICdwb3N0JyBpbiBxdWVyeV92YXJzID8gcXVlcnlfdmFycy5wb3N0IDogbnVsbDtcblx0XHRcdGlmICggISBvYmouZGF0YS5wb3N0X2lkICYmICQoICdpbnB1dCNwb3N0X0lEJyApLmxlbmd0aCApIHtcblx0XHRcdFx0b2JqLmRhdGEucG9zdF9pZCA9ICQoICdpbnB1dCNwb3N0X0lEJyApLnZhbCgpO1xuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiBvYmo7XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogQ2FsbFxuXHRcdCAqIENhbGxlZCBieSBleHRlcm5hbCBjbGFzc2VzXG5cdFx0ICogU2V0cyB1cCBqUXVlcnkgQWpheCBvYmplY3Rcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSAge1tvYmplY3RdfSBbb2JqZWN0IG9mIGFqYXggc2V0dGluZ3NdXG5cdFx0ICogQHJldHVybiB7W21peGVkXX0gW2ZhbHNlIGlmIG5vdCBvYmplY3Qgb3IgdGhpc11cblx0XHQgKi9cblx0XHRjYWxsOiBmdW5jdGlvbihvYmopIHtcblx0XG5cdFx0XHQvLyBnZXQgZGVmYXVsdCB2YXJpYWJsZXMgaWYgbm90IGluY2x1ZGVkIGluIGNhbGxcblx0XHRcdHZhciBzZXR0aW5ncyA9IHRoaXMuaW5pdCggb2JqICk7XG5cdFxuXHRcdFx0Ly8gaWYgaW5pdCByZXR1cm4gYSByZXNwb25zZSBvZiBmYWxzZVxuXHRcdFx0aWYgKCAhIHNldHRpbmdzKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMucmVxdWVzdCggc2V0dGluZ3MgKTtcblx0XHRcdH1cblx0XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogQ2FsbHMgalF1ZXJ5IEFqYXggb24gc2V0dGluZ3Mgb2JqZWN0XG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuIHtbb2JqZWN0XX0gW3RoaXNdXG5cdFx0ICovXG5cdFx0cmVxdWVzdDogZnVuY3Rpb24oc2V0dGluZ3MpIHtcblx0XG5cdFx0XHQkLmFqYXgoIHNldHRpbmdzICk7XG5cdFxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFxuXHRcdH1cblx0XG5cdH07XG5cdFxuXHRcdC8qKlxuXHQgKiBDcmVhdGUgYSBEb251dCBDaGFydFxuXHQgKlxuXHQgKiBAcGFja2FnZSBMaWZ0ZXJMTVMvU2NyaXB0c1xuXHQgKlxuXHQgKiBAc2luY2UgICAgMy45LjBcblx0ICogQHZlcnNpb24gIDMuOS4wXG5cdCAqXG5cdCAqIEBsaW5rICBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9qb2V5aW5ib3gvODIwNTk2MlxuXHQgKlxuXHQgKiBAcGFyYW0gICAgb2JqICAgJGVsICBqUXVlcnkgZWxlbWVudCB0byBkcmF3IGEgY2hhcnQgd2l0aGluXG5cdCAqL1xuXHRcblx0TExNUy5Eb251dCA9IGZ1bmN0aW9uKCAkZWwgKSB7XG5cdFxuXHRcdGZ1bmN0aW9uIERvbnV0KG9wdGlvbnMpIHtcblx0XG5cdFx0XHR0aGlzLnNldHRpbmdzID0gJC5leHRlbmQoIHtcblx0XHRcdFx0ZWxlbWVudDogb3B0aW9ucy5lbGVtZW50LFxuXHRcdFx0XHRwZXJjZW50OiAxMDBcblx0XHRcdH0sIG9wdGlvbnMgKTtcblx0XG5cdFx0XHR0aGlzLmNpcmNsZSAgICAgICAgICAgICAgICA9IHRoaXMuc2V0dGluZ3MuZWxlbWVudC5maW5kKCAncGF0aCcgKTtcblx0XHRcdHRoaXMuc2V0dGluZ3Muc3Ryb2tlX3dpZHRoID0gcGFyc2VJbnQoIHRoaXMuY2lyY2xlLmNzcyggJ3N0cm9rZS13aWR0aCcgKSApO1xuXHRcdFx0dGhpcy5yYWRpdXMgICAgICAgICAgICAgICAgPSAoIHBhcnNlSW50KCB0aGlzLnNldHRpbmdzLmVsZW1lbnQuY3NzKCAnd2lkdGgnICkgKSAtIHRoaXMuc2V0dGluZ3Muc3Ryb2tlX3dpZHRoICkgLyAyO1xuXHRcdFx0dGhpcy5hbmdsZSAgICAgICAgICAgICAgICAgPSAtOTcuNTsgLy8gT3JpZ2luIG9mIHRoZSBkcmF3IGF0IHRoZSB0b3Agb2YgdGhlIGNpcmNsZVxuXHRcdFx0dGhpcy5pICAgICAgICAgICAgICAgICAgICAgPSBNYXRoLnJvdW5kKCAwLjc1ICogdGhpcy5zZXR0aW5ncy5wZXJjZW50ICk7XG5cdFx0XHR0aGlzLmZpcnN0ICAgICAgICAgICAgICAgICA9IHRydWU7XG5cdFxuXHRcdFx0dGhpcy5hbmltYXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbCggdGhpcy5sb29wLmJpbmQoIHRoaXMgKSwgMTAgKTtcblx0XHRcdH07XG5cdFxuXHRcdFx0dGhpcy5sb29wID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRoaXMuYW5nbGUgKz0gNTtcblx0XHRcdFx0dGhpcy5hbmdsZSAlPSAzNjA7XG5cdFx0XHRcdHZhciByYWRpYW5zID0gKCB0aGlzLmFuZ2xlIC8gMTgwICkgKiBNYXRoLlBJLFxuXHRcdFx0XHRcdHggICAgICAgPSB0aGlzLnJhZGl1cyArIHRoaXMuc2V0dGluZ3Muc3Ryb2tlX3dpZHRoIC8gMiArIE1hdGguY29zKCByYWRpYW5zICkgKiB0aGlzLnJhZGl1cyxcblx0XHRcdFx0XHR5ICAgICAgID0gdGhpcy5yYWRpdXMgKyB0aGlzLnNldHRpbmdzLnN0cm9rZV93aWR0aCAvIDIgKyBNYXRoLnNpbiggcmFkaWFucyApICogdGhpcy5yYWRpdXMsXG5cdFx0XHRcdFx0ZDtcblx0XHRcdFx0aWYgKHRoaXMuZmlyc3QgPT09IHRydWUpIHtcblx0XHRcdFx0XHRkICAgICAgICAgID0gdGhpcy5jaXJjbGUuYXR0ciggJ2QnICkgKyAnIE0gJyArIHggKyAnICcgKyB5O1xuXHRcdFx0XHRcdHRoaXMuZmlyc3QgPSBmYWxzZTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRkID0gdGhpcy5jaXJjbGUuYXR0ciggJ2QnICkgKyAnIEwgJyArIHggKyAnICcgKyB5O1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuY2lyY2xlLmF0dHIoICdkJywgZCApO1xuXHRcdFx0XHR0aGlzLmktLTtcblx0XG5cdFx0XHRcdGlmICh0aGlzLmkgPD0gMCkge1xuXHRcdFx0XHRcdGNsZWFySW50ZXJ2YWwoIHRoaXMudGltZXIgKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9XG5cdFxuXHRcdGZ1bmN0aW9uIGRyYXcoICRlbCApIHtcblx0XHRcdHZhciBwYXRoID0gJzxwYXRoIGQ9XCJNMTAwLDEwMFwiIC8+Jztcblx0XHRcdCRlbC5hcHBlbmQoICc8c3ZnIHByZXNlcnZlQXNwZWN0UmF0aW89XCJ4TWlkWU1pZFwiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiPicgKyBwYXRoICsgJzwvc3ZnPicgKTtcblx0XHRcdHZhciBkb251dCA9IG5ldyBEb251dCgge1xuXHRcdFx0XHRlbGVtZW50OiAkZWwsXG5cdFx0XHRcdHBlcmNlbnQ6ICRlbC5hdHRyKCAnZGF0YS1wZXJjJyApXG5cdFx0XHR9ICk7XG5cdFx0XHRkb251dC5hbmltYXRlKCk7XG5cdFx0fVxuXHRcblx0XHRkcmF3KCAkZWwgKTtcblx0XG5cdH07XG5cdFxuXHRcdC8qKlxuXHQgKiBGb3Jtc1xuXHQgKlxuXHQgKiBAcGFja2FnZSBMaWZ0ZXJMTVMvU2NyaXB0c1xuXHQgKlxuXHQgKiBAc2luY2UgW3ZlcnNpb25dXG5cdCAqIEB2ZXJzaW9uIFt2ZXJzaW9uXVxuXHQgKi9cblx0XG5cdExMTVMuRm9ybXMgPSB7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFN0b3JlcyBsb2NhbGUgaW5mb3JtYXRpb24uXG5cdFx0ICpcblx0XHQgKiBBZGRlZCB2aWEgUEhQLlxuXHRcdCAqXG5cdFx0ICogQHR5cGUge09iamVjdH1cblx0XHQgKi9cblx0XHRsb2NhbGU6IHt9LFxuXHRcblx0XHQvKipcblx0XHQgKiBTdG9yZXMgcmVmZXJlbmNlcyB0byB0aGUgZGVmYXVsdCBsb2NhbGUgc3RyaW5nc1xuXHRcdCAqIGFzIGNvbmZpZ3VyZWQgYnkgdXNlcnMgaW4gdGhlIGZvcm0gZWRpdG9yLlxuXHRcdCAqXG5cdFx0ICogQHR5cGUge09iamVjdH1cblx0XHQgKi9cblx0XHRsb2NhbGVfZGVmYXVsdHM6IHt9LFxuXHRcblx0XHQvKipcblx0XHQgKiBqUXVlcnkgcmVmLiB0byB0aGUgY291bnRyaWVzIHNlbGVjdCBmaWVsZC4uXG5cdFx0ICpcblx0XHQgKiBAdHlwZSB7T2JqZWN0fVxuXHRcdCAqL1xuXHRcdCRjb3VudHJpZXM6IG51bGwsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIGpRdWVyeSByZWYuIHRvIHRoZSBzdGF0ZXMgc2VsZWN0IGZpZWxkLlxuXHRcdCAqXG5cdFx0ICogQHR5cGUge09iamVjdH1cblx0XHQgKi9cblx0XHQkc3RhdGVzOiBudWxsLFxuXHRcblx0XHQvKipcblx0XHQgKiBqUXVlcnkgcmVmLiB0byB0aGUgaGlkZGVuIHN0YXRlcyBob2xkZXIgZmllbGQuXG5cdFx0ICpcblx0XHQgKiBAdHlwZSB7T2JqZWN0fVxuXHRcdCAqL1xuXHRcdCRzdGF0ZXNfaG9sZGVyOiBudWxsLFxuXHRcblx0XHQvKipcblx0XHQgKiBJbml0XG5cdFx0ICpcblx0IFx0ICogQHNpbmNlIFt2ZXJzaW9uXVxuXHQgXHQgKlxuXHQgXHQgKiBAcmV0dXJuIHt2b2lkfVxuXHRcdCAqL1xuXHRcdGluaXQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdGlmICggJCggJ2JvZHknICkuaGFzQ2xhc3MoICd3cC1hZG1pbicgKSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XG5cdFx0XHRzZWxmLmJpbmRfbWF0Y2hpbmdfZmllbGRzKCk7XG5cdFx0XHRzZWxmLmJpbmRfdm91Y2hlcl9maWVsZCgpO1xuXHRcblx0XHRcdExMTVMud2FpdF9mb3IoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gKCB1bmRlZmluZWQgIT09ICQuZm4ubGxtc1NlbGVjdDIgKTtcblx0XHRcdH0sIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzZWxmLmJpbmRfbDEwbl9zZWxlY3RzKCk7XG5cdFx0XHR9ICk7XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEJpbmQgRE9NIEV2ZW50cyBmaWVsZHMgd2l0aCBkeW5hbWljIGxvY2FsaXphdGlvbiB2YWx1ZXMgYW5kIGxhbmd1YWdlLlxuXHRcdCAqXG5cdFx0ICogQHNpbmNlIFt2ZXJzaW9uXVxuXHRcdCAqXG5cdFx0ICogQHJldHVybiB7dm9pZH1cblx0XHQgKi9cblx0XHRiaW5kX2wxMG5fc2VsZWN0czogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcblx0XHRcdHNlbGYuJGNvdW50cmllcyA9ICQoICcubGxtcy1sMTBuLWNvdW50cnktc2VsZWN0IHNlbGVjdCcgKTtcblx0XHRcdHNlbGYuJHN0YXRlcyAgICA9ICQoICcubGxtcy1sMTBuLXN0YXRlLXNlbGVjdCBzZWxlY3QnICk7XG5cdFx0XHRzZWxmLiR6aXBzICAgICAgPSAkKCAnI2xsbXNfYmlsbGluZ196aXAnICk7XG5cdFxuXHRcdFx0aWYgKCAhIHNlbGYuJGNvdW50cmllcy5sZW5ndGggKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoIHNlbGYuJHN0YXRlcy5sZW5ndGggKSB7XG5cdFx0XHRcdHNlbGYucHJlcF9zdGF0ZV9maWVsZCgpO1xuXHRcdFx0fVxuXHRcblx0XHRcdHNlbGYuJGNvdW50cmllcy5hZGQoIHNlbGYuJHN0YXRlcyApLmxsbXNTZWxlY3QyKCB7IHdpZHRoOiAnMTAwJScgfSApO1xuXHRcblx0XHRcdGlmICggd2luZG93LmxsbXMubG9jYWxlICkge1xuXHRcdFx0XHRzZWxmLmxvY2FsZSA9IEpTT04ucGFyc2UoIHdpbmRvdy5sbG1zLmxvY2FsZSApO1xuXHRcdFx0XHRzZWxmLmxvY2FsZV9kZWZhdWx0cyA9IHtcblx0XHRcdFx0XHRzdGF0ZTogKGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0XHR2YXIgJGxhYmVsID0gc2VsZi5nZXRfZmllbGRfcGFyZW50KCBzZWxmLiRzdGF0ZXMgKS5maW5kKCAnbGFiZWwnICkuY2xvbmUoKTtcblx0XHRcdFx0XHRcdCRsYWJlbC5maW5kKCAnKicgKS5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdHJldHVybiAkbGFiZWwudGV4dCgpLnRyaW0oKTtcblx0XHRcdFx0XHR9KSgpLFxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcblx0XHRcdHNlbGYuJGNvdW50cmllcy5vbiggJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdFx0dmFyIHZhbCA9ICQoIHRoaXMgKS52YWwoKTtcblx0XHRcdFx0c2VsZi51cGRhdGVfc3RhdGVfb3B0aW9ucyggdmFsICk7XG5cdFx0XHRcdHNlbGYudXBkYXRlX2xvY2FsZV9pbmZvKCB2YWwgKTtcblx0XG5cdFx0XHR9ICkudHJpZ2dlciggJ2NoYW5nZScgKTtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogRW5zdXJlIFwibWF0Y2hpbmdcIiBmaWVsZHMgbWF0Y2guXG5cdFx0ICpcblx0XHQgKiBAc2luY2UgW3ZlcnNpb25dXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuIHtWb2lkfVxuXHRcdCAqL1xuXHRcdGJpbmRfbWF0Y2hpbmdfZmllbGRzOiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHR2YXIgJGZpZWxkcyA9ICQoICdpbnB1dFtkYXRhLW1hdGNoXScgKS5ub3QoICdbdHlwZT1cInBhc3N3b3JkXCJdJyApO1xuXHRcblx0XHRcdCRmaWVsZHMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0XHR2YXIgJGZpZWxkID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdCRtYXRjaCA9ICQoICcjJyArICRmaWVsZC5hdHRyKCAnZGF0YS1tYXRjaCcgKSApLFxuXHRcdFx0XHRcdCRwYXJlbnRzO1xuXHRcblx0XHRcdFx0aWYgKCAkbWF0Y2gubGVuZ3RoICkge1xuXHRcblx0XHRcdFx0XHQkcGFyZW50cyA9ICRmaWVsZC5jbG9zZXN0KCAnLmxsbXMtZm9ybS1maWVsZCcgKS5hZGQoICRtYXRjaC5jbG9zZXN0KCAnLmxsbXMtZm9ybS1maWVsZCcgKSApO1xuXHRcblx0XHRcdFx0XHQkZmllbGQub24oICdpbnB1dCBjaGFuZ2UnLCBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHRcdFx0XHR2YXIgdmFsXzEgPSAkZmllbGQudmFsKCksXG5cdFx0XHRcdFx0XHRcdHZhbF8yID0gJG1hdGNoLnZhbCgpO1xuXHRcblx0XHRcdFx0XHRcdGlmICggdmFsXzEgJiYgdmFsXzIgJiYgdmFsXzEgIT09IHZhbF8yICkge1xuXHRcdFx0XHRcdFx0XHQkcGFyZW50cy5hZGRDbGFzcyggJ2ludmFsaWQnICk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHQkcGFyZW50cy5yZW1vdmVDbGFzcyggJ2ludmFsaWQnICk7XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdH0gKTtcblx0XG5cdFx0XHRcdH1cblx0XG5cdFx0XHR9ICk7XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEJpbmQgRE9NIGV2ZW50cyBmb3Igdm91Y2hlciB0b2dnbGVzIFVYLlxuXHRcdCAqXG5cdFx0ICogQHNpbmNlIFt2ZXJzaW9uXVxuXHRcdCAqXG5cdFx0ICogQHJldHVybiB7dm9pZH1cblx0XHQgKi9cblx0XHRiaW5kX3ZvdWNoZXJfZmllbGQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdCQoICcjbGxtcy12b3VjaGVyLXRvZ2dsZScgKS5vbiggJ2NsaWNrJywgZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0JCggJyNsbG1zX3ZvdWNoZXInICkudG9nZ2xlKCk7XG5cdFx0XHR9ICk7XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFJldHJpZXZlIHRoZSBwYXJlbnQgZWxlbWVudCBmb3IgYSBnaXZlbiBmaWVsZC5cblx0XHQgKlxuXHRcdCAqIFRoZSBwYXJlbnQgZWxlbWVudCBpcyBoaWRkZW4gd2hlbiB0aGUgZmllbGQgaXNuJ3QgcmVxdWlyZWQuXG5cdFx0ICogTG9va3MgZm9yIGEgV1AgY29sdW1uIHdyYXBwZXIgYW5kIGZhbGxzIGJhY2sgdG8gdGhlIGZpZWxkJ3Ncblx0XHQgKiB3cmFwcGVyIGRpdi5cblx0XHQgKlxuXHRcdCAqIEBzaW5jZSBbdmVyc2lvbl1cblx0XHQgKlxuXHRcdCAqIEBzZWUge1JlZmVyZW5jZX1cblx0XHQgKiBAbGluayB7VVJMfVxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtbdHlwZV19ICRmaWVsZFxuXHRcdCAqIEByZXR1cm4ge1t0eXBlXX1cblx0XHQgKi9cblx0XHRnZXRfZmllbGRfcGFyZW50OiBmdW5jdGlvbiggJGZpZWxkICkge1xuXHRcblx0XHRcdHZhciAkYmxvY2sgPSAkZmllbGQuY2xvc2VzdCggJy53cC1ibG9jay1jb2x1bW4nICk7XG5cdFx0XHRpZiAoICRibG9jay5sZW5ndGggKSB7XG5cdFx0XHRcdHJldHVybiAkYmxvY2s7XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuICRmaWVsZC5jbG9zZXN0KCAnLmxsbXMtZm9ybS1maWVsZCcgKTtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogUHJlcGFyZXMgdGhlIHN0YXRlIHNlbGVjdCBmaWVsZC5cblx0XHQgKlxuXHRcdCAqIE1vdmVzIEFsbCBvcHRncm91cCBlbGVtZW50cyBpbnRvIGEgaGlkZGVuICYgZGlzYWJsZWQgc2VsZWN0IGVsZW1lbnQuXG5cdFx0ICpcblx0XHQgKiBAc2luY2UgW3ZlcnNpb25dXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuIHt2b2lkfVxuXHRcdCAqL1xuXHRcdHByZXBfc3RhdGVfZmllbGQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdHZhciAkcGFyZW50ID0gdGhpcy4kc3RhdGVzLmNsb3Nlc3QoICcubGxtcy1mb3JtLWZpZWxkJyApO1xuXHRcblx0XHRcdHRoaXMuJGhvbGRlciA9ICQoICc8c2VsZWN0IGRpc2FibGVkIHN0eWxlPVwiZGlzcGxheTpub25lICFpbXBvcnRhbnQ7XCIgLz4nICk7XG5cdFxuXHRcdFx0dGhpcy4kaG9sZGVyLmFwcGVuZFRvKCAkcGFyZW50ICk7XG5cdFx0XHR0aGlzLiRzdGF0ZXMuZmluZCggJ29wdGdyb3VwJyApLmFwcGVuZFRvKCB0aGlzLiRob2xkZXIgKTtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogVXBkYXRlcyB0aGUgdGV4dCBvZiBhIGxhYmVsIGZvciBhIGdpdmVuIGZpZWxkLlxuXHRcdCAqXG5cdFx0ICogQHNpbmNlIFt2ZXJzaW9uXVxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtPYmplY3R9ICRmaWVsZCBqUXVlcnkgb2JqZWN0IG9mIHRoZSBmb3JtIGZpZWxkLlxuXHRcdCAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0IExhYmVsIHRleHQuXG5cdFx0ICogQHJldHVybiB7dm9pZH1cblx0XHQgKi9cblx0XHR1cGRhdGVfbGFiZWw6IGZ1bmN0aW9uKCAkZmllbGQsIHRleHQgKSB7XG5cdFxuXHRcdFx0dmFyICRsYWJlbCA9IHRoaXMuZ2V0X2ZpZWxkX3BhcmVudCggJGZpZWxkICkuZmluZCggJ2xhYmVsJyApLFxuXHRcdFx0XHQkcmVxdWlyZWQgPSAkbGFiZWwuZmluZCggJy5sbG1zLXJlcXVpcmVkJyApLmNsb25lKCk7XG5cdFxuXHRcdFx0JGxhYmVsLmh0bWwoIHRleHQgKTtcblx0XHRcdCRsYWJlbC5hcHBlbmQoICRyZXF1aXJlZCApO1xuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBVcGRhdGUgZm9ybSBmaWVsZHMgYmFzZWQgb24gc2VsZWN0ZWQgY291bnRyeVxuXHRcdCAqXG5cdFx0ICogUmVwbGFjZXMgbGFiZWwgdGV4dCB3aXRoIGxvY2FsZS1zcGVjaWZpYyBsYW5ndWFnZSBhbmRcblx0XHQgKiBoaWRlcyBvciBzaG93cyB6aXAgZmllbGRzIGJhc2VkIG9uIHdoZXRoZXIgb3Igbm90XG5cdFx0ICogdGhleSBhcmUgcmVxdWlyZWQgZm9yIHRoZSBnaXZlbiBjb3VudHJ5LlxuXHRcdCAqXG5cdFx0ICogQHNpbmNlIFt2ZXJzaW9uXVxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtTdHJpbmd9IGNvdW50cnlfY29kZSBDdXJyZW50bHkgc2VsZWN0ZWQgY291bnRyeSBjb2RlLlxuXHRcdCAqIEByZXR1cm4ge3ZvaWR9XG5cdFx0ICovXG5cdFx0dXBkYXRlX2xvY2FsZV9pbmZvOiBmdW5jdGlvbiggY291bnRyeV9jb2RlICkge1xuXHRcblx0XHRcdGlmICggISB0aGlzLmxvY2FsZSB8fCAhIHRoaXMubG9jYWxlWyBjb3VudHJ5X2NvZGUgXSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcblx0XHRcdHZhciBpbmZvID0gdGhpcy5sb2NhbGVbIGNvdW50cnlfY29kZSBdLFxuXHRcdFx0XHRzdGF0ZV90ZXh0ID0gaW5mby5zdGF0ZSA/IGluZm8uc3RhdGUgOiB0aGlzLmxvY2FsZV9kZWZhdWx0cy5zdGF0ZTtcblx0XG5cdFx0XHR0aGlzLnVwZGF0ZV9sYWJlbCggdGhpcy4kc3RhdGVzLCBzdGF0ZV90ZXh0ICk7XG5cdFxuXHRcdFx0dmFyICR6aXBzX3BhcmVudCA9IHRoaXMuZ2V0X2ZpZWxkX3BhcmVudCggdGhpcy4kemlwcyApO1xuXHRcdFx0dGhpcy4kemlwcy5yZW1vdmVBdHRyKCAnZGlzYWJsZWQnICk7XG5cdFx0XHRpZiAoIGluZm8uemlwICkge1xuXHRcdFx0XHR0aGlzLnVwZGF0ZV9sYWJlbCggdGhpcy4kemlwcywgaW5mby56aXAgKTtcblx0XHRcdFx0JHppcHNfcGFyZW50LnNob3coKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuJHppcHMuYXR0ciggJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyApO1xuXHRcdFx0XHQkemlwc19wYXJlbnQuaGlkZSgpO1xuXHRcdFx0fVxuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBVcGRhdGUgdGhlIGF2YWlsYWJsZSBvcHRpb25zIGluIHRoZSBzdGF0ZSBmaWVsZFxuXHRcdCAqXG5cdFx0ICogUmVtb3ZlcyBleGlzdGluZyBvcHRpb25zIGFuZCBjb3BpZXMgdGhlIG9wdGlvbnNcblx0XHQgKiBmb3IgdGhlIHJlcXVlc3RlZCBjb3VudHJ5IGZyb20gdGhlIGhpZGRlbiBzZWxlY3QgZmllbGQuXG5cdFx0ICpcblx0XHQgKiBJZiB0aGVyZSBhcmUgbm8gc3RhdGVzIGZvciB0aGUgZ2l2ZW4gY291bnRyeSB0aGUgc3RhdGVcblx0XHQgKiBmaWVsZCB3aWxsIGJlIGhpZGRlbi5cblx0XHQgKlxuXHRcdCAqIEBzaW5jZSBbdmVyc2lvbl1cblx0XHQgKlxuXHRcdCAqIEBzZWUge1JlZmVyZW5jZX1cblx0XHQgKiBAbGluayB7VVJMfVxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtTdHJpbmd9IGNvdW50cnlfY29kZSBDdXJyZW50bHkgc2VsZWN0ZWQgY291bnRyeSBjb2RlLlxuXHRcdCAqIEByZXR1cm4ge3ZvaWR9XG5cdFx0ICovXG5cdFx0dXBkYXRlX3N0YXRlX29wdGlvbnM6IGZ1bmN0aW9uKCBjb3VudHJ5X2NvZGUgKSB7XG5cdFxuXHRcdFx0aWYgKCAhIHRoaXMuJHN0YXRlcy5sZW5ndGggKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XG5cdFx0XHR2YXIgb3B0cyAgICA9IHRoaXMuJGhvbGRlci5maW5kKCAnb3B0Z3JvdXBbZGF0YS1rZXk9XCInICsgY291bnRyeV9jb2RlICsgJ1wiXSBvcHRpb24nICkuY2xvbmUoKSxcblx0XHRcdFx0JHBhcmVudCA9IHRoaXMuZ2V0X2ZpZWxkX3BhcmVudCggdGhpcy4kc3RhdGVzICk7XG5cdFxuXHRcdFx0aWYgKCAhIG9wdHMubGVuZ3RoICkge1xuXHRcdFx0XHR0aGlzLiRzdGF0ZXMuaHRtbCggJzxvcHRpb24+Jm5ic3A8L29wdGlvbj4nICk7XG5cdFx0XHRcdHRoaXMuJHN0YXRlcy5hdHRyKCAnZGlzYWJsZWQnLCAnZGlzYWJsZWQnICk7XG5cdFx0XHRcdCRwYXJlbnQuaGlkZSgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy4kc3RhdGVzLmh0bWwoIG9wdHMgKTtcblx0XHRcdFx0dGhpcy4kc3RhdGVzLnJlbW92ZUF0dHIoICdkaXNhYmxlZCcgKTtcblx0XHRcdFx0JHBhcmVudC5zaG93KCk7XG5cdFx0XHR9XG5cdFxuXHRcdH0sXG5cdFxuXHR9O1xuXHRcblx0XHQvKipcblx0ICogSW5zdHJ1Y3RvcnMgTGlzdFxuXHQgKlxuXHQgKiBAcGFja2FnZSBMaWZ0ZXJMTVMvU2NyaXB0c1xuXHQgKlxuXHQgKiBAc2luY2UgIFVua25vd25cblx0ICogQHZlcnNpb24gIFVua25vd25cblx0ICovXG5cdFxuXHRMTE1TLkluc3RydWN0b3JzID0ge1xuXHRcblx0XHQvKipcblx0XHQgKiBJbml0XG5cdFx0ICovXG5cdFx0aW5pdDogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcblx0XHRcdGlmICggJCggJ2JvZHknICkuaGFzQ2xhc3MoICd3cC1hZG1pbicgKSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggJCggJy5sbG1zLWluc3RydWN0b3JzJyApLmxlbmd0aCApIHtcblx0XG5cdFx0XHRcdExMTVMud2FpdF9mb3JfbWF0Y2hIZWlnaHQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHNlbGYuYmluZCgpO1xuXHRcdFx0XHR9ICk7XG5cdFxuXHRcdFx0fVxuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBCaW5kIE1ldGhvZFxuXHRcdCAqIEhhbmRsZXMgZG9tIGJpbmRpbmcgb24gbG9hZFxuXHRcdCAqXG5cdFx0ICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXG5cdFx0ICovXG5cdFx0YmluZDogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0JCggJy5sbG1zLWluc3RydWN0b3JzIC5sbG1zLWF1dGhvcicgKS5tYXRjaEhlaWdodCgpO1xuXHRcblx0XHR9LFxuXHRcblx0fTtcblx0XG5cdFx0LyoqXG5cdCAqIExvY2FsaXphdGlvbiBmdW5jdGlvbnMgZm9yIExpZnRlckxNUyBKYXZhc2NyaXB0XG5cdCAqXG5cdCAqIEBwYWNrYWdlIExpZnRlckxNUy9TY3JpcHRzXG5cdCAqXG5cdCAqIEBzaW5jZSAgMi43LjNcblx0ICogQHZlcnNpb24gIDIuNy4zXG5cdCAqXG5cdCAqIEB0b2RvICB3ZSBuZWVkIG1vcmUgcm9idXN0IHRyYW5zbGF0aW9uIGZ1bmN0aW9ucyB0byBoYW5kbGUgc3ByaW50ZiBhbmQgcGx1cmFsaXphdGlvblxuXHQgKiAgICAgICAgYXQgdGhpcyBtb21lbnQgd2UgZG9uJ3QgbmVlZCB0aG9zZSBhbmQgaGF2ZW4ndCBzdHViYmVkIHRoZW0gb3V0XG5cdCAqICAgICAgICB0aG9zZSB3aWxsIGJlIGFkZGVkIHdoZW4gdGhleSdyZSBuZWVkZWRcblx0ICovXG5cdFxuXHRMTE1TLmwxMG4gPSBMTE1TLmwxMG4gfHwge307XG5cdFxuXHRMTE1TLmwxMG4udHJhbnNsYXRlID0gZnVuY3Rpb24gKCBzdHJpbmcgKSB7XG5cdFxuXHRcdHZhciBzZWxmID0gdGhpcztcblx0XG5cdFx0aWYgKCBzZWxmLnN0cmluZ3Nbc3RyaW5nXSApIHtcblx0XG5cdFx0XHRyZXR1cm4gc2VsZi5zdHJpbmdzW3N0cmluZ107XG5cdFxuXHRcdH0gZWxzZSB7XG5cdFxuXHRcdFx0cmV0dXJuIHN0cmluZztcblx0XG5cdFx0fVxuXHRcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBUcmFuc2xhdGUgYW5kIHJlcGxhY2UgcGxhY2Vob2xkZXJzIGluIGEgc3RyaW5nXG5cdCAqXG5cdCAqIEBleGFtcGxlIExMTVMubDEwbi5yZXBsYWNlKCAnVGhpcyBpcyBhICUyJHMgJTEkcyBTdHJpbmcnLCB7XG5cdCAqICAgICAgICAgICBcdCclMSRzJzogJ2Nvb2wnLFxuXHQgKiAgICBcdFx0XHQnJTIkcyc6ICd2ZXJ5J1xuXHQgKiAgICBcdFx0fSApO1xuXHQgKiAgICBcdFx0T3V0cHV0OiBcIlRoaXMgaXMgYSB2ZXJ5IGNvb2wgU3RyaW5nXCJcblx0ICpcblx0ICogQHBhcmFtICAgIHN0cmluZyAgIHN0cmluZyAgICAgICAgdGV4dCBzdHJpbmdcblx0ICogQHBhcmFtICAgIG9iamVjdCAgIHJlcGxhY2VtZW50cyAgb2JqZWN0IGNvbnRhaW5pbmcgdG9rZW4gPT4gcmVwbGFjZW1lbnQgcGFpcnNcblx0ICogQHJldHVybiAgIHN0cmluZ1xuXHQgKiBAc2luY2UgICAgMy4xNi4wXG5cdCAqIEB2ZXJzaW9uICAzLjE2LjBcblx0ICovXG5cdExMTVMubDEwbi5yZXBsYWNlID0gZnVuY3Rpb24oIHN0cmluZywgcmVwbGFjZW1lbnRzICkge1xuXHRcblx0XHR2YXIgc3RyID0gdGhpcy50cmFuc2xhdGUoIHN0cmluZyApO1xuXHRcblx0XHQkLmVhY2goIHJlcGxhY2VtZW50cywgZnVuY3Rpb24oIHRva2VuLCB2YWx1ZSApIHtcblx0XG5cdFx0XHRpZiAoIC0xICE9PSB0b2tlbi5pbmRleE9mKCAncycgKSApIHtcblx0XHRcdFx0dmFsdWUgPSB2YWx1ZS50b1N0cmluZygpO1xuXHRcdFx0fSBlbHNlIGlmICggLTEgIT09IHRva2VuLmluZGV4T2YoICdkJyApICkge1xuXHRcdFx0XHR2YWx1ZSA9IHZhbHVlICogMTtcblx0XHRcdH1cblx0XG5cdFx0XHRzdHIgPSBzdHIucmVwbGFjZSggdG9rZW4sIHZhbHVlICk7XG5cdFxuXHRcdH0gKTtcblx0XG5cdFx0cmV0dXJuIHN0cjtcblx0XG5cdH07XG5cdFxuXHRcdC8qKlxuXHQgKiBIYW5kbGUgTGVzc29uIFByZXZpZXcgRWxlbWVudHNcblx0ICpcblx0ICogQHBhY2thZ2UgTGlmdGVyTE1TL1NjcmlwdHNcblx0ICpcblx0ICogQHNpbmNlICAgIDMuMC4wXG5cdCAqIEB2ZXJzaW9uICAzLjE2LjEyXG5cdCAqL1xuXHRcblx0TExNUy5MZXNzb25QcmV2aWV3ID0ge1xuXHRcblx0XHQvKipcblx0XHQgKiBBIGpRdWVyeSBvYmplY3Qgb2YgYWxsIG91dGxpbmVzIHByZXNlbnQgb24gdGhlIGN1cnJlbnQgc2NyZWVuXG5cdFx0ICpcblx0XHQgKiBAdHlwZSBvYmpcblx0XHQgKi9cblx0XHQkZWxzOiBudWxsLFxuXHRcblx0XHQvKipcblx0XHQgKiBJbml0aWFsaXplXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuIHZvaWRcblx0XHQgKi9cblx0XHRpbml0OiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFxuXHRcdFx0dGhpcy4kbG9ja2VkID0gJCggJ2FbaHJlZj1cIiNsbG1zLWxlc3Nvbi1sb2NrZWRcIl0nICk7XG5cdFxuXHRcdFx0aWYgKCB0aGlzLiRsb2NrZWQubGVuZ3RoICkge1xuXHRcblx0XHRcdFx0c2VsZi5iaW5kKCk7XG5cdFxuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggJCggJy5sbG1zLWNvdXJzZS1uYXZpZ2F0aW9uJyApLmxlbmd0aCApIHtcblx0XG5cdFx0XHRcdExMTVMud2FpdF9mb3JfbWF0Y2hIZWlnaHQoIGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdFx0XHRzZWxmLm1hdGNoX2hlaWdodCgpO1xuXHRcblx0XHRcdFx0fSApO1xuXHRcblx0XHRcdH1cblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogQmluZCBET00gZXZlbnRzXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4xNi4xMlxuXHRcdCAqL1xuXHRcdGJpbmQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XG5cdFx0XHR0aGlzLiRsb2NrZWQub24oICdjbGljaycsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9ICk7XG5cdFxuXHRcdFx0dGhpcy4kbG9ja2VkLm9uKCAnbW91c2VlbnRlcicsIGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdFx0dmFyICR0aXAgPSAkKCB0aGlzICkuZmluZCggJy5sbG1zLXRvb2x0aXAnICk7XG5cdFx0XHRcdGlmICggISAkdGlwLmxlbmd0aCApIHtcblx0XHRcdFx0XHR2YXIgbXNnID0gJCggdGhpcyApLmF0dHIoICdkYXRhLXRvb2x0aXAtbXNnJyApO1xuXHRcdFx0XHRcdGlmICggISBtc2cgKSB7XG5cdFx0XHRcdFx0XHRtc2cgPSBMTE1TLmwxMG4udHJhbnNsYXRlKCAnWW91IGRvIG5vdCBoYXZlIHBlcm1pc3Npb24gdG8gYWNjZXNzIHRoaXMgY29udGVudCcgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0JHRpcCA9IHNlbGYuZ2V0X3Rvb2x0aXAoIG1zZyApO1xuXHRcdFx0XHRcdCQoIHRoaXMgKS5hcHBlbmQoICR0aXAgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHQkdGlwLmFkZENsYXNzKCAnc2hvdycgKTtcblx0XHRcdFx0fSwgMTAgKTtcblx0XG5cdFx0XHR9ICk7XG5cdFxuXHRcdFx0dGhpcy4kbG9ja2VkLm9uKCAnbW91c2VsZWF2ZScsIGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdFx0dmFyICR0aXAgPSAkKCB0aGlzICkuZmluZCggJy5sbG1zLXRvb2x0aXAnICk7XG5cdFx0XHRcdCR0aXAucmVtb3ZlQ2xhc3MoICdzaG93JyApO1xuXHRcblx0XHRcdH0gKTtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogTWF0Y2ggdGhlIGhlaWdodCBvZiBsZXNzb24gcHJldmlldyBpdGVtcyBpbiBjb3Vyc2UgbmF2aWdhdGlvbiBibG9ja3Ncblx0XHQgKlxuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMC4wXG5cdFx0ICovXG5cdFx0bWF0Y2hfaGVpZ2h0OiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHQkKCAnLmxsbXMtY291cnNlLW5hdmlnYXRpb24gLmxsbXMtbGVzc29uLWxpbmsnICkubWF0Y2hIZWlnaHQoKTtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogR2V0IGEgdG9vbHRpcCBlbGVtZW50XG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gICAgc3RyaW5nICAgbXNnICAgbWVzc2FnZSB0byBkaXNwbGF5IGluc2lkZSB0aGUgdG9vbHRpcFxuXHRcdCAqIEByZXR1cm4gICBvYmpcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4yLjRcblx0XHQgKi9cblx0XHRnZXRfdG9vbHRpcDogZnVuY3Rpb24oIG1zZyApIHtcblx0XHRcdHZhciAkZWwgPSAkKCAnPGRpdiBjbGFzcz1cImxsbXMtdG9vbHRpcFwiIC8+JyApO1xuXHRcdFx0JGVsLmFwcGVuZCggJzxkaXYgY2xhc3M9XCJsbG1zLXRvb2x0aXAtY29udGVudFwiPicgKyBtc2cgKyAnPC9kaXY+JyApO1xuXHRcdFx0cmV0dXJuICRlbDtcblx0XHR9LFxuXHRcblx0fTtcblx0XG5cdFx0LyoqXG5cdCAqIExpZnRlckxNUyBMb29wcyBKU1xuXHQgKlxuXHQgKiBAcGFja2FnZSBMaWZ0ZXJMTVMvU2NyaXB0c1xuXHQgKlxuXHQgKiBAc2luY2UgICAgMy4wLjBcblx0ICogQHZlcnNpb24gIDMuMTQuMFxuXHQgKi9cblx0XG5cdExMTVMuTG9vcHMgPSB7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIEluaXRpYWxpemVcblx0XHQgKlxuXHRcdCAqIEByZXR1cm4gdm9pZFxuXHRcdCAqL1xuXHRcdGluaXQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XG5cdFx0XHRpZiAoICQoICcubGxtcy1sb29wJyApLmxlbmd0aCApIHtcblx0XG5cdFx0XHRcdExMTVMud2FpdF9mb3JfbWF0Y2hIZWlnaHQoIGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdFx0XHRzZWxmLm1hdGNoX2hlaWdodCgpO1xuXHRcblx0XHRcdFx0fSApO1xuXHRcblx0XHRcdH1cblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogTWF0Y2ggdGhlIGhlaWdodCBvZiAubGxtcy1sb29wLWl0ZW1cblx0XHQgKlxuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMTQuMFxuXHRcdCAqL1xuXHRcdG1hdGNoX2hlaWdodDogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0JCggJy5sbG1zLWxvb3AtaXRlbSAubGxtcy1sb29wLWl0ZW0tY29udGVudCcgKS5tYXRjaEhlaWdodCgpO1xuXHRcdFx0JCggJy5sbG1zLWFjaGlldmVtZW50LWxvb3AtaXRlbSAubGxtcy1hY2hpZXZlbWVudCcgKS5tYXRjaEhlaWdodCgpO1xuXHRcdFx0JCggJy5sbG1zLWNlcnRpZmljYXRlLWxvb3AtaXRlbSAubGxtcy1jZXJ0aWZpY2F0ZScgKS5tYXRjaEhlaWdodCgpO1xuXHRcblx0XHR9LFxuXHRcblx0fTtcblx0XG5cdFx0LyoqXG5cdCAqIEhhbmRsZSB0aGUgQ29sbGFwc2libGUgU3lsbGFidXMgV2lkZ2V0IC8gU2hvcnRjb2RlXG5cdCAqXG5cdCAqIEBwYWNrYWdlIExpZnRlckxNUy9TY3JpcHRzXG5cdCAqXG5cdCAqIEBzaW5jZSBVbmtub3duXG5cdCAqIEB2ZXJzaW9uIFVua25vd25cblx0ICovXG5cdFxuXHRMTE1TLk91dGxpbmVDb2xsYXBzZSA9IHtcblx0XG5cdFx0LyoqXG5cdFx0ICogQSBqUXVlcnkgb2JqZWN0IG9mIGFsbCBvdXRsaW5lcyBwcmVzZW50IG9uIHRoZSBjdXJyZW50IHNjcmVlblxuXHRcdCAqXG5cdFx0ICogQHR5cGUgb2JqXG5cdFx0ICovXG5cdFx0JG91dGxpbmVzOiBudWxsLFxuXHRcblx0XHQvKipcblx0XHQgKiBJbml0aWFsaXplXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuIHZvaWRcblx0XHQgKi9cblx0XHRpbml0OiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHR0aGlzLiRvdXRsaW5lcyA9ICQoICcubGxtcy13aWRnZXQtc3lsbGFidXMtLWNvbGxhcHNpYmxlJyApO1xuXHRcblx0XHRcdGlmICggdGhpcy4kb3V0bGluZXMubGVuZ3RoICkge1xuXHRcblx0XHRcdFx0dGhpcy5iaW5kKCk7XG5cdFxuXHRcdFx0fVxuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBCaW5kIERPTSBldmVudHNcblx0XHQgKlxuXHRcdCAqIEByZXR1cm4gdm9pZFxuXHRcdCAqL1xuXHRcdGJpbmQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XG5cdFx0XHR0aGlzLiRvdXRsaW5lcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHRcdHZhciAkb3V0bGluZSA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHQkaGVhZGVycyA9ICRvdXRsaW5lLmZpbmQoICcubGxtcy1zZWN0aW9uIC5zZWN0aW9uLWhlYWRlcicgKTtcblx0XG5cdFx0XHRcdC8vIGJpbmQgaGVhZGVyIGNsaWNrc1xuXHRcdFx0XHQkaGVhZGVycy5vbiggJ2NsaWNrJywgZnVuY3Rpb24oIGUgKSB7XG5cdFxuXHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XG5cdFx0XHRcdFx0dmFyICR0b2dnbGUgID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdFx0JHNlY3Rpb24gPSAkdG9nZ2xlLmNsb3Nlc3QoICcubGxtcy1zZWN0aW9uJyApLFxuXHRcdFx0XHRcdFx0c3RhdGUgICAgPSBzZWxmLmdldF9zZWN0aW9uX3N0YXRlKCAkc2VjdGlvbiApO1xuXHRcblx0XHRcdFx0XHRzd2l0Y2ggKCBzdGF0ZSApIHtcblx0XG5cdFx0XHRcdFx0XHRjYXNlICdjbG9zZWQnOlxuXHRcdFx0XHRcdFx0XHRzZWxmLm9wZW5fc2VjdGlvbiggJHNlY3Rpb24gKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcblx0XHRcdFx0XHRcdGNhc2UgJ29wZW5lZCc6XG5cdFx0XHRcdFx0XHRcdHNlbGYuY2xvc2Vfc2VjdGlvbiggJHNlY3Rpb24gKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHR9ICk7XG5cdFxuXHRcdFx0XHQvLyBiaW5kIG9wdGlvbmFsIHRvZ2dsZSBcImJ1dHRvbnNcIlxuXHRcdFx0XHQkb3V0bGluZS5maW5kKCAnLmxsbXMtY29sbGFwc2UtdG9nZ2xlJyApLm9uKCAnY2xpY2snLCBmdW5jdGlvbiggZSApIHtcblx0XG5cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcblx0XHRcdFx0XHR2YXIgJGJ0biAgICAgICAgICAgID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdFx0YWN0aW9uICAgICAgICAgID0gJGJ0bi5hdHRyKCAnZGF0YS1hY3Rpb24nICksXG5cdFx0XHRcdFx0XHRvcHBvc2l0ZV9hY3Rpb24gPSAoICdjbG9zZScgPT09IGFjdGlvbiApID8gJ29wZW5lZCcgOiAnY2xvc2VkJztcblx0XG5cdFx0XHRcdFx0JGhlYWRlcnMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0XHRcdFx0dmFyICRzZWN0aW9uID0gJCggdGhpcyApLmNsb3Nlc3QoICcubGxtcy1zZWN0aW9uJyApLFxuXHRcdFx0XHRcdFx0XHRzdGF0ZSAgICA9IHNlbGYuZ2V0X3NlY3Rpb25fc3RhdGUoICRzZWN0aW9uICk7XG5cdFxuXHRcdFx0XHRcdFx0aWYgKCBvcHBvc2l0ZV9hY3Rpb24gIT09IHN0YXRlICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRzd2l0Y2ggKCBzdGF0ZSApIHtcblx0XG5cdFx0XHRcdFx0XHRcdGNhc2UgJ2Nsb3NlZCc6XG5cdFx0XHRcdFx0XHRcdFx0c2VsZi5jbG9zZV9zZWN0aW9uKCAkc2VjdGlvbiApO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XG5cdFx0XHRcdFx0XHRcdGNhc2UgJ29wZW5lZCc6XG5cdFx0XHRcdFx0XHRcdFx0c2VsZi5vcGVuX3NlY3Rpb24oICRzZWN0aW9uICk7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcblx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHQkKCB0aGlzICkudHJpZ2dlciggJ2NsaWNrJyApO1xuXHRcblx0XHRcdFx0XHR9ICk7XG5cdFxuXHRcdFx0XHR9ICk7XG5cdFxuXHRcdFx0fSApO1xuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBDbG9zZSBhbiBvdXRsaW5lIHNlY3Rpb25cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSAgb2JqICAgICRzZWN0aW9uICAgalF1ZXJ5IHNlbGVjdG9yIG9mIGEgJy5sbG1zLXNlY3Rpb24nXG5cdFx0ICogQHJldHVybiB2b2lkXG5cdFx0ICovXG5cdFx0Y2xvc2Vfc2VjdGlvbjogZnVuY3Rpb24oICRzZWN0aW9uICkge1xuXHRcblx0XHRcdCRzZWN0aW9uLnJlbW92ZUNsYXNzKCAnbGxtcy1zZWN0aW9uLS1vcGVuZWQnICkuYWRkQ2xhc3MoICdsbG1zLXNlY3Rpb24tLWNsb3NlZCcgKTtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogT3BlbiBhbiBvdXRsaW5lIHNlY3Rpb25cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSAgb2JqICAgICRzZWN0aW9uICAgalF1ZXJ5IHNlbGVjdG9yIG9mIGEgJy5sbG1zLXNlY3Rpb24nXG5cdFx0ICogQHJldHVybiB2b2lkXG5cdFx0ICovXG5cdFx0b3Blbl9zZWN0aW9uOiBmdW5jdGlvbiggJHNlY3Rpb24gKSB7XG5cdFxuXHRcdFx0JHNlY3Rpb24ucmVtb3ZlQ2xhc3MoICdsbG1zLXNlY3Rpb24tLWNsb3NlZCcgKS5hZGRDbGFzcyggJ2xsbXMtc2VjdGlvbi0tb3BlbmVkJyApO1xuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBHZXQgdGhlIGN1cnJlbnQgc3RhdGUgKG9wZW4gb3IgY2xvc2VkKSBvZiBhbiBvdXRsaW5lIHNlY3Rpb25cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSAgb2JqICAgICRzZWN0aW9uICAgalF1ZXJ5IHNlbGVjdG9yIG9mIGEgJy5sbG1zLXNlY3Rpb24nXG5cdFx0ICogQHJldHVybiBzdHJpbmcgICAgICAgICAgICAnb3BlbmVkJyBvciAnY2xvc2VkJ1xuXHRcdCAqL1xuXHRcdGdldF9zZWN0aW9uX3N0YXRlOiBmdW5jdGlvbiggJHNlY3Rpb24gKSB7XG5cdFxuXHRcdFx0cmV0dXJuICRzZWN0aW9uLmhhc0NsYXNzKCAnbGxtcy1zZWN0aW9uLS1vcGVuZWQnICkgPyAnb3BlbmVkJyA6ICdjbG9zZWQnO1xuXHRcblx0XHR9XG5cdFxuXHR9O1xuXHRcblx0XHQvKipcblx0ICogSGFuZGxlIFBhc3N3b3JkIFN0cmVuZ3RoIE1ldGVyIGZvciByZWdpc3RyYXRpb24gYW5kIHBhc3N3b3JkIHVwZGF0ZSBmaWVsZHNcblx0ICpcblx0ICogQHBhY2thZ2UgTGlmdGVyTE1TL1NjcmlwdHNcblx0ICpcblx0ICogQHNpbmNlIDMuMC4wXG5cdCAqIEB2ZXJzaW9uIFt2ZXJzaW9uXVxuXHQgKi9cblx0XG5cdCQuZXh0ZW5kKCBMTE1TLlBhc3N3b3JkU3RyZW5ndGgsIHtcblx0XG5cdFx0LyoqXG5cdFx0ICogalF1ZXJ5IHJlZiBmb3IgdGhlIHBhc3N3b3JkIHN0cmVuZ3RoIG1ldGVyIG9iamVjdC5cblx0XHQgKlxuXHRcdCAqIEB0eXBlIHtPYmplY3R9XG5cdFx0ICovXG5cdFx0JG1ldGVyOiAkKCAnLmxsbXMtcGFzc3dvcmQtc3RyZW5ndGgtbWV0ZXInICksXG5cdFxuXHRcdC8qKlxuXHRcdCAqIGpRdWVyeSByZWYgZm9yIHRoZSBwYXNzd29yZCBmaWVsZC5cblx0XHQgKlxuXHRcdCAqIEB0eXBlIHtPYmplY3R9XG5cdFx0ICovXG5cdFx0JHBhc3M6IG51bGwsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIGpRdWVyeSByZWYgZm9yIHRoZSBwYXNzd29yZCBjb25maXJtYXRpb24gZmllbGRcblx0XHQgKlxuXHRcdCAqIEB0eXBlIHtPYmplY3R9XG5cdFx0ICovXG5cdFx0JGNvbmY6IG51bGwsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIGpRdWVyeSByZWYgZm9yIGZvcm0gZWxlbWVudC5cblx0XHQgKlxuXHRcdCAqIEB0eXBlIHtPYmplY3R9XG5cdFx0ICovXG5cdFx0JGZvcm06IG51bGwsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEluaXRcblx0XHQgKiBsb2FkcyBjbGFzcyBtZXRob2RzXG5cdFx0ICpcblx0XHQgKiBAc2luY2UgMy4wLjBcblx0XHQgKiBAc2luY2UgMy43LjAgVW5rbm93blxuXHRcdCAqIEBzaW5jZSBbdmVyc2lvbl0gTW92ZSByZWZlcmVuY2Ugc2V0dXAgdG8gYHNldHVwX3JlZmVyZW5jZXMoKWAuXG5cdFx0ICogICAgICAgICAgICAgIFVzZSBgTExNUy53YWl0X2ZvcigpYCBmb3IgZGVwZW5kZW5jeSB3YWl0aW5nLlxuXHRcdCAqXG5cdFx0ICogQHJldHVybiB7Vm9pZH1cblx0XHQgKi9cblx0XHRpbml0OiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHRpZiAoICQoICdib2R5JyApLmhhc0NsYXNzKCAnd3AtYWRtaW4nICkgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoICEgdGhpcy5zZXR1cF9yZWZlcmVuY2VzKCkgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFxuXHRcdFx0TExNUy53YWl0X2ZvciggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiAoICd1bmRlZmluZWQnICE9PSB0eXBlb2Ygd3AgJiYgJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiB3cC5wYXNzd29yZFN0cmVuZ3RoICk7XG5cdFx0XHR9LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0c2VsZi5iaW5kKCk7XG5cdFx0XHRcdHNlbGYuJGZvcm0udHJpZ2dlciggJ2xsbXMtcGFzc3dvcmQtc3RyZW5ndGgtcmVhZHknICk7XG5cdFx0XHR9ICk7XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEJpbmQgRE9NIEV2ZW50c1xuXHRcdCAqXG5cdFx0ICogQHNpbmNlIDMuMC4wXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuIHZvaWRcblx0XHQgKi9cblx0XHRiaW5kOiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFxuXHRcdFx0Ly8gYWRkIHN1Ym1pc3Npb24gZXZlbnQgaGFuZGxlcnMgd2hlbiBub3Qgb24gYSBjaGVja291dCBmb3JtXG5cdFx0XHRpZiAoICEgdGhpcy4kZm9ybS5oYXNDbGFzcyggJ2xsbXMtY2hlY2tvdXQnICkgKSB7XG5cdFx0XHRcdHRoaXMuJGZvcm0ub24oICdzdWJtaXQnLCBzZWxmLCBzZWxmLnN1Ym1pdCApO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIGNoZWNrIHBhc3N3b3JkIHN0cmVuZ3RoIG9uIGtleXVwXG5cdFx0XHRzZWxmLiRwYXNzLmFkZCggc2VsZi4kY29uZiApLm9uKCAna2V5dXAnLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0c2VsZi5jaGVja19zdHJlbmd0aCgpO1xuXHRcdFx0fSApO1xuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBDaGVjayB0aGUgc3RyZW5ndGggb2YgYSB1c2VyIGVudGVyZWQgcGFzc3dvcmRcblx0XHQgKiBhbmQgdXBkYXRlIGVsZW1lbnRzIGRlcGVuZGluZyBvbiB0aGUgY3VycmVudCBzdHJlbmd0aFxuXHRcdCAqXG5cdFx0ICogQHNpbmNlIDMuMC4wXG5cdFx0ICogQHNpbmNlIFt2ZXJzaW9uXSBBbGxvdyBwYXNzd29yZCBjb25maXJtYXRpb24gdG8gYmUgb3B0aW9uYWwgd2hlbiBjaGVja2luZyBzdHJlbmd0aC5cblx0XHQgKlxuXHRcdCAqIEByZXR1cm4gdm9pZFxuXHRcdCAqL1xuXHRcdGNoZWNrX3N0cmVuZ3RoOiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHR2YXIgJHBhc3NfZmllbGQgPSB0aGlzLiRwYXNzLmNsb3Nlc3QoICcubGxtcy1mb3JtLWZpZWxkJyApLFxuXHRcdFx0XHQkY29uZl9maWVsZCA9IHRoaXMuJGNvbmYuY2xvc2VzdCggJy5sbG1zLWZvcm0tZmllbGQnICksXG5cdFx0XHRcdHBhc3NfbGVuZ3RoID0gdGhpcy4kcGFzcy52YWwoKS5sZW5ndGgsXG5cdFx0XHRcdGNvbmZfbGVuZ3RoID0gdGhpcy4kY29uZi5sZW5ndGggPyB0aGlzLiRjb25mLnZhbCgpLmxlbmd0aCA6IDA7XG5cdFxuXHRcdFx0Ly8gaGlkZSB0aGUgbWV0ZXIgaWYgYm90aCBmaWVsZHMgYXJlIGVtcHR5XG5cdFx0XHRpZiAoICEgcGFzc19sZW5ndGggJiYgISBjb25mX2xlbmd0aCApIHtcblx0XHRcdFx0JHBhc3NfZmllbGQucmVtb3ZlQ2xhc3MoICd2YWxpZCBpbnZhbGlkJyApO1xuXHRcdFx0XHQkY29uZl9maWVsZC5yZW1vdmVDbGFzcyggJ3ZhbGlkIGludmFsaWQnICk7XG5cdFx0XHRcdHRoaXMuJG1ldGVyLmhpZGUoKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggdGhpcy5nZXRfY3VycmVudF9zdHJlbmd0aF9zdGF0dXMoKSApIHtcblx0XHRcdFx0JHBhc3NfZmllbGQucmVtb3ZlQ2xhc3MoICdpbnZhbGlkJyApLmFkZENsYXNzKCAndmFsaWQnICk7XG5cdFx0XHRcdGlmICggY29uZl9sZW5ndGggKSB7XG5cdFx0XHRcdFx0JGNvbmZfZmllbGQucmVtb3ZlQ2xhc3MoICdpbnZhbGlkJyApLmFkZENsYXNzKCAndmFsaWQnICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCRwYXNzX2ZpZWxkLnJlbW92ZUNsYXNzKCAndmFsaWQnICkuYWRkQ2xhc3MoICdpbnZhbGlkJyApO1xuXHRcdFx0XHRpZiAoIGNvbmZfbGVuZ3RoICkge1xuXHRcdFx0XHRcdCRjb25mX2ZpZWxkLnJlbW92ZUNsYXNzKCAndmFsaWQnICkuYWRkQ2xhc3MoICdpbnZhbGlkJyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0dGhpcy4kbWV0ZXIucmVtb3ZlQ2xhc3MoICd0b28tc2hvcnQgdmVyeS13ZWFrIHdlYWsgbWVkaXVtIHN0cm9uZyBtaXNtYXRjaCcgKTtcblx0XHRcdHRoaXMuJG1ldGVyLnNob3coKS5hZGRDbGFzcyggdGhpcy5nZXRfY3VycmVudF9zdHJlbmd0aCggJ3NsdWcnICkgKTtcblx0XHRcdHRoaXMuJG1ldGVyLmh0bWwoIHRoaXMuZ2V0X2N1cnJlbnRfc3RyZW5ndGgoICd0ZXh0JyApICk7XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEZvcm0gc3VibWlzc2lvbiBhY3Rpb24gY2FsbGVkIGR1cmluZyByZWdpc3RyYXRpb24gb24gY2hlY2tvdXQgc2NyZWVuXG5cdFx0ICpcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSAgICBvYmogICAgICAgc2VsZiAgICAgIGluc3RhbmNlIG9mIHRoaXMgY2xhc3Ncblx0XHQgKiBAcGFyYW0gICAgRnVuY3Rpb24gIGNhbGxiYWNrICBjYWxsYmFjayBmdW5jdGlvbiwgcGFzc2VzIGVycm9yIG1lc3NhZ2Ugb3Igc3VjY2VzcyBiYWNrIHRvIGNoZWNrb3V0IGhhbmRsZXJcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqL1xuXHRcdGNoZWNrb3V0OiBmdW5jdGlvbiggc2VsZiwgY2FsbGJhY2sgKSB7XG5cdFxuXHRcdFx0aWYgKCBzZWxmLmdldF9jdXJyZW50X3N0cmVuZ3RoX3N0YXR1cygpICkge1xuXHRcblx0XHRcdFx0Y2FsbGJhY2soIHRydWUgKTtcblx0XG5cdFx0XHR9IGVsc2Uge1xuXHRcblx0XHRcdFx0Y2FsbGJhY2soIExMTVMubDEwbi50cmFuc2xhdGUoICdUaGVyZSBpcyBhbiBpc3N1ZSB3aXRoIHlvdXIgY2hvc2VuIHBhc3N3b3JkLicgKSApO1xuXHRcblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBHZXQgdGhlIGxpc3Qgb2YgYmxhY2tsaXN0ZWQgc3RyaW5nc1xuXHRcdCAqXG5cdFx0ICogQHNpbmNlIDMuMC4wXG5cdFx0ICogQHNpbmNlIFt2ZXJzaW9uXSBBZGQgYmxhY2tsaXN0ZWQgd29yZHMgYXMgY29uZmlndXJlZCB2aWEgdGhlIHBocCBmaWx0ZXIgYW5kIGF1dG9tYXRpY2FsbHkgYWRkIHZhbHVlcyBmcm9tIGFsbCB0ZXh0IGlucHV0cyBpbiB0aGUgY3VycmVudCBmb3JtLlxuXHRcdCAqXG5cdFx0ICogQHJldHVybiBhcnJheVxuXHRcdCAqL1xuXHRcdGdldF9ibGFja2xpc3Q6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdC8vIERlZmF1bHQgdmFsdWVzIGZyb20gV1AgQ29yZSArIGFueSB2YWx1ZXMgYWRkZWQgdmlhIHNldHRpbmdzIGZpbHRlci4uXG5cdFx0XHR2YXIgYmxhY2tsaXN0ID0gd3AucGFzc3dvcmRTdHJlbmd0aC51c2VySW5wdXRCbGFja2xpc3QoKS5jb25jYXQoIHRoaXMuZ2V0X3NldHRpbmcoICdibGFja2xpc3QnLCBbXSApICk7XG5cdFxuXHRcdFx0Ly8gQWRkIHZhbHVlcyBmcm9tIGFsbCB0ZXh0IGZpZWxkcyBpbiB0aGUgZm9ybS5cblx0XHRcdHRoaXMuJGZvcm0uZmluZCggJ2lucHV0W3R5cGU9XCJ0ZXh0XCJdLCBpbnB1dFt0eXBlPVwiZW1haWxcIl0sIGlucHV0W3R5cGU9XCJ0ZWxcIl0sIGlucHV0W3R5cGU9XCJudW1iZXJcIl0nICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciB2YWwgPSAkKCB0aGlzICkudmFsKCk7XG5cdFx0XHRcdGlmICggdmFsICkge1xuXHRcdFx0XHRcdGJsYWNrbGlzdC5wdXNoKCB2YWwgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHRcblx0XHRcdHJldHVybiBibGFja2xpc3Q7XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFJldHJpZXZlIGN1cnJlbnQgc3RyZW5ndGggYXMgYSBudW1iZXIsIGEgc2x1Zywgb3IgYSB0cmFuc2xhdGVkIHRleHQgc3RyaW5nXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gICAgc3RyaW5nICAgZm9ybWF0ICBkZXJpdmVkIHJldHVybiBmb3JtYXQgW2ludHxzbHVnfHRleHRdIGRlZmF1bHRzIHRvIGludFxuXHRcdCAqIEByZXR1cm4gICBtaXhlZFxuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjAuMFxuXHRcdCAqL1xuXHRcdGdldF9jdXJyZW50X3N0cmVuZ3RoOiBmdW5jdGlvbiggZm9ybWF0ICkge1xuXHRcblx0XHRcdGZvcm1hdCAgID0gZm9ybWF0IHx8ICdpbnQnO1xuXHRcdFx0dmFyIHBhc3MgPSB0aGlzLiRwYXNzLnZhbCgpLFxuXHRcdFx0XHRjb25mID0gdGhpcy4kY29uZi52YWwoKSxcblx0XHRcdFx0dmFsO1xuXHRcblx0XHRcdC8vIGVuZm9yY2UgY3VzdG9tIGxlbmd0aCByZXF1aXJlbWVudFxuXHRcdFx0aWYgKCBwYXNzLmxlbmd0aCA8IHRoaXMuZ2V0X3NldHRpbmcoICdtaW5fbGVuZ3RoJywgNiApICkge1xuXHRcdFx0XHR2YWwgPSAtMTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZhbCA9IHdwLnBhc3N3b3JkU3RyZW5ndGgubWV0ZXIoIHBhc3MsIHRoaXMuZ2V0X2JsYWNrbGlzdCgpLCBjb25mICk7XG5cdFx0XHRcdC8vIDAgJiAxIGFyZSBib3RoIHZlcnktd2Vha1xuXHRcdFx0XHRpZiAoIDAgPT09IHZhbCApIHtcblx0XHRcdFx0XHR2YWwgPSAxO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCAnc2x1ZycgPT09IGZvcm1hdCApIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuZ2V0X3N0cmVuZ3RoX3NsdWcoIHZhbCApO1xuXHRcdFx0fSBlbHNlIGlmICggJ3RleHQnID09PSBmb3JtYXQgKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLmdldF9zdHJlbmd0aF90ZXh0KCB2YWwgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiB2YWw7XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogRGV0ZXJtaW5lcyBpZiB0aGUgY3VycmVudCBwYXNzd29yZCBzdHJlbmd0aCBtZWV0cyB0aGUgdXNlci1kZWZpbmVkXG5cdFx0ICogbWluaW11bSBwYXNzd29yZCBzdHJlbmd0aCByZXF1aXJlbWVudHNcblx0XHQgKlxuXHRcdCAqIEByZXR1cm4gICBib29sZWFuXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMC4wXG5cdFx0ICovXG5cdFx0Z2V0X2N1cnJlbnRfc3RyZW5ndGhfc3RhdHVzOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBjdXJyID0gdGhpcy5nZXRfY3VycmVudF9zdHJlbmd0aCgpLFxuXHRcdFx0XHRtaW4gID0gdGhpcy5nZXRfc3RyZW5ndGhfdmFsdWUoIHRoaXMuZ2V0X21pbmltdW1fc3RyZW5ndGgoKSApO1xuXHRcdFx0cmV0dXJuICggNSA9PT0gY3VyciApID8gZmFsc2UgOiAoIGN1cnIgPj0gbWluICk7XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogUmV0cmlldmUgdGhlIG1pbmltdW0gcGFzc3dvcmQgc3RyZW5ndGggZm9yIHRoZSBjdXJyZW50IGZvcm0uXG5cdFx0ICpcblx0XHQgKiBAc2luY2UgMy4wLjBcblx0XHQgKiBAc2luY2UgW3ZlcnNpb25dIFJlcGxhY2VzIHRoZSB2ZXJzaW9uIG91dHB1dCB2aWEgYW4gaW5saW5lIFBIUCBzY3JpcHQgaW4gZmF2b3Igb2YgdXRpbGl6aW5nIHZhbHVlcyBjb25maWd1cmVkIGluIHRoZSBzZXR0aW5ncyBvYmplY3QuXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuIHtzdHJpbmd9XG5cdFx0ICovXG5cdFx0Z2V0X21pbmltdW1fc3RyZW5ndGg6IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZ2V0X3NldHRpbmcoICdtaW5fc3RyZW5ndGgnLCAnc3Ryb25nJyApO1xuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEdldCBhIHNldHRpbmcgYW5kIGZhbGxiYWNrIHRvIGEgZGVmYXVsdCB2YWx1ZS5cblx0XHQgKlxuXHRcdCAqIEBzaW5jZSBbdmVyc2lvbl1cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgU2V0dGluZyBrZXkuXG5cdFx0ICogQHBhcmFtIHttaXhlZH0gZGVmYXVsdF92YWwgRGVmYXVsdCB2YWx1ZSB3aGVuIHRoZSByZXF1ZXN0ZWQgc2V0dGluZyBjYW5ub3QgYmUgbG9jYXRlZC5cblx0XHQgKiBAcmV0dXJuIHttaXhlZH1cblx0XHQgKi9cblx0XHRnZXRfc2V0dGluZzogZnVuY3Rpb24oIGtleSwgZGVmYXVsdF92YWwgKSB7XG5cdFx0XHR2YXIgc2V0dGluZ3MgPSB0aGlzLmdldF9zZXR0aW5ncygpO1xuXHRcdFx0cmV0dXJuIHNldHRpbmdzWyBrZXkgXSA/IHNldHRpbmdzWyBrZXkgXSA6IGRlZmF1bHRfdmFsO1xuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEdldCB0aGUgc2x1ZyBhc3NvY2lhdGVkIHdpdGggYSBzdHJlbmd0aCB2YWx1ZVxuXHRcdCAqXG5cdFx0ICogQHBhcmFtICAgIGludCAgIHN0cmVuZ3RoX3ZhbCAgc3RyZW5ndGggdmFsdWUgbnVtYmVyXG5cdFx0ICogQHJldHVybiAgIHN0cmluZ1xuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjAuMFxuXHRcdCAqL1xuXHRcdGdldF9zdHJlbmd0aF9zbHVnOiBmdW5jdGlvbiggc3RyZW5ndGhfdmFsICkge1xuXHRcblx0XHRcdHZhciBzbHVncyA9IHtcblx0XHRcdFx0Jy0xJzogJ3Rvby1zaG9ydCcsXG5cdFx0XHRcdDE6ICd2ZXJ5LXdlYWsnLFxuXHRcdFx0XHQyOiAnd2VhaycsXG5cdFx0XHRcdDM6ICdtZWRpdW0nLFxuXHRcdFx0XHQ0OiAnc3Ryb25nJyxcblx0XHRcdFx0NTogJ21pc21hdGNoJyxcblx0XHRcdH07XG5cdFxuXHRcdFx0cmV0dXJuICggc2x1Z3NbIHN0cmVuZ3RoX3ZhbCBdICkgPyBzbHVnc1sgc3RyZW5ndGhfdmFsIF0gOiBzbHVnc1s1XTtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogR2V0cyB0aGUgdHJhbnNsYXRlZCB0ZXh0IGFzc29jaWF0ZWQgd2l0aCBhIHN0cmVuZ3RoIHZhbHVlXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gICAgaW50ICBzdHJlbmd0aF92YWwgIHN0cmVuZ3RoIHZhbHVlXG5cdFx0ICogQHJldHVybiAgIHN0cmluZ1xuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjAuMFxuXHRcdCAqL1xuXHRcdGdldF9zdHJlbmd0aF90ZXh0OiBmdW5jdGlvbiggc3RyZW5ndGhfdmFsICkge1xuXHRcblx0XHRcdHZhciB0ZXh0cyA9IHtcblx0XHRcdFx0Jy0xJzogTExNUy5sMTBuLnRyYW5zbGF0ZSggJ1RvbyBTaG9ydCcgKSxcblx0XHRcdFx0MTogTExNUy5sMTBuLnRyYW5zbGF0ZSggJ1ZlcnkgV2VhaycgKSxcblx0XHRcdFx0MjogTExNUy5sMTBuLnRyYW5zbGF0ZSggJ1dlYWsnICksXG5cdFx0XHRcdDM6IExMTVMubDEwbi50cmFuc2xhdGUoICdNZWRpdW0nICksXG5cdFx0XHRcdDQ6IExMTVMubDEwbi50cmFuc2xhdGUoICdTdHJvbmcnICksXG5cdFx0XHRcdDU6IExMTVMubDEwbi50cmFuc2xhdGUoICdNaXNtYXRjaCcgKSxcblx0XHRcdH07XG5cdFxuXHRcdFx0cmV0dXJuICggdGV4dHNbIHN0cmVuZ3RoX3ZhbCBdICkgPyB0ZXh0c1sgc3RyZW5ndGhfdmFsIF0gOiB0ZXh0c1s1XTtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogR2V0IHRoZSB2YWx1ZSBhc3NvY2lhdGVkIHdpdGggYSBzdHJlbmd0aCBzbHVnXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gICAgc3RyaW5nICAgc3RyZW5ndGhfc2x1ZyAgYSBzdHJlbmd0aCBzbHVnXG5cdFx0ICogQHJldHVybiAgIGludFxuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjAuMFxuXHRcdCAqL1xuXHRcdGdldF9zdHJlbmd0aF92YWx1ZTogZnVuY3Rpb24oIHN0cmVuZ3RoX3NsdWcgKSB7XG5cdFxuXHRcdFx0dmFyIHZhbHVlcyA9IHtcblx0XHRcdFx0J3Rvby1zaG9ydCc6IC0xLFxuXHRcdFx0XHQndmVyeS13ZWFrJzogMSxcblx0XHRcdFx0d2VhazogMixcblx0XHRcdFx0bWVkaXVtOiAzLFxuXHRcdFx0XHRzdHJvbmc6IDQsXG5cdFx0XHRcdG1pc21hdGNoOiA1LFxuXHRcdFx0fTtcblx0XG5cdFx0XHRyZXR1cm4gKCB2YWx1ZXNbIHN0cmVuZ3RoX3NsdWcgXSApID8gdmFsdWVzWyBzdHJlbmd0aF9zbHVnIF0gOiB2YWx1ZXMubWlzbWF0Y2g7XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFNldHVwIGpRdWVyeSByZWZlcmVuY2VzIHRvIERPTSBlbGVtZW50cyBuZWVkZWQgdG8gcG93ZXIgdGhlIHBhc3N3b3JkIG1ldGVyLlxuXHRcdCAqXG5cdFx0ICogQHNpbmNlIFt2ZXJzaW9uXVxuXHRcdCAqXG5cdFx0ICogQHJldHVybiB7Qm9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYSBtZXRlciBlbGVtZW50IGFuZCBwYXNzd29yZCBmaWVsZCBhcmUgZm91bmQsIG90aGVyd2lzZSByZXR1cm5zIGBmYWxzZWAuXG5cdFx0ICovXG5cdFx0c2V0dXBfcmVmZXJlbmNlczogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0aWYgKCAhIHRoaXMuJG1ldGVyLmxlbmd0aCApIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcblx0XHRcdHRoaXMuJGZvcm0gPSB0aGlzLiRtZXRlci5jbG9zZXN0KCAnZm9ybScgKTtcblx0XHRcdHRoaXMuJHBhc3MgPSB0aGlzLiRmb3JtLmZpbmQoICdpbnB1dFt0eXBlPVwicGFzc3dvcmRcIl0nICk7XG5cdFxuXHRcdFx0aWYgKCB0aGlzLiRwYXNzLmxlbmd0aCAmJiB0aGlzLiRwYXNzLmF0dHIoICdkYXRhLW1hdGNoJyApICkge1xuXHRcdFx0XHR0aGlzLiRjb25mID0gdGhpcy4kZm9ybS5maW5kKCAnIycgKyB0aGlzLiRwYXNzLmF0dHIoICdkYXRhLW1hdGNoJyApICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuICggdGhpcy4kcGFzcy5sZW5ndGggPiAwICk7XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEZvcm0gc3VibWlzc2lvbiBoYW5kbGVyIGZvciByZWdpc3RyYXRpb24gYW5kIHVwZGF0ZSBmb3Jtc1xuXHRcdCAqXG5cdFx0ICogQHBhcmFtICAgIG9iaiAgICBlICAgICAgICAgZXZlbnQgZGF0YVxuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMC4wXG5cdFx0ICovXG5cdFx0c3VibWl0OiBmdW5jdGlvbiggZSApIHtcblx0XG5cdFx0XHR2YXIgc2VsZiA9IGUuZGF0YTtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdHNlbGYuJHBhc3MudHJpZ2dlciggJ2tleXVwJyApO1xuXHRcblx0XHRcdGlmICggc2VsZi5nZXRfY3VycmVudF9zdHJlbmd0aF9zdGF0dXMoKSApIHtcblx0XHRcdFx0c2VsZi4kZm9ybS5vZmYoICdzdWJtaXQnLCBzZWxmLnN1Ym1pdCApO1xuXHRcdFx0XHRzZWxmLiRmb3JtLnRyaWdnZXIoICdzdWJtaXQnICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQkKCAnaHRtbCwgYm9keScgKS5hbmltYXRlKCB7XG5cdFx0XHRcdFx0c2Nyb2xsVG9wOiBzZWxmLiRtZXRlci5vZmZzZXQoKS50b3AgLSAxMDAsXG5cdFx0XHRcdH0sIDIwMCApO1xuXHRcdFx0XHRzZWxmLiRtZXRlci5oaWRlKCk7XG5cdFx0XHRcdHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHNlbGYuJG1ldGVyLmZhZGVJbiggNDAwICk7XG5cdFx0XHRcdH0sIDIyMCApO1xuXHRcdFx0fVxuXHRcdH1cblx0XG5cdH0gKTtcblx0XG5cdFx0LyoqXG5cdCAqIFByaWNpbmcgVGFibGUgVUlcblx0ICpcblx0ICogQHBhY2thZ2UgTGlmdGVyTE1TL1NjcmlwdHNcblx0ICpcblx0ICogQHNpbmNlICBVbmtub3duLlxuXHQgKiBAdmVyc2lvbiAgVW5rbm93bi5cblx0ICovXG5cdFxuXHRMTE1TLlByaWNpbmdfVGFibGVzID0ge1xuXHRcblx0XHQvKipcblx0XHQgKiBJbml0XG5cdFx0ICovXG5cdFx0aW5pdDogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcblx0XHRcdGlmICggJCggJ2JvZHknICkuaGFzQ2xhc3MoICd3cC1hZG1pbicgKSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggJCggJy5sbG1zLWFjY2Vzcy1wbGFucycgKS5sZW5ndGggKSB7XG5cdFxuXHRcdFx0XHRMTE1TLndhaXRfZm9yX21hdGNoSGVpZ2h0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRzZWxmLmJpbmQoKTtcblx0XHRcdFx0fSApO1xuXHRcblx0XHRcdFx0dGhpcy4kbG9ja2VkID0gJCggJ2FbaHJlZj1cIiNsbG1zLXBsYW4tbG9ja2VkXCJdJyApO1xuXHRcblx0XHRcdFx0aWYgKCB0aGlzLiRsb2NrZWQubGVuZ3RoICkge1xuXHRcblx0XHRcdFx0XHRMTE1TLndhaXRfZm9yX3BvcG92ZXIoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0c2VsZi5iaW5kX2xvY2tlZCgpO1xuXHRcdFx0XHRcdH0gKTtcblx0XG5cdFx0XHRcdH1cblx0XG5cdFx0XHR9XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEJpbmQgTWV0aG9kXG5cdFx0ICogSGFuZGxlcyBkb20gYmluZGluZyBvbiBsb2FkXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cblx0XHQgKi9cblx0XHRiaW5kOiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHQkKCAnLmxsbXMtYWNjZXNzLXBsYW4tY29udGVudCcgKS5tYXRjaEhlaWdodCgpO1xuXHRcdFx0JCggJy5sbG1zLWFjY2Vzcy1wbGFuLXByaWNpbmcudHJpYWwnICkubWF0Y2hIZWlnaHQoKTtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogU2V0dXAgYSBwb3BvdmVyIGZvciBtZW1iZXJzLW9ubHkgcmVzdHJpY3RlZCBwbGFuc1xuXHRcdCAqXG5cdFx0ICogQHJldHVybiB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuOS4xXG5cdFx0ICovXG5cdFx0YmluZF9sb2NrZWQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdHRoaXMuJGxvY2tlZC5lYWNoKCBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHRcdCQoIHRoaXMgKS53ZWJ1aVBvcG92ZXIoIHtcblx0XHRcdFx0XHRhbmltYXRpb246ICdwb3AnLFxuXHRcdFx0XHRcdGNsb3NlYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRjb250ZW50OiBmdW5jdGlvbiggZSApIHtcblx0XHRcdFx0XHRcdHZhciAkY29udGVudCA9ICQoICc8ZGl2IGNsYXNzPVwibGxtcy1tZW1iZXJzLW9ubHktcmVzdHJpY3Rpb25zXCIgLz4nICk7XG5cdFx0XHRcdFx0XHQkY29udGVudC5hcHBlbmQoIGUuJGVsZW1lbnQuY2xvc2VzdCggJy5sbG1zLWFjY2Vzcy1wbGFuJyApLmZpbmQoICcubGxtcy1hY2Nlc3MtcGxhbi1yZXN0cmljdGlvbnMgdWwnICkuY2xvbmUoKSApO1xuXHRcdFx0XHRcdFx0cmV0dXJuICRjb250ZW50O1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0cGxhY2VtZW50OiAndG9wJyxcblx0XHRcdFx0XHRzdHlsZTogJ2ludmVyc2UnLFxuXHRcdFx0XHRcdHRpdGxlOiBMTE1TLmwxMG4udHJhbnNsYXRlKCAnTWVtYmVycyBPbmx5IFByaWNpbmcnICksXG5cdFx0XHRcdFx0d2lkdGg6ICcyODBweCcsXG5cdFx0XHRcdH0gKTtcblx0XG5cdFx0XHR9ICk7XG5cdFxuXHRcdH0sXG5cdFxuXHR9O1xuXHRcblx0XHQvKipcblx0ICogTGlmdGVyTE1TIFJldmlld3MgSlNcblx0ICpcblx0ICogQHBhY2thZ2UgTGlmdGVyTE1TL1NjcmlwdHNcblx0ICpcblx0ICogQHNpbmNlIFVua25vd25cblx0ICogQHZlcnNpb24gVW5rbm93blxuXHQgKi9cblx0XG5cdExMTVMuUmV2aWV3ID0ge1xuXHRcdC8qKlxuXHRcdCAqIEluaXRcblx0XHQgKiBsb2FkcyBjbGFzcyBtZXRob2RzXG5cdFx0ICovXG5cdFx0aW5pdDogZnVuY3Rpb24oKSB7XG5cdFx0XHQvLyBjb25zb2xlLmxvZygnSW5pdGlhbGl6aW5nIFJldmlldyAnKTtcblx0XHRcdHRoaXMuYmluZCgpO1xuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFRoaXMgZnVuY3Rpb24gYmluZHMgYWN0aW9ucyB0byB0aGUgYXBwcm9wcmlhdGUgaG9va3Ncblx0XHQgKi9cblx0XHRiaW5kOiBmdW5jdGlvbigpIHtcblx0XHRcdCQoICcjbGxtc19yZXZpZXdfc3VibWl0X2J1dHRvbicgKS5jbGljayhmdW5jdGlvbigpXG5cdFx0XHRcdHtcblx0XHRcdFx0aWYgKCQoICcjcmV2aWV3X3RpdGxlJyApLnZhbCgpICE9PSAnJyAmJiAkKCAnI3Jldmlld190ZXh0JyApLnZhbCgpICE9PSAnJykge1xuXHRcdFx0XHRcdGpRdWVyeS5hamF4KHtcblx0XHRcdFx0XHRcdHR5cGUgOiAncG9zdCcsXG5cdFx0XHRcdFx0XHRkYXRhVHlwZSA6ICdqc29uJyxcblx0XHRcdFx0XHRcdHVybCA6IHdpbmRvdy5sbG1zLmFqYXh1cmwsXG5cdFx0XHRcdFx0XHRkYXRhIDoge1xuXHRcdFx0XHRcdFx0XHRhY3Rpb24gOiAnTExNU1N1Ym1pdFJldmlldycsXG5cdFx0XHRcdFx0XHRcdHJldmlld190aXRsZTogJCggJyNyZXZpZXdfdGl0bGUnICkudmFsKCksXG5cdFx0XHRcdFx0XHRcdHJldmlld190ZXh0OiAkKCAnI3Jldmlld190ZXh0JyApLnZhbCgpLFxuXHRcdFx0XHRcdFx0XHRwYWdlSUQgOiAkKCAnI3Bvc3RfSUQnICkudmFsKClcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbigpXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCAnUmV2aWV3IHN1Y2Nlc3MnICk7XG5cdFx0XHRcdFx0XHRcdCQoICcjcmV2aWV3X2JveCcgKS5oaWRlKCAnc3dpbmcnICk7XG5cdFx0XHRcdFx0XHRcdCQoICcjdGhhbmtfeW91X2JveCcgKS5zaG93KCAnc3dpbmcnICk7XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0ZXJyb3I6IGZ1bmN0aW9uKGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93biApXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCBqcVhIUiApO1xuXHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyggdGV4dFN0YXR1cyApO1xuXHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyggZXJyb3JUaHJvd24gKTtcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWYgKCQoICcjcmV2aWV3X3RpdGxlJyApLnZhbCgpID09PSAnJykge1xuXHRcdFx0XHRcdFx0JCggJyNyZXZpZXdfdGl0bGVfZXJyb3InICkuc2hvdyggJ3N3aW5nJyApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHQkKCAnI3Jldmlld190aXRsZV9lcnJvcicgKS5oaWRlKCAnc3dpbmcnICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICgkKCAnI3Jldmlld190ZXh0JyApLnZhbCgpID09PSAnJykge1xuXHRcdFx0XHRcdFx0JCggJyNyZXZpZXdfdGV4dF9lcnJvcicgKS5zaG93KCAnc3dpbmcnICk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdCQoICcjcmV2aWV3X3RleHRfZXJyb3InICkuaGlkZSggJ3N3aW5nJyApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRpZiAoICQoICcjX2xsbXNfZGlzcGxheV9yZXZpZXdzJyApLmF0dHIoICdjaGVja2VkJyApICkge1xuXHRcdFx0XHQkKCAnLmxsbXMtbnVtLXJldmlld3MtdG9wJyApLmFkZENsYXNzKCAndG9wJyApO1xuXHRcdFx0XHQkKCAnLmxsbXMtbnVtLXJldmlld3MtYm90dG9tJyApLnNob3coKTtcblx0XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQkKCAnLmxsbXMtbnVtLXJldmlld3MtYm90dG9tJyApLmhpZGUoKTtcblx0XHRcdH1cblx0XHRcdCQoICcjX2xsbXNfZGlzcGxheV9yZXZpZXdzJyApLmNoYW5nZShmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCAkKCAnI19sbG1zX2Rpc3BsYXlfcmV2aWV3cycgKS5hdHRyKCAnY2hlY2tlZCcgKSApIHtcblx0XHRcdFx0XHQkKCAnLmxsbXMtbnVtLXJldmlld3MtdG9wJyApLmFkZENsYXNzKCAndG9wJyApO1xuXHRcdFx0XHRcdCQoICcubGxtcy1udW0tcmV2aWV3cy1ib3R0b20nICkuc2hvdygpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdCQoICcubGxtcy1udW0tcmV2aWV3cy10b3AnICkucmVtb3ZlQ2xhc3MoICd0b3AnICk7XG5cdFx0XHRcdFx0JCggJy5sbG1zLW51bS1yZXZpZXdzLWJvdHRvbScgKS5oaWRlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcblx0XHR9LFxuXHR9O1xuXHRcblx0XHQvKipcblx0ICogQWRkIFNwaW5uZXJzIGZvciBBSkFYIGV2ZW50c1xuXHQgKlxuXHQgKiBAcGFja2FnZSBMaWZ0ZXJMTVMvU2NyaXB0c1xuXHQgKlxuXHQgKiBAc2luY2UgMy4wLjBcblx0ICogQHZlcnNpb24gMy4wLjBcblx0ICovXG5cdFxuXHRMTE1TLlNwaW5uZXIgPSB7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIEdldCBhbiBleGl0aW5nIHNwaW5uZXIgZWxlbWVudCBvciBjcmVhdGUgYSBuZXcgb25lXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gICAgb2JqICAgICAgJGVsICAgalF1ZXJ5IHNlbGVjdG9yIG9mIHRoZSBwYXJlbnQgZWxlbWVudCB0aGF0IHNob3VsZCBob2xkIGFuZCBiZSBtYXNlZCBieSBhIHNwaW5uZXJcblx0XHQgKiBAcGFyYW0gICAgc3RyaW5nICAgc2l6ZSAgc2l6ZSBvciB0aGUgc3Bpbm5lciBbZGVmYXVsdHxzbWFsbF1cblx0XHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCBpcyA0MHB4XG5cdFx0ICogICAgICAgICAgICAgICAgICAgICAgICAgIHNtYWxsIGlzIDIwcHhcblx0XHQgKiBAcmV0dXJuICAgb2JqXG5cdFx0ICogQHNpbmNlIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gMy4wLjBcblx0XHQgKi9cblx0XHRnZXQ6IGZ1bmN0aW9uKCAkZWwsIHNpemUgKSB7XG5cdFxuXHRcdFx0Ly8gbG9vayBmb3IgYW4gZXhpc3Rpbmcgc3Bpbm5lclxuXHRcdFx0dmFyICRzcGlubmVyID0gJGVsLmZpbmQoICcubGxtcy1zcGlubmluZycgKS5maXJzdCgpO1xuXHRcblx0XHRcdC8vIG5vIHNwaW5uZXIgaW5zaWRlICRlbFxuXHRcdFx0aWYgKCAhICRzcGlubmVyLmxlbmd0aCApIHtcblx0XG5cdFx0XHRcdHNpemUgPSAoIHNpemUgKSA/IHNpemUgOiAnZGVmYXVsdCc7XG5cdFxuXHRcdFx0XHQvLyBjcmVhdGUgdGhlIHNwaW5uZXJcblx0XHRcdFx0JHNwaW5uZXIgPSAkKCAnPGRpdiBjbGFzcz1cImxsbXMtc3Bpbm5pbmdcIj48aSBjbGFzcz1cImxsbXMtc3Bpbm5lciAnICsgc2l6ZSArICdcIj48L2k+PC9kaXY+JyApO1xuXHRcblx0XHRcdFx0Ly8gYWRkIGl0IHRvIHRoZSBkb21cblx0XHRcdFx0JGVsLmFwcGVuZCggJHNwaW5uZXIgKTtcblx0XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gcmV0dXJuIGl0XG5cdFx0XHRyZXR1cm4gJHNwaW5uZXI7XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFN0YXJ0IHNwaW5uZXIocykgaW5yPXNpZGUgYSBnaXZlbiBlbGVtZW50XG5cdFx0ICogQ3JlYXRlcyB0aGVtIGlmIHRoZXkgZG9uJ3QgZXhpc3QhXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gICBvYmogICAgICAkZWwgICBqUXVlcnkgc2VsZWN0b3Igb2YgdGhlIHBhcmVudCBlbGVtZW50IHRoYXQgc2hvdWxkIGhvbGQgYW5kIGJlIG1hc2VkIGJ5IGEgc3Bpbm5lclxuXHRcdCAqIEBwYXJhbSAgIHN0cmluZyAgIHNpemUgIHNpemUgb3IgdGhlIHNwaW5uZXIgW2RlZmF1bHR8c21hbGxdXG5cdFx0ICogICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQgaXMgNDBweFxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICBzbWFsbCBpcyAyMHB4XG5cdFx0ICogQHJldHVybiAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gMy4wLjBcblx0XHQgKi9cblx0XHRzdGFydDogZnVuY3Rpb24oICRlbCwgc2l6ZSApIHtcblx0XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFxuXHRcdFx0JGVsLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdFx0c2VsZi5nZXQoICQoIHRoaXMgKSwgc2l6ZSApLnNob3coKTtcblx0XG5cdFx0XHR9ICk7XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFN0b3JlIHNwaW5uZXJzIHdpdGhpbiBhbiBlbGVtZW50XG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gICBvYmogICAgICAkZWwgICBqUXVlcnkgc2VsZWN0b3Igb2YgdGhlIHBhcmVudCBlbGVtZW50IHRoYXQgc2hvdWxkIGhvbGQgYW5kIGJlIG1hc2VkIGJ5IGEgc3Bpbm5lclxuXHRcdCAqIEByZXR1cm4gIHZvaWRcblx0XHQgKiBAc2luY2UgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uIDMuMC4wXG5cdFx0ICovXG5cdFx0c3RvcDogZnVuY3Rpb24oICRlbCApIHtcblx0XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFxuXHRcdFx0JGVsLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdFx0c2VsZi5nZXQoICQoIHRoaXMgKSApLmhpZGUoKTtcblx0XG5cdFx0XHR9ICk7XG5cdFxuXHRcdH1cblx0XG5cdH07XG5cdFxuXHRcdC8qIGdsb2JhbCBMTE1TLCAkICovXG5cdFxuXHQvKiFcblx0ICogSmF2YVNjcmlwdCBDb29raWUgdjIuMi4xXG5cdCAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qcy1jb29raWUvanMtY29va2llXG5cdCAqXG5cdCAqIENvcHlyaWdodCAyMDA2LCAyMDE1IEtsYXVzIEhhcnRsICYgRmFnbmVyIEJyYWNrXG5cdCAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuXHQgKi9cblx0OyhmdW5jdGlvbiAoZmFjdG9yeSkge1xuXHRcdHZhciByZWdpc3RlcmVkSW5Nb2R1bGVMb2FkZXI7XG5cdFx0aWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuXHRcdFx0ZGVmaW5lKGZhY3RvcnkpO1xuXHRcdFx0cmVnaXN0ZXJlZEluTW9kdWxlTG9hZGVyID0gdHJ1ZTtcblx0XHR9XG5cdFx0aWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuXHRcdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdFx0XHRyZWdpc3RlcmVkSW5Nb2R1bGVMb2FkZXIgPSB0cnVlO1xuXHRcdH1cblx0XHRpZiAoIXJlZ2lzdGVyZWRJbk1vZHVsZUxvYWRlcikge1xuXHRcdFx0dmFyIE9sZENvb2tpZXMgPSB3aW5kb3cuQ29va2llcztcblx0XHRcdHZhciBhcGkgPSB3aW5kb3cuQ29va2llcyA9IGZhY3RvcnkoKTtcblx0XHRcdGFwaS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHR3aW5kb3cuQ29va2llcyA9IE9sZENvb2tpZXM7XG5cdFx0XHRcdHJldHVybiBhcGk7XG5cdFx0XHR9O1xuXHRcdH1cblx0fShmdW5jdGlvbiAoKSB7XG5cdFx0ZnVuY3Rpb24gZXh0ZW5kICgpIHtcblx0XHRcdHZhciBpID0gMDtcblx0XHRcdHZhciByZXN1bHQgPSB7fTtcblx0XHRcdGZvciAoOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdHZhciBhdHRyaWJ1dGVzID0gYXJndW1lbnRzWyBpIF07XG5cdFx0XHRcdGZvciAodmFyIGtleSBpbiBhdHRyaWJ1dGVzKSB7XG5cdFx0XHRcdFx0cmVzdWx0W2tleV0gPSBhdHRyaWJ1dGVzW2tleV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fVxuXHRcblx0XHRmdW5jdGlvbiBkZWNvZGUgKHMpIHtcblx0XHRcdHJldHVybiBzLnJlcGxhY2UoLyglWzAtOUEtWl17Mn0pKy9nLCBkZWNvZGVVUklDb21wb25lbnQpO1xuXHRcdH1cblx0XG5cdFx0ZnVuY3Rpb24gaW5pdCAoY29udmVydGVyKSB7XG5cdFx0XHRmdW5jdGlvbiBhcGkoKSB7fVxuXHRcblx0XHRcdGZ1bmN0aW9uIHNldCAoa2V5LCB2YWx1ZSwgYXR0cmlidXRlcykge1xuXHRcdFx0XHRpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0YXR0cmlidXRlcyA9IGV4dGVuZCh7XG5cdFx0XHRcdFx0cGF0aDogJy8nXG5cdFx0XHRcdH0sIGFwaS5kZWZhdWx0cywgYXR0cmlidXRlcyk7XG5cdFxuXHRcdFx0XHRpZiAodHlwZW9mIGF0dHJpYnV0ZXMuZXhwaXJlcyA9PT0gJ251bWJlcicpIHtcblx0XHRcdFx0XHRhdHRyaWJ1dGVzLmV4cGlyZXMgPSBuZXcgRGF0ZShuZXcgRGF0ZSgpICogMSArIGF0dHJpYnV0ZXMuZXhwaXJlcyAqIDg2NGUrNSk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdC8vIFdlJ3JlIHVzaW5nIFwiZXhwaXJlc1wiIGJlY2F1c2UgXCJtYXgtYWdlXCIgaXMgbm90IHN1cHBvcnRlZCBieSBJRVxuXHRcdFx0XHRhdHRyaWJ1dGVzLmV4cGlyZXMgPSBhdHRyaWJ1dGVzLmV4cGlyZXMgPyBhdHRyaWJ1dGVzLmV4cGlyZXMudG9VVENTdHJpbmcoKSA6ICcnO1xuXHRcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHR2YXIgcmVzdWx0ID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuXHRcdFx0XHRcdGlmICgvXltcXHtcXFtdLy50ZXN0KHJlc3VsdCkpIHtcblx0XHRcdFx0XHRcdHZhbHVlID0gcmVzdWx0O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBjYXRjaCAoZSkge31cblx0XG5cdFx0XHRcdHZhbHVlID0gY29udmVydGVyLndyaXRlID9cblx0XHRcdFx0XHRjb252ZXJ0ZXIud3JpdGUodmFsdWUsIGtleSkgOlxuXHRcdFx0XHRcdGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcodmFsdWUpKVxuXHRcdFx0XHRcdFx0LnJlcGxhY2UoLyUoMjN8MjR8MjZ8MkJ8M0F8M0N8M0V8M0R8MkZ8M0Z8NDB8NUJ8NUR8NUV8NjB8N0J8N0R8N0MpL2csIGRlY29kZVVSSUNvbXBvbmVudCk7XG5cdFxuXHRcdFx0XHRrZXkgPSBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGtleSkpXG5cdFx0XHRcdFx0LnJlcGxhY2UoLyUoMjN8MjR8MjZ8MkJ8NUV8NjB8N0MpL2csIGRlY29kZVVSSUNvbXBvbmVudClcblx0XHRcdFx0XHQucmVwbGFjZSgvW1xcKFxcKV0vZywgZXNjYXBlKTtcblx0XG5cdFx0XHRcdHZhciBzdHJpbmdpZmllZEF0dHJpYnV0ZXMgPSAnJztcblx0XHRcdFx0Zm9yICh2YXIgYXR0cmlidXRlTmFtZSBpbiBhdHRyaWJ1dGVzKSB7XG5cdFx0XHRcdFx0aWYgKCFhdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdKSB7XG5cdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0c3RyaW5naWZpZWRBdHRyaWJ1dGVzICs9ICc7ICcgKyBhdHRyaWJ1dGVOYW1lO1xuXHRcdFx0XHRcdGlmIChhdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdID09PSB0cnVlKSB7XG5cdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdC8vIENvbnNpZGVycyBSRkMgNjI2NSBzZWN0aW9uIDUuMjpcblx0XHRcdFx0XHQvLyAuLi5cblx0XHRcdFx0XHQvLyAzLiAgSWYgdGhlIHJlbWFpbmluZyB1bnBhcnNlZC1hdHRyaWJ1dGVzIGNvbnRhaW5zIGEgJXgzQiAoXCI7XCIpXG5cdFx0XHRcdFx0Ly8gICAgIGNoYXJhY3Rlcjpcblx0XHRcdFx0XHQvLyBDb25zdW1lIHRoZSBjaGFyYWN0ZXJzIG9mIHRoZSB1bnBhcnNlZC1hdHRyaWJ1dGVzIHVwIHRvLFxuXHRcdFx0XHRcdC8vIG5vdCBpbmNsdWRpbmcsIHRoZSBmaXJzdCAleDNCIChcIjtcIikgY2hhcmFjdGVyLlxuXHRcdFx0XHRcdC8vIC4uLlxuXHRcdFx0XHRcdHN0cmluZ2lmaWVkQXR0cmlidXRlcyArPSAnPScgKyBhdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdLnNwbGl0KCc7JylbMF07XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdHJldHVybiAoZG9jdW1lbnQuY29va2llID0ga2V5ICsgJz0nICsgdmFsdWUgKyBzdHJpbmdpZmllZEF0dHJpYnV0ZXMpO1xuXHRcdFx0fVxuXHRcblx0XHRcdGZ1bmN0aW9uIGdldCAoa2V5LCBqc29uKSB7XG5cdFx0XHRcdGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHR2YXIgamFyID0ge307XG5cdFx0XHRcdC8vIFRvIHByZXZlbnQgdGhlIGZvciBsb29wIGluIHRoZSBmaXJzdCBwbGFjZSBhc3NpZ24gYW4gZW1wdHkgYXJyYXlcblx0XHRcdFx0Ly8gaW4gY2FzZSB0aGVyZSBhcmUgbm8gY29va2llcyBhdCBhbGwuXG5cdFx0XHRcdHZhciBjb29raWVzID0gZG9jdW1lbnQuY29va2llID8gZG9jdW1lbnQuY29va2llLnNwbGl0KCc7ICcpIDogW107XG5cdFx0XHRcdHZhciBpID0gMDtcblx0XG5cdFx0XHRcdGZvciAoOyBpIDwgY29va2llcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdHZhciBwYXJ0cyA9IGNvb2tpZXNbaV0uc3BsaXQoJz0nKTtcblx0XHRcdFx0XHR2YXIgY29va2llID0gcGFydHMuc2xpY2UoMSkuam9pbignPScpO1xuXHRcblx0XHRcdFx0XHRpZiAoIWpzb24gJiYgY29va2llLmNoYXJBdCgwKSA9PT0gJ1wiJykge1xuXHRcdFx0XHRcdFx0Y29va2llID0gY29va2llLnNsaWNlKDEsIC0xKTtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHR2YXIgbmFtZSA9IGRlY29kZShwYXJ0c1swXSk7XG5cdFx0XHRcdFx0XHRjb29raWUgPSAoY29udmVydGVyLnJlYWQgfHwgY29udmVydGVyKShjb29raWUsIG5hbWUpIHx8XG5cdFx0XHRcdFx0XHRcdGRlY29kZShjb29raWUpO1xuXHRcblx0XHRcdFx0XHRcdGlmIChqc29uKSB7XG5cdFx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29va2llID0gSlNPTi5wYXJzZShjb29raWUpO1xuXHRcdFx0XHRcdFx0XHR9IGNhdGNoIChlKSB7fVxuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdGphcltuYW1lXSA9IGNvb2tpZTtcblx0XG5cdFx0XHRcdFx0XHRpZiAoa2V5ID09PSBuYW1lKSB7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gY2F0Y2ggKGUpIHt9XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdHJldHVybiBrZXkgPyBqYXJba2V5XSA6IGphcjtcblx0XHRcdH1cblx0XG5cdFx0XHRhcGkuc2V0ID0gc2V0O1xuXHRcdFx0YXBpLmdldCA9IGZ1bmN0aW9uIChrZXkpIHtcblx0XHRcdFx0cmV0dXJuIGdldChrZXksIGZhbHNlIC8qIHJlYWQgYXMgcmF3ICovKTtcblx0XHRcdH07XG5cdFx0XHRhcGkuZ2V0SlNPTiA9IGZ1bmN0aW9uIChrZXkpIHtcblx0XHRcdFx0cmV0dXJuIGdldChrZXksIHRydWUgLyogcmVhZCBhcyBqc29uICovKTtcblx0XHRcdH07XG5cdFx0XHRhcGkucmVtb3ZlID0gZnVuY3Rpb24gKGtleSwgYXR0cmlidXRlcykge1xuXHRcdFx0XHRzZXQoa2V5LCAnJywgZXh0ZW5kKGF0dHJpYnV0ZXMsIHtcblx0XHRcdFx0XHRleHBpcmVzOiAtMVxuXHRcdFx0XHR9KSk7XG5cdFx0XHR9O1xuXHRcblx0XHRcdGFwaS5kZWZhdWx0cyA9IHt9O1xuXHRcblx0XHRcdGFwaS53aXRoQ29udmVydGVyID0gaW5pdDtcblx0XG5cdFx0XHRyZXR1cm4gYXBpO1xuXHRcdH1cblx0XG5cdFx0cmV0dXJuIGluaXQoZnVuY3Rpb24gKCkge30pO1xuXHR9KSk7XG5cdFxuXHQvKipcblx0ICogU3RvcmUgaW5mb3JtYXRpb24gaW4gTG9jYWwgU3RvcmFnZSBieSBncm91cC5cblx0ICpcblx0ICogQHNpbmNlIDMuMzYuMFxuXHQgKlxuXHQgKiBAcGFyYW0gc3RyaW5nIGdyb3VwIFN0b3JhZ2UgZ3JvdXAgaWQvbmFtZS5cblx0ICovXG5cdExMTVMuU3RvcmFnZSA9IGZ1bmN0aW9uKCBncm91cCApIHtcblx0XG5cdFx0dmFyIHNlbGYgPSB0aGlzLFxuXHRcdFx0c3RvcmUgPSBDb29raWVzLm5vQ29uZmxpY3QoKTtcblx0XG5cdFx0LyoqXG5cdFx0ICogQ2xlYXIgYWxsIGRhdGEgZm9yIHRoZSBncm91cC5cblx0XHQgKlxuXHRcdCAqIEBzaW5jZSAzLjM2LjBcblx0XHQgKlxuXHRcdCAqIEByZXR1cm4gdm9pZFxuXHRcdCAqL1xuXHRcdHRoaXMuY2xlYXJBbGwgPSBmdW5jdGlvbigpIHtcblx0XHRcdHN0b3JlLnJlbW92ZSggZ3JvdXAgKTtcblx0XHR9O1xuXHRcblx0XHQvKipcblx0XHQgKiBDbGVhciBhIHNpbmdsZSBpdGVtIGZyb20gdGhlIGdyb3VwIGJ5IGtleS5cblx0XHQgKlxuXHRcdCAqIEBzaW5jZSAzLjM2LjBcblx0XHQgKlxuXHRcdCAqIEByZXR1cm4gb2JqXG5cdFx0ICovXG5cdFx0dGhpcy5jbGVhciA9IGZ1bmN0aW9uKCBrZXkgKSB7XG5cdFx0XHR2YXIgZGF0YSA9IHNlbGYuZ2V0QWxsKCk7XG5cdFx0XHRkZWxldGUgZGF0YVsga2V5IF07XG5cdFx0XHRyZXR1cm4gc3RvcmUuc2V0KCBncm91cCwgZGF0YSApO1xuXHRcdH07XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFJldHJpZXZlIChhbmQgcGFyc2UpIGFsbCBkYXRhIHN0b3JlZCBmb3IgdGhlIGdyb3VwLlxuXHRcdCAqXG5cdFx0ICogQHNpbmNlIDMuMzYuMFxuXHRcdCAqXG5cdFx0ICogQHJldHVybiBvYmpcblx0XHQgKi9cblx0XHR0aGlzLmdldEFsbCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHN0b3JlLmdldEpTT04oIGdyb3VwICkgfHwge307XG5cdFx0fVxuXHRcblx0XHQvKipcblx0XHQgKiBSZXRyaWV2ZSBhbiBpdGVtIGZyb20gdGhlIGdyb3VwIGJ5IGtleS5cblx0XHQgKlxuXHRcdCAqIEBzaW5jZSAzLjM2LjBcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSBzdHJpbmcga2V5IEl0ZW0ga2V5L25hbWUuXG5cdFx0ICogQHBhcmFtIG1peGVkIGRlZmF1bHRfdmFsIEl0ZW0gZGVmYXVsdCB2YWx1ZSB0byBiZSByZXR1cm5lZCB3aGVuIGl0ZW0gbm90IGZvdW5kIGluIHRoZSBncm91cC5cblx0XHQgKiBAcmV0dXJuIG1peGVkXG5cdFx0ICovXG5cdFx0dGhpcy5nZXQgPSBmdW5jdGlvbigga2V5LCBkZWZhdWx0X3ZhbCApIHtcblx0XHRcdHZhciBkYXRhID0gc2VsZi5nZXRBbGwoKTtcblx0XHRcdHJldHVybiBkYXRhWyBrZXkgXSA/IGRhdGFbIGtleSBdIDogZGVmYXVsdF92YWw7XG5cdFx0fVxuXHRcblx0XHQvKipcblx0XHQgKiBTdG9yZSBhbiBpdGVtIGluIHRoZSBncm91cCBieSBrZXkuXG5cdFx0ICpcblx0XHQgKiBAc2luY2UgMy4zNi4wXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gc3RyaW5nIGtleSBJdGVtIGtleSBuYW1lLlxuXHRcdCAqIEBwYXJhbSBtaXhlZCB2YWwgSXRlbSB2YWx1ZVxuXHRcdCAqIEByZXR1cm4gb2JqXG5cdFx0ICovXG5cdFx0dGhpcy5zZXQgPSBmdW5jdGlvbigga2V5LCB2YWwgKSB7XG5cdFx0XHR2YXIgZGF0YSA9IHNlbGYuZ2V0QWxsKCk7XG5cdFx0XHRkYXRhWyBrZXkgXSA9IHZhbDtcblx0XHRcdHJldHVybiBzdG9yZS5zZXQoIGdyb3VwLCBkYXRhICk7XG5cdFx0fTtcblx0XG5cdH1cblx0XG5cdFx0LyoqXG5cdCAqIFN0dWRlbnQgRGFzaGJvYXJkIHJlbGF0ZWQgSlNcblx0ICpcblx0ICogQHBhY2thZ2UgTGlmdGVyTE1TL1NjcmlwdHNcblx0ICpcblx0ICogQHNpbmNlICAgIDMuNy4wXG5cdCAqIEB2ZXJzaW9uICAzLjEwLjBcblx0ICovXG5cdFxuXHRMTE1TLlN0dWRlbnREYXNoYm9hcmQgPSB7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFNsdWcgZm9yIHRoZSBjdXJyZW50IHNjcmVlbi9lbmRwb2ludFxuXHRcdCAqXG5cdFx0ICogQHR5cGUgIHtTdHJpbmd9XG5cdFx0ICovXG5cdFx0c2NyZWVuOiAnJyxcblx0XG5cdFx0LyoqXG5cdFx0ICogV2lsbCBzaG93IHRoZSBudW1iZXIgb2YgbWV0ZXJzIG9uIHRoZSBwYWdlXG5cdFx0ICogVXNlZCB0byBjb25kaXRpb25hbGx5IGJpbmQgbWV0ZXItcmVsYXRlZCBldmVudHMgb25seSB3aGVuIG1ldGVyc1xuXHRcdCAqIGFjdHVhbGx5IGV4aXN0XG5cdFx0ICpcblx0XHQgKiBAdHlwZSAgaW50XG5cdFx0ICovXG5cdFx0bWV0ZXJfZXhpc3RzOiAwLFxuXHRcblx0XHQvKipcblx0XHQgKiBJbml0XG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjcuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjEwLjBcblx0XHQgKi9cblx0XHRpbml0OiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHRpZiAoICQoICcubGxtcy1zdHVkZW50LWRhc2hib2FyZCcgKS5sZW5ndGggKSB7XG5cdFxuXHRcdFx0XHR0aGlzLm1ldGVyX2V4aXN0cyA9ICQoICcubGxtcy1wYXNzd29yZC1zdHJlbmd0aC1tZXRlcicgKS5sZW5ndGg7XG5cdFx0XHRcdHRoaXMuYmluZCgpO1xuXHRcblx0XHRcdFx0aWYgKCAnb3JkZXJzJyA9PT0gdGhpcy5nZXRfc2NyZWVuKCkgKSB7XG5cdFxuXHRcdFx0XHRcdHRoaXMuYmluZF9vcmRlcnMoKTtcblx0XG5cdFx0XHRcdH1cblx0XG5cdFx0XHR9XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEJpbmQgRE9NIGV2ZW50c1xuXHRcdCAqXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy43LjBcblx0XHQgKiBAdmVyc2lvbiAgMy43LjRcblx0XHQgKi9cblx0XHRiaW5kOiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHR2YXIgc2VsZiAgICA9IHRoaXMsXG5cdFx0XHRcdCR0b2dnbGUgPSAkKCAnLmxsbXMtc3R1ZGVudC1kYXNoYm9hcmQgYVtocmVmPVwiI2xsbXMtcGFzc3dvcmQtY2hhbmdlLXRvZ2dsZVwiXScgKTtcblx0XG5cdFx0XHQvLyBjbGljayBldmVudCBmb3IgdGhlIGNoYW5nZSBwYXNzd29yZCBsaW5rXG5cdFx0XHQkdG9nZ2xlLm9uKCAnY2xpY2snLCBmdW5jdGlvbiggZSApIHtcblx0XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XG5cdFx0XHRcdHZhciAkdGhpcyAgICAgICA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHRjdXJyX3RleHQgICA9ICR0aGlzLnRleHQoKSxcblx0XHRcdFx0XHRjdXJyX2FjdGlvbiA9ICR0aGlzLmF0dHIoICdkYXRhLWFjdGlvbicgKSxcblx0XHRcdFx0XHRuZXdfYWN0aW9uICA9ICdoaWRlJyA9PT0gY3Vycl9hY3Rpb24gPyAnc2hvdycgOiAnaGlkZScsXG5cdFx0XHRcdFx0bmV3X3RleHQgICAgPSAkdGhpcy5hdHRyKCAnZGF0YS10ZXh0JyApO1xuXHRcblx0XHRcdFx0c2VsZi5wYXNzd29yZF90b2dnbGUoIGN1cnJfYWN0aW9uICk7XG5cdFxuXHRcdFx0XHQvLyBwcmV2ZW50IGFjY2lkZW50YWwgY2FuY2VscyB3aGVuIHVzZXJzIHRhYiBvdXQgb2YgdGhlIGNvbmZpcm0gcGFzc3dvcmQgZmllbGRcblx0XHRcdFx0Ly8gYW5kIGV4cGVjdCB0byBoaXQgc3VibWl0IHdpdGggZW50ZXIga2V5IGltbWVkaWF0ZWx5IGFmdGVyXG5cdFx0XHRcdGlmICggJ3Nob3cnID09PSBjdXJyX2FjdGlvbiApIHtcblx0XHRcdFx0XHQkdGhpcy5hdHRyKCAndGFiaW5kZXgnLCAnLTc3NycgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQkdGhpcy5yZW1vdmVBdHRyKCAndGFiaW5kZXgnICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdCR0aGlzLmF0dHIoICdkYXRhLWFjdGlvbicsIG5ld19hY3Rpb24gKS5hdHRyKCAnZGF0YS10ZXh0JywgY3Vycl90ZXh0ICkudGV4dCggbmV3X3RleHQgKTtcblx0XG5cdFx0XHR9ICk7XG5cdFxuXHRcdFx0Ly8gdGhpcyB3aWxsIHJlbW92ZSB0aGUgcmVxdWlyZWQgYnkgZGVmYXVsdCB3aXRob3V0IGhhdmluZyB0byBtZXNzIHdpdGhcblx0XHRcdC8vIGNvbmRpdGlvbmFscyBpbiBQSFAgYW5kIHN0aWxsIGFsbG93cyB0aGUgcmVxdWlyZWQgKiB0byBzaG93IGluIHRoZSBsYWJlbFxuXHRcblx0XHRcdGlmICggdGhpcy5tZXRlcl9leGlzdHMgKSB7XG5cdFxuXHRcdFx0XHQkKCAnLmxsbXMtcGVyc29uLWZvcm0uZWRpdC1hY2NvdW50JyApLm9uKCAnbGxtcy1wYXNzd29yZC1zdHJlbmd0aC1yZWFkeScsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHNlbGYucGFzc3dvcmRfdG9nZ2xlKCAnaGlkZScgKTtcblx0XHRcdFx0fSApO1xuXHRcblx0XHRcdH0gZWxzZSB7XG5cdFxuXHRcdFx0XHRzZWxmLnBhc3N3b3JkX3RvZ2dsZSggJ2hpZGUnICk7XG5cdFxuXHRcdFx0fVxuXHRcblx0XHRcdCQoICcubGxtcy1kb251dCcgKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0TExNUy5Eb251dCggJCggdGhpcyApICk7XG5cdFx0XHR9ICk7XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEJpbmQgZXZlbnRzIHJlbGF0ZWQgdG8gdGhlIG9yZGVycyBzY3JlZW4gb24gdGhlIGRhc2hib2FyZFxuXHRcdCAqXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4xMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMTAuMFxuXHRcdCAqL1xuXHRcdGJpbmRfb3JkZXJzOiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHQkKCAnI2xsbXMtY2FuY2VsLXN1YnNjcmlwdGlvbi1mb3JtJyApLm9uKCAnc3VibWl0JywgdGhpcy5vcmRlcl9jYW5jZWxfd2FybmluZyApO1xuXHRcdFx0JCggJyNsbG1zX3VwZGF0ZV9wYXltZW50X21ldGhvZCcgKS5vbiggJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdCQoICdpbnB1dFtuYW1lPVwibGxtc19wYXltZW50X2dhdGV3YXlcIl06Y2hlY2tlZCcgKS50cmlnZ2VyKCAnY2hhbmdlJyApO1xuXHRcdFx0XHQkKCB0aGlzICkuY2xvc2VzdCggJ2Zvcm0nICkuZmluZCggJy5sbG1zLXN3aXRjaC1wYXltZW50LXNvdXJjZS1tYWluJyApLnNsaWRlVG9nZ2xlKCAnMjAwJyApO1xuXHRcdFx0fSApO1xuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBHZXQgdGhlIGN1cnJlbnQgZGFzaGJvYXJkIGVuZHBvaW50L3RhYiBzbHVnXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjEwLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4xMC4wXG5cdFx0ICovXG5cdFx0Z2V0X3NjcmVlbjogZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoICEgdGhpcy5zY3JlZW4gKSB7XG5cdFx0XHRcdHRoaXMuc2NyZWVuID0gJCggJy5sbG1zLXN0dWRlbnQtZGFzaGJvYXJkJyApLmF0dHIoICdkYXRhLWN1cnJlbnQnICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcy5zY3JlZW47XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogU2hvdyBhIGNvbmZpcm1hdGlvbiB3YXJuaW5nIHdoZW4gQ2FuY2VsIFN1YnNjcmlwdGlvbiBmb3JtIGlzIHN1Ym1pdHRlZFxuXHRcdCAqXG5cdFx0ICogQHBhcmFtICAgIG9iaiAgIGUgIEpTIGV2ZW50IGRhdGFcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjEwLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4xMC4wXG5cdFx0ICovXG5cdFx0b3JkZXJfY2FuY2VsX3dhcm5pbmc6IGZ1bmN0aW9uKCBlICkge1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0dmFyIG1zZyA9IExMTVMubDEwbi50cmFuc2xhdGUoICdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gY2FuY2VsIHlvdXIgc3Vic2NyaXB0aW9uPycgKTtcblx0XHRcdGlmICggd2luZG93LmNvbmZpcm0oIExMTVMubDEwbi50cmFuc2xhdGUoIG1zZyApICkgKSB7XG5cdFx0XHRcdCQoIHRoaXMgKS5vZmYoICdzdWJtaXQnLCB0aGlzLm9yZGVyX2NhbmNlbF93YXJuaW5nICk7XG5cdFx0XHRcdCQoIHRoaXMgKS5zdWJtaXQoKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBUb2dnbGUgcGFzc3dvcmQgcmVsYXRlZCBmaWVsZHMgb24gdGhlIGFjY291bnQgZWRpdCBwYWdlXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gICAgc3RyaW5nICAgYWN0aW9uICBbc2hvd3xoaWRlXVxuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuNy4wXG5cdFx0ICogQHZlcnNpb24gIDMuNy40XG5cdFx0ICovXG5cdFx0cGFzc3dvcmRfdG9nZ2xlOiBmdW5jdGlvbiggYWN0aW9uICkge1xuXHRcblx0XHRcdGlmICggISBhY3Rpb24gKSB7XG5cdFx0XHRcdGFjdGlvbiA9ICdzaG93Jztcblx0XHRcdH1cblx0XG5cdFx0XHR2YXIgc2VsZiAgPSB0aGlzLFxuXHRcdFx0XHQkcHdkcyA9ICQoICcjcGFzc3dvcmQsICNwYXNzd29yZF9jb25maXJtLCAjY3VycmVudF9wYXNzd29yZCcgKSxcblx0XHRcdFx0JGZvcm0gPSAkKCAnI3Bhc3N3b3JkJyApLmNsb3Nlc3QoICdmb3JtJyApO1xuXHRcblx0XHRcdC8vIGhpZGUgb3Igc2hvdyB0aGUgZmllbGRzXG5cdFx0XHQkKCAnLmxsbXMtY2hhbmdlLXBhc3N3b3JkJyApWyBhY3Rpb24gXSgpO1xuXHRcblx0XHRcdGlmICggJ3Nob3cnID09PSBhY3Rpb24gKSB7XG5cdFx0XHRcdC8vIG1ha2UgcGFzc3dvcmRzIHJlcXVpcmVkXG5cdFx0XHRcdCRwd2RzLmF0dHIoICdyZXF1aXJlZCcsICdyZXF1aXJlZCcgKTtcblx0XG5cdFx0XHRcdGlmICggc2VsZi5tZXRlcl9leGlzdHMgKSB7XG5cdFx0XHRcdFx0Ly8gYWRkIHRoZSBzdHJlbmd0aCBjaGVjayBvbiBmb3JtIHN1Ym1pc3Npb25cblx0XHRcdFx0XHQkZm9ybS5vbiggJ3N1Ym1pdCcsIExMTVMuUGFzc3dvcmRTdHJlbmd0aCwgTExNUy5QYXNzd29yZFN0cmVuZ3RoLnN1Ym1pdCApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gcmVtb3ZlIHJlcXVpcmVtZW50IHNvIGZvcm0gY2FuIGJlIHN1Ym1pdHRlZCB3aGlsZSBmaWVsZHMgYXJlIGhpZGRlblxuXHRcdFx0XHQvLyBhbmQgY2xlYXIgdGhlIHBhc3N3b3JkIG91dCBvZiB0aGUgZmllbGRzIGlmIHR5cGluZyBzdGFydGVkXG5cdFx0XHRcdCRwd2RzLnJlbW92ZUF0dHIoICdyZXF1aXJlZCcgKS52YWwoICcnICk7XG5cdFxuXHRcdFx0XHRpZiAoIHNlbGYubWV0ZXJfZXhpc3RzICkge1xuXHRcblx0XHRcdFx0XHQvLyByZW1vdmUgdGhlIHBhc3N3b3JkIHN0cmVuZ3RoIHN1Ym1pc3Npb24gY2hlY2tcblx0XHRcdFx0XHQkZm9ybS5vZmYoICdzdWJtaXQnLCBMTE1TLlBhc3N3b3JkU3RyZW5ndGguc3VibWl0ICk7XG5cdFx0XHRcdFx0Ly8gY2xlYXJzIHRoZSBtZXRlclxuXHRcdFx0XHRcdExMTVMuUGFzc3dvcmRTdHJlbmd0aC5jaGVja19zdHJlbmd0aCgpO1xuXHRcblx0XHRcdFx0fVxuXHRcblx0XHRcdH1cblx0XG5cdFx0fSxcblx0XG5cdH07XG5cdFxuXHRcdC8qIGdsb2JhbCBMTE1TLCAkICovXG5cdFxuXHQvKipcblx0ICogVXNlciBldmVudC9pbnRlcmFjdGlvbiB0cmFja2luZy5cblx0ICpcblx0ICogQHNpbmNlIDMuMzYuMFxuXHQgKiBAc2luY2UgMy4zNi4yIEZpeCBKUyBlcnJvciB3aGVuIHNldHRpbmdzIGFyZW4ndCBsb2FkZWQuXG5cdCAqIEBzaW5jZSBbdmVyc2lvbl0gU2V0IGBzZXR0aW5nc2AgYXMgYW4gZW1wdHkgb2JqZWN0IHdoZW4gbm8gc2V0dGluZ3Mgc3VwcGxpZWQuXG5cdCAqICAgICAgICAgICAgICAgT25seSBhdHRlbXB0IHRvIGFkZCBhIG5vbmNlIHRvIHRoZSBkYXRhc3RvcmUgd2hlbiBhIG5vbmNlIGV4aXN0cyBpbiB0aGUgc2V0dGluZ3Mgb2JqZWN0LlxuXHQgKi9cblx0TExNUy5UcmFja2luZyA9IGZ1bmN0aW9uKCBzZXR0aW5ncyApIHtcblx0XG5cdFx0c2V0dGluZ3MgPSBzZXR0aW5ncyB8fCB7fTtcblx0XG5cdFx0dmFyIHNlbGYgPSB0aGlzLFxuXHRcdFx0c3RvcmUgPSBuZXcgTExNUy5TdG9yYWdlKCAnbGxtcy10cmFja2luZycgKTtcblx0XG5cdFx0c2V0dGluZ3MgPSAnc3RyaW5nJyA9PT0gdHlwZW9mIHNldHRpbmdzID8gSlNPTi5wYXJzZSggc2V0dGluZ3MgKSA6IHNldHRpbmdzO1xuXHRcblx0XHQvKipcblx0XHQgKiBJbml0aWFsaXplIC8gQmluZCBhbGwgdHJhY2tpbmcgZXZlbnQgbGlzdGVuZXJzLlxuXHRcdCAqXG5cdFx0ICogQHNpbmNlIDMuMzYuMFxuXHRcdCAqIEBzaW5jZSBbdmVyc2lvbl0gT25seSBhdHRlbXB0IHRvIGFkZCBhIG5vbmNlIHRvIHRoZSBkYXRhc3RvcmUgd2hlbiBhIG5vbmNlIGV4aXN0cyBpbiB0aGUgc2V0dGluZ3Mgb2JqZWN0LlxuXHRcdCAqXG5cdFx0ICogQHJldHVybiB7dm9pZH1cblx0XHQgKi9cblx0XHRmdW5jdGlvbiBpbml0KCkge1xuXHRcblx0XHRcdC8vIFNldCB0aGUgbm9uY2UgZm9yIHNlcnZlci1zaWRlIHZlcmlmaWNhdGlvbi5cblx0XHRcdGlmICggc2V0dGluZ3Mubm9uY2UgKSB7XG5cdFxuXHRcdFx0XHRzdG9yZS5zZXQoICdub25jZScsIHNldHRpbmdzLm5vbmNlICk7XG5cdFxuXHRcdFx0fVxuXHRcblx0XHRcdHNlbGYuYWRkRXZlbnQoICdwYWdlLmxvYWQnICk7XG5cdFxuXHRcdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoICdiZWZvcmV1bmxvYWQnLCBvbkJlZm9yZVVubG9hZCApO1xuXHRcdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoICd1bmxvYWQnLCBvblVubG9hZCApO1xuXHRcblx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoICd2aXNpYmlsaXR5Y2hhbmdlJywgb25WaXNpYmlsaXR5Q2hhbmdlICk7XG5cdFxuXHRcdH07XG5cdFxuXHRcdC8qKlxuXHRcdCAqIEFkZCBhbiBldmVudC5cblx0XHQgKlxuXHRcdCAqIEBzaW5jZSAzLjM2LjBcblx0XHQgKiBAc2luY2UgMy4zNi4yIEZpeCBlcnJvciB3aGVuIHNldHRpbmdzIGFyZW4ndCBsb2FkZWQuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gc3RyaW5nfG9iaiBldmVudCBFdmVudCBJZCAodHlwZS5ldmVudCkgb3IgYSBmdWxsIGV2ZW50IG9iamVjdCBmcm9tIGB0aGlzLm1ha2VFdmVudE9iaigpYC5cblx0XHQgKiBAcGFyYW0gaW50IGFyZ3MgT3B0aW9uYWwgYWRkaXRpb25hbCBhcmd1bWVudHMgdG8gcGFzcyB0byBgdGhpcy5tYWtlRXZlbnRPYmooKWAuXG5cdFx0ICogQHJldHVybiB7dm9pZH1cblx0XHQgKi9cblx0XHR0aGlzLmFkZEV2ZW50ID0gZnVuY3Rpb24oIGV2ZW50LCBhcmdzICkge1xuXHRcblx0XHRcdGFyZ3MgID0gYXJncyB8fCB7fTtcblx0XHRcdGlmICggJ3N0cmluZycgPT09IHR5cGVvZiBldmVudCApIHtcblx0XHRcdFx0YXJncy5ldmVudCA9IGV2ZW50O1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIElmIHRoZSBldmVudCBpc24ndCByZWdpc3RlcmVkIGluIHRoZSBzZXR0aW5ncyBkb24ndCBwcm9jZWVkLlxuXHRcdFx0aWYgKCAhc2V0dGluZ3MuZXZlbnRzIHx8IC0xID09PSBzZXR0aW5ncy5ldmVudHMuaW5kZXhPZiggYXJncy5ldmVudCApICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFxuXHRcdFx0ZXZlbnQgPSBzZWxmLm1ha2VFdmVudE9iaiggYXJncyApO1xuXHRcblx0XHRcdHZhciBhbGwgPSBzdG9yZS5nZXQoICdldmVudHMnLCBbXSApO1xuXHRcdFx0YWxsLnB1c2goIGV2ZW50ICk7XG5cdFx0XHRzdG9yZS5zZXQoICdldmVudHMnLCBhbGwgKTtcblx0XG5cdFx0fVxuXHRcblx0XHQvKipcblx0XHQgKiBSZXRyaWV2ZSBpbml0aWFsaXphdGlvbiBzZXR0aW5ncy5cblx0XHQgKlxuXHRcdCAqIEBzaW5jZSAzLjM2LjBcblx0XHQgKlxuXHRcdCAqIEByZXR1cm4gb2JqXG5cdFx0ICovXG5cdFx0dGhpcy5nZXRTZXR0aW5ncyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHNldHRpbmdzO1xuXHRcdH1cblx0XG5cdFx0LyoqXG5cdFx0ICogQ3JlYXRlIGFuIGV2ZW50IG9iamVjdCBzdWl0YWJsZSB0byBzYXZlIGFzIGFuIGV2ZW50LlxuXHRcdCAqXG5cdFx0ICogQHNpbmNlIDMuMzYuMFxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIG9iaiBldmVudCB7XG5cdFx0ICogICAgIEV2ZW50IGhhc2hcblx0XHQgKlxuXHRcdCAqICAgICBAcGFyYW0ge3N0cmluZ30gZXZlbnQgKFJlcXVpcmVkKSBFdmVudCBJRCwgZWc6IFwicGFnZS5sb2FkXCIuXG5cdFx0ICogICAgIEBwYXJhbSB7dXJsfSB1cmwgRXZlbnQgVVJMLiAoT3B0aW9uYWwsIGFkZGVkIGF1dG9tYXRpY2FsbHkpIFN0b3JlZCBhcyBtZXRhZGF0YSBhbmQgdXNlZCB0byBpbmZlciBhbiBvYmplY3RfaWQgZm9yIHBvc3QgZXZlbnRzLlxuXHRcdCAqICAgICBAcGFyYW0ge3RpbWV9IGZsb2F0IChPcHRpb25hbCwgYWRkZWQgYXV0b21hdGljYWxseSkgVGltZXN0YW1wIChpbiBtaWxsaXNlY29uZHMpLiBVc2VkIGZvciB0aGUgZXZlbnQgY3JlYXRpb24gZGF0ZS5cblx0XHQgKiAgICAgQHBhcmFtIHtpbnR9IG9ial9pZCAoT3B0aW9uYWwpLiBUaGUgb2JqZWN0IElELiBJbmZlcnJlZCBhdXRvbWF0aWNhbGx5IHZpYSBgdXJsYCBpZiBub3QgcHJvdmlkZWQuXG5cdFx0ICogICAgIEBwYXJhbSB7b2JqfSBtZXRhIChPcHRpb25hbCkgSGFzaCBvZiBtZXRhZGF0YSB0byBzdG9yZSB3aXRoIHRoZSBldmVudC5cblx0XHQgKiB9XG5cdFx0ICogQHJldHVybiBvYmpcblx0XHQgKi9cblx0XHR0aGlzLm1ha2VFdmVudE9iaiA9IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHJldHVybiBPYmplY3QuYXNzaWduKCBldmVudCwge1xuXHRcdFx0XHR1cmw6IHdpbmRvdy5sb2NhdGlvbi5ocmVmLFxuXHRcdFx0XHR0aW1lOiBNYXRoLnJvdW5kKCBuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDAgKSxcblx0XHRcdH0gKTtcblx0XHR9XG5cdFxuXHRcblx0XHQvKipcblx0XHQgKiBSZW1vdmUgdGhlIHZpc2liaWxpdHkgY2hhbmdlIGV2ZW50IGxpc3RlbmVyIG9uIHdpbmRvdy5iZWZvcmV1bmxvYWRcblx0XHQgKlxuXHRcdCAqIFByZXZlbnRzIGFjdHVhbCB1bmxvYWRpbmcgZnJvbSByZWNvcmRpbmcgYSBibHVyIGV2ZW50IGZyb20gdGhlIHZpc2liaWxpdHkgY2hhbmdlIGxpc3RlbmVyXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gb2JqIGUgSlMgZXZlbnQgb2JqZWN0LlxuXHRcdCAqIEByZXR1cm4gdm9pZFxuXHRcdCAqL1xuXHRcdGZ1bmN0aW9uIG9uQmVmb3JlVW5sb2FkKCBlICkge1xuXHRcdFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ3Zpc2liaWxpdHljaGFuZ2UnLCBvblZpc2liaWxpdHlDaGFuZ2UgKTtcblx0XHR9XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFJlY29yZCBhIGBwYWdlLmV4aXRgIGV2ZW50IG9uIHdpbmRvdy51bmxvYWQuXG5cdFx0ICpcblx0XHQgKiBAc2luY2UgMy4zNi4wXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gb2JqIGUgSlMgZXZlbnQgb2JqZWN0LlxuXHRcdCAqIEByZXR1cm4gdm9pZFxuXHRcdCAqL1xuXHRcdGZ1bmN0aW9uIG9uVW5sb2FkKCBlICkge1xuXHRcdFx0c2VsZi5hZGRFdmVudCggJ3BhZ2UuZXhpdCcgKTtcblx0XHR9XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFJlY29yZCBgcGFnZS5ibHVyYCBhbmQgYHBhZ2UuZm9jdXNgIGV2ZW50cyB2aWEgZG9jdW1lbnQudmlzaWxpYml0eWNoYW5nZSBldmVudHMuXG5cdFx0ICpcblx0XHQgKiBAc2luY2UgMy4zNi4wXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gb2JqIGUgSlMgZXZlbnQgb2JqZWN0LlxuXHRcdCAqIEByZXR1cm4gdm9pZFxuXHRcdCAqL1xuXHRcdGZ1bmN0aW9uIG9uVmlzaWJpbGl0eUNoYW5nZSggZSApIHtcblx0XG5cdFx0XHR2YXIgZXZlbnQgPSBkb2N1bWVudC5oaWRkZW4gPyAncGFnZS5ibHVyJyA6ICdwYWdlLmZvY3VzJztcblx0XHRcdHNlbGYuYWRkRXZlbnQoIGV2ZW50ICk7XG5cdFxuXHRcdH1cblx0XG5cdFx0Ly8gSW5pdGlhbGl6ZSBvbiB0aGUgZnJvbnRlbmQgb25seS5cblx0XHRpZiAoICEgJCggJ2JvZHknICkuaGFzQ2xhc3MoICd3cC1hZG1pbicgKSApIHtcblx0XHRcdGluaXQoKTtcblx0XHR9XG5cdFxuXHR9O1xuXHRcblx0bGxtcy50cmFja2luZyA9IG5ldyBMTE1TLlRyYWNraW5nKCBsbG1zLnRyYWNraW5nICk7XG5cdFxuXHRcdC8qKlxuXHQgKiBSZXN0IE1ldGhvZHNcblx0ICogTWFuYWdlcyBVUkwgYW5kIFJlc3Qgb2JqZWN0IHBhcnNpbmdcblx0ICpcblx0ICogQHBhY2thZ2UgTGlmdGVyTE1TL1NjcmlwdHNcblx0ICpcblx0ICogQHNpbmNlIFVua25vd25cblx0ICogQHZlcnNpb24gIFVua25vd25cblx0ICovXG5cdFxuXHRMTE1TLlJlc3QgPSB7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIEluaXRcblx0XHQgKiBsb2FkcyBjbGFzcyBtZXRob2RzXG5cdFx0ICovXG5cdFx0aW5pdDogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLmJpbmQoKTtcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBCaW5kIE1ldGhvZFxuXHRcdCAqIEhhbmRsZXMgZG9tIGJpbmRpbmcgb24gbG9hZFxuXHRcdCAqXG5cdFx0ICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXG5cdFx0ICovXG5cdFx0YmluZDogZnVuY3Rpb24oKSB7XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogU2VhcmNoZXMgZm9yIHN0cmluZyBtYXRjaGVzIGluIHVybCBwYXRoXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gIHtBcnJheX0gIHN0cmluZ3MgW0FycmF5IG9mIHN0cmluZ3MgdG8gc2VhcmNoIGZvciBtYXRjaGVzXVxuXHRcdCAqIEByZXR1cm4ge0Jvb2xlYW59ICAgICAgICAgW1dhcyBhIG1hdGNoIGZvdW5kP11cblx0XHQgKi9cblx0XHRpc19wYXRoOiBmdW5jdGlvbiggc3RyaW5ncyApIHtcblx0XG5cdFx0XHR2YXIgcGF0aF9leGlzdHMgPSBmYWxzZSxcblx0XHRcdFx0dXJsICAgICAgICAgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcblx0XG5cdFx0XHRmb3IgKCB2YXIgaSA9IDA7IGkgPCBzdHJpbmdzLmxlbmd0aDsgaSsrICkge1xuXHRcblx0XHRcdFx0aWYgKCB1cmwuc2VhcmNoKCBzdHJpbmdzW2ldICkgPiAwICYmICEgcGF0aF9leGlzdHMgKSB7XG5cdFxuXHRcdFx0XHRcdHBhdGhfZXhpc3RzID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiBwYXRoX2V4aXN0cztcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBSZXRyaWV2ZXMgcXVlcnkgdmFyaWFibGVzXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuIHtbQXJyYXldfSBbYXJyYXkgb2JqZWN0IG9mIHF1ZXJ5IHZhcmlhYmxlIGtleT0+dmFsdWUgcGFpcnNdXG5cdFx0ICovXG5cdFx0Z2V0X3F1ZXJ5X3ZhcnM6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdHZhciB2YXJzICAgPSBbXSwgaGFzaCxcblx0XHRcdFx0aGFzaGVzID0gd2luZG93LmxvY2F0aW9uLmhyZWYuc2xpY2UoIHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoICc/JyApICsgMSApLnNwbGl0KCAnJicgKTtcblx0XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGhhc2hlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRoYXNoID0gaGFzaGVzW2ldLnNwbGl0KCAnPScgKTtcblx0XHRcdFx0dmFycy5wdXNoKCBoYXNoWzBdICk7XG5cdFx0XHRcdHZhcnNbaGFzaFswXV0gPSBoYXNoWzFdO1xuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiB2YXJzO1xuXHRcdH1cblx0XG5cdH07XG5cdFxuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXplcyBhbGwgY2xhc3NlcyB3aXRoaW4gdGhlIExMTVMgTmFtZXNwYWNlXG5cdCAqXG5cdCAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxuXHQgKi9cblx0TExNUy5pbml0ID0gZnVuY3Rpb24oKSB7XG5cblx0XHRmb3IgKHZhciBmdW5jIGluIExMTVMpIHtcblxuXHRcdFx0aWYgKCB0eXBlb2YgTExNU1tmdW5jXSA9PT0gJ29iamVjdCcgJiYgTExNU1tmdW5jXSAhPT0gbnVsbCApIHtcblxuXHRcdFx0XHRpZiAoIExMTVNbZnVuY10uaW5pdCAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdFx0aWYgKCB0eXBlb2YgTExNU1tmdW5jXS5pbml0ID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRMTE1TW2Z1bmNdLmluaXQoKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0fTtcblxuXHQvKipcblx0ICogRGV0ZXJtaW5lIGlmIHRoZSBjdXJyZW50IGRldmljZSBpcyB0b3VjaC1lbmFibGVkXG5cdCAqXG5cdCAqIEBzZWUgICAgIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS80ODE5ODg2LzQwMDU2OCBbMjAxOCBVcGRhdGVdXG5cdCAqIEByZXR1cm4gIHtCb29sZWFufVxuXHQgKiBAc2luY2UgICAzLjI0LjNcblx0ICogQHZlcnNpb24gMy4yNC4zXG5cdCAqL1xuXHRMTE1TLmlzX3RvdWNoX2RldmljZSA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIHByZWZpeGVzID0gJyAtd2Via2l0LSAtbW96LSAtby0gLW1zLSAnLnNwbGl0KCAnICcgKTtcblx0XHR2YXIgbXEgICAgICAgPSBmdW5jdGlvbiggcXVlcnkgKSB7XG5cdFx0XHRyZXR1cm4gd2luZG93Lm1hdGNoTWVkaWEoIHF1ZXJ5ICkubWF0Y2hlcztcblx0XHR9XG5cblx0XHRpZiAoICggJ29udG91Y2hzdGFydCcgaW4gd2luZG93ICkgfHwgd2luZG93LkRvY3VtZW50VG91Y2ggJiYgZG9jdW1lbnQgaW5zdGFuY2VvZiBEb2N1bWVudFRvdWNoICkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0Ly8gaW5jbHVkZSB0aGUgJ2hlYXJ0eicgYXMgYSB3YXkgdG8gaGF2ZSBhIG5vbiBtYXRjaGluZyBNUSB0byBoZWxwIHRlcm1pbmF0ZSB0aGUgam9pblxuXHRcdC8vIGh0dHBzOi8vZ2l0LmlvL3Z6bkZIXG5cdFx0dmFyIHF1ZXJ5ID0gWycoJywgcHJlZml4ZXMuam9pbiggJ3RvdWNoLWVuYWJsZWQpLCgnICksICdoZWFydHonLCAnKSddLmpvaW4oICcnICk7XG5cdFx0cmV0dXJuIG1xKCBxdWVyeSApO1xuXG5cdH07XG5cblx0LyoqXG5cdCAqIFdhaXQgZm9yIG1hdGNoSGVpZ2h0IHRvIGxvYWRcblx0ICpcblx0ICogQHBhcmFtICAgIHtGdW5jdGlvbn0gIGNiICBjYWxsYmFjayBmdW5jdGlvbiB0byBydW4gd2hlbiBtYXRjaGhlaWdodCBpcyByZWFkeVxuXHQgKiBAcmV0dXJuICAgdm9pZFxuXHQgKiBAc2luY2UgICAgMy4wLjBcblx0ICogQHZlcnNpb24gIDMuMTYuNlxuXHQgKi9cblx0TExNUy53YWl0X2Zvcl9tYXRjaEhlaWdodCA9IGZ1bmN0aW9uKCBjYiApIHtcblx0XHR0aGlzLndhaXRfZm9yKCBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiAoIHVuZGVmaW5lZCAhPT0gJC5mbi5tYXRjaEhlaWdodCApO1xuXHRcdH0sIGNiICk7XG5cdH1cblxuXHQvKipcblx0ICogV2FpdCBmb3Igd2VidWlQb3BvdmVyIHRvIGxvYWRcblx0ICpcblx0ICogQHBhcmFtICAgIHtGdW5jdGlvbn0gIGNiICBjYWxsYmFjayBmdW5jdGlvbiB0byBydW4gd2hlbiBtYXRjaGhlaWdodCBpcyByZWFkeVxuXHQgKiBAcmV0dXJuICAgdm9pZFxuXHQgKiBAc2luY2UgICAgMy45LjFcblx0ICogQHZlcnNpb24gIDMuMTYuNlxuXHQgKi9cblx0TExNUy53YWl0X2Zvcl9wb3BvdmVyID0gZnVuY3Rpb24oIGNiICkge1xuXHRcdHRoaXMud2FpdF9mb3IoIGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuICggdW5kZWZpbmVkICE9PSAkLmZuLndlYnVpUG9wb3ZlciApO1xuXHRcdH0sIGNiICk7XG5cdH1cblxuXHQvKipcblx0ICogV2FpdCBmb3IgYSBkZXBlbmRlbmN5IHRvIGxvYWQgYW5kIHRoZW4gcnVuIGEgY2FsbGJhY2sgb25jZSBpdCBoYXNcblx0ICogVGVtcG9yYXJ5IGZpeCBmb3IgYSBsZXNzLXRoYW4tb3B0aW1hbCBhc3NldHMgbG9hZGluZyBmdW5jdGlvbiBvbiB0aGUgUEhQIHNpZGUgb2YgdGhpbmdzXG5cdCAqXG5cdCAqIEBwYXJhbSAgICB7RnVuY3Rpb259ICAgIHRlc3QgIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgdHJ1dGh5IGlmIHRoZSBkZXBlbmRlbmN5IGlzIGxvYWRlZFxuXHQgKiBAcGFyYW0gICAge0Z1bmN0aW9ufSAgICBjYiAgICBhIGNhbGxiYWNrIGZ1bmN0aW9uIGV4ZWN1dGVkIG9uY2UgdGhlIGRlcGVuZGVuY3kgaXMgbG9hZGVkXG5cdCAqIEByZXR1cm4gICB2b2lkXG5cdCAqIEBzaW5jZSAgICAzLjkuMVxuXHQgKiBAdmVyc2lvbiAgMy45LjFcblx0ICovXG5cdExMTVMud2FpdF9mb3IgPSBmdW5jdGlvbiggdGVzdCwgY2IgKSB7XG5cblx0XHR2YXIgY291bnRlciA9IDAsXG5cdFx0XHRpbnRlcnZhbDtcblxuXHRcdGludGVydmFsID0gc2V0SW50ZXJ2YWwoIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBpZiB3ZSBnZXQgdG8gMzAgc2Vjb25kcyBsb2cgYW4gZXJyb3IgbWVzc2FnZVxuXHRcdFx0aWYgKCBjb3VudGVyID49IDMwMCApIHtcblxuXHRcdFx0XHRjb25zb2xlLmxvZyggJ2NvdWxkIG5vdCBsb2FkIGRlcGVuZGVuY3knICk7XG5cblx0XHRcdFx0Ly8gaWYgd2UgY2FuJ3QgYWNjZXNzIHllLCBpbmNyZW1lbnQgYW5kIHdhaXQuLi5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gYmluZCB0aGUgZXZlbnRzLCB3ZSdyZSBnb29kIVxuXHRcdFx0XHRpZiAoIHRlc3QoKSApIHtcblxuXHRcdFx0XHRcdGNiKCk7XG5cblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCAnd2FpdGluZy4uLicgKTtcblx0XHRcdFx0XHRjb3VudGVyKys7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXG5cdFx0XHRjbGVhckludGVydmFsKCBpbnRlcnZhbCApO1xuXG5cdFx0fSwgMTAwICk7XG5cblx0fTtcblxuXHRMTE1TLmluaXQoICQgKTtcblxufSkoIGpRdWVyeSApO1xuIiwiLyoqXG4gKiBGcm9udCBFbmQgQWNoaWV2ZW1lbnRzXG4gKlxuICogQHBhY2thZ2UgTGlmdGVyTE1TL1NjcmlwdHNcbiAqXG4gKiBAc2luY2UgICAgMy4xNC4wXG4gKiBAdmVyc2lvbiAgMy4xNC4wXG4gKi9cblxuTExNUy5BY2hpZXZlbWVudHMgPSB7XG5cblx0LyoqXG5cdCAqIEluaXRcblx0ICpcblx0ICogQHJldHVybiAgIHZvaWRcblx0ICogQHNpbmNlICAgIDMuMTQuMFxuXHQgKiBAdmVyc2lvbiAgMy4xNC4wXG5cdCAqL1xuXHRpbml0OiBmdW5jdGlvbigpIHtcblxuXHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdGlmICggJCggJy5sbG1zLWFjaGlldmVtZW50JyApICkge1xuXHRcdFx0JCggZG9jdW1lbnQgKS5vbiggJ3JlYWR5JywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHNlbGYuYmluZCgpO1xuXHRcdFx0XHRzZWxmLm1heWJlX29wZW4oKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0fSxcblxuXHQvKipcblx0ICogQmluZCBET00gZXZlbnRzXG5cdCAqXG5cdCAqIEByZXR1cm4gICB2b2lkXG5cdCAqIEBzaW5jZSAgICAzLjE0LjBcblx0ICogQHZlcnNpb24gIDMuMTQuMFxuXHQgKi9cblx0YmluZDogZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHQkKCAnLmxsbXMtYWNoaWV2ZW1lbnQnICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdHNlbGYuY3JlYXRlX21vZGFsKCAkKCB0aGlzICkgKTtcblxuXHRcdH0gKTtcblxuXHRcdCQoICcubGxtcy1hY2hpZXZlbWVudCcgKS5vbiggJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciAkdGhpcyAgPSAkKCB0aGlzICksXG5cdFx0XHRcdGlkICAgICA9ICdhY2hpZXZlbWVudC0nICsgJHRoaXMuYXR0ciggJ2RhdGEtaWQnICksXG5cdFx0XHRcdCRtb2RhbCA9ICQoICcjJyArIGlkICk7XG5cblx0XHRcdGlmICggISAkbW9kYWwubGVuZ3RoICkge1xuXHRcdFx0XHRzZWxmLmNyZWF0ZV9tb2RhbCggJHRoaXMgKTtcblx0XHRcdH1cblxuXHRcdFx0JG1vZGFsLml6aU1vZGFsKCAnb3BlbicgKTtcblxuXHRcdH0gKTtcblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIG1vZGFsIGEgbW9kYWwgZm9yIGFuIGFjaGlldmVtZW50XG5cdCAqXG5cdCAqIEBwYXJhbSAgICBvYmogICAkZWwgIGpRdWVyeSBzZWxlY3RvciBmb3IgdGhlIG1vZGFsIGNhcmRcblx0ICogQHJldHVybiAgIHZvaWRcblx0ICogQHNpbmNlICAgIDMuMTQuMFxuXHQgKiBAdmVyc2lvbiAgMy4xNC4wXG5cdCAqL1xuXHRjcmVhdGVfbW9kYWw6IGZ1bmN0aW9uKCAkZWwgKSB7XG5cblx0XHR2YXIgaWQgICAgID0gJ2FjaGlldmVtZW50LScgKyAkZWwuYXR0ciggJ2RhdGEtaWQnICksXG5cdFx0XHQkbW9kYWwgPSAkKCAnIycgKyBpZCApO1xuXG5cdFx0aWYgKCAhICRtb2RhbC5sZW5ndGggKSB7XG5cdFx0XHQkbW9kYWwgPSAkKCAnPGRpdiBjbGFzcz1cImxsbXMtYWNoaWV2ZW1lbnQtbW9kYWxcIiBpZD1cIicgKyBpZCArICdcIiAvPicgKTtcblx0XHRcdCQoICdib2R5JyApLmFwcGVuZCggJG1vZGFsICk7XG5cdFx0fVxuXG5cdFx0JG1vZGFsLml6aU1vZGFsKCB7XG5cdFx0XHRoZWFkZXJDb2xvcjogJyMzYTNhM2EnLFxuXHRcdFx0Z3JvdXA6ICdhY2hpZXZlbWVudHMnLFxuXHRcdFx0aGlzdG9yeTogdHJ1ZSxcblx0XHRcdGxvb3A6IHRydWUsXG5cdFx0XHRvdmVybGF5Q29sb3I6ICdyZ2JhKCAwLCAwLCAwLCAwLjYgKScsXG5cdFx0XHR0cmFuc2l0aW9uSW46ICdmYWRlSW5Eb3duJyxcblx0XHRcdHRyYW5zaXRpb25PdXQ6ICdmYWRlT3V0RG93bicsXG5cdFx0XHR3aWR0aDogMzQwLFxuXHRcdFx0b25PcGVuaW5nOiBmdW5jdGlvbiggbW9kYWwgKSB7XG5cblx0XHRcdFx0bW9kYWwuc2V0VGl0bGUoICRlbC5maW5kKCAnLmxsbXMtYWNoaWV2ZW1lbnQtdGl0bGUnICkuaHRtbCgpICk7XG5cdFx0XHRcdG1vZGFsLnNldFN1YnRpdGxlKCAkZWwuZmluZCggJy5sbG1zLWFjaGlldmVtZW50LWRhdGUnICkuaHRtbCgpICk7XG5cdFx0XHRcdG1vZGFsLnNldENvbnRlbnQoICc8ZGl2IGNsYXNzPVwibGxtcy1hY2hpZXZlbWVudFwiPicgKyAkZWwuaHRtbCgpICsgJzwvZGl2PicgKTtcblxuXHRcdFx0fSxcblxuXHRcdFx0b25DbG9zaW5nOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0d2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKCAnJywgZG9jdW1lbnQudGl0bGUsIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2ggKTtcblx0XHRcdH0sXG5cblx0XHR9ICk7XG5cblx0fSxcblxuXHQvKipcblx0ICogT24gcGFnZSBsb2FkLCBvcGVucyBhIG1vZGFsIGlmIHRoZSBVUkwgY29udGFpbnMgYW4gYWNoaWV2ZW1lbnQgaW4gdGhlIGxvY2F0aW9uIGhhc2hcblx0ICpcblx0ICogQHJldHVybiAgIHZvaWRcblx0ICogQHNpbmNlICAgIDMuMTQuMFxuXHQgKiBAdmVyc2lvbiAgMy4xNC4wXG5cdCAqL1xuXHRtYXliZV9vcGVuOiBmdW5jdGlvbigpIHtcblxuXHRcdHZhciBoYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2g7XG5cdFx0aWYgKCBoYXNoICYmIC0xICE9PSBoYXNoLmluZGV4T2YoICdhY2hpZXZlbWVudC0nICkgKSB7XG5cdFx0XHQkKCAnYVtocmVmPVwiJyArIGhhc2ggKyAnXCJdJyApLmZpcnN0KCkudHJpZ2dlciggJ2NsaWNrJyApO1xuXHRcdH1cblxuXHR9XG5cbn07XG4iLCIvKipcbiAqIE1haW4gQWpheCBjbGFzc1xuICogSGFuZGxlcyBQcmltYXJ5IEFqYXggY29ubmVjdGlvblxuICpcbiAqIEBwYWNrYWdlIExpZnRlckxNUy9TY3JpcHRzXG4gKlxuICogQHNpbmNlIFVua25vd25cbiAqIEB2ZXJzaW9uIFVua25vd25cbiAqL1xuXG5MTE1TLkFqYXggPSB7XG5cblx0LyoqXG5cdCAqIFVybFxuXHQgKlxuXHQgKiBAdHlwZSB7U3RyaW5nfVxuXHQgKi9cblx0dXJsOiB3aW5kb3cuYWpheHVybCB8fCB3aW5kb3cubGxtcy5hamF4dXJsLFxuXG5cdC8qKlxuXHQgKiBUeXBlXG5cdCAqXG5cdCAqIEB0eXBlIHtbdHlwZV19XG5cdCAqL1xuXHR0eXBlOiAncG9zdCcsXG5cblx0LyoqXG5cdCAqIERhdGFcblx0ICpcblx0ICogQHR5cGUge1t0eXBlXX1cblx0ICovXG5cdGRhdGE6IFtdLFxuXG5cdC8qKlxuXHQgKiBDYWNoZVxuXHQgKlxuXHQgKiBAdHlwZSB7W3R5cGVdfVxuXHQgKi9cblx0Y2FjaGU6IGZhbHNlLFxuXG5cdC8qKlxuXHQgKiBEYXRhVHlwZVxuXHQgKiBkZWZhdWx0ZWQgdG8ganNvblxuXHQgKlxuXHQgKiBAdHlwZSB7U3RyaW5nfVxuXHQgKi9cblx0ZGF0YVR5cGU6ICdqc29uJyxcblxuXHQvKipcblx0ICogQXN5bmNcblx0ICogZGVmYXVsdCB0byBmYWxzZVxuXHQgKlxuXHQgKiBAdHlwZSB7Qm9vbGVhbn1cblx0ICovXG5cdGFzeW5jOiB0cnVlLFxuXG5cdHJlc3BvbnNlOltdLFxuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXplIEFqYXggbWV0aG9kc1xuXHQgKiBsb2FkcyBjbGFzcyBtZXRob2RzXG5cdCAqL1xuXHRpbml0OiBmdW5jdGlvbihvYmopIHtcblxuXHRcdC8vIGlmIG9iaiBpcyBub3Qgb2YgdHlwZSBvYmplY3Qgb3IgbnVsbCByZXR1cm4gZmFsc2U7XG5cdFx0aWYgKCBvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gc2V0IG9iamVjdCBkZWZhdWx0cyBpZiB2YWx1ZXMgYXJlIG5vdCBzdXBwbGllZFxuXHRcdG9iai51cmwgICAgICA9ICd1cmwnICAgICAgICAgaW4gb2JqID8gb2JqLnVybCA6IHRoaXMudXJsO1xuXHRcdG9iai50eXBlICAgICA9ICd0eXBlJyBcdFx0aW4gb2JqID8gb2JqLnR5cGUgOiB0aGlzLnR5cGU7XG5cdFx0b2JqLmRhdGEgICAgID0gJ2RhdGEnIFx0XHRpbiBvYmogPyBvYmouZGF0YSA6IHRoaXMuZGF0YTtcblx0XHRvYmouY2FjaGUgICAgPSAnY2FjaGUnIFx0XHRpbiBvYmogPyBvYmouY2FjaGUgOiB0aGlzLmNhY2hlO1xuXHRcdG9iai5kYXRhVHlwZSA9ICdkYXRhVHlwZSdcdGluIG9iaiA/IG9iai5kYXRhVHlwZSA6IHRoaXMuZGF0YVR5cGU7XG5cdFx0b2JqLmFzeW5jICAgID0gJ2FzeW5jJ1x0XHRpbiBvYmogPyBvYmouYXN5bmMgOiB0aGlzLmFzeW5jO1xuXG5cdFx0Ly8gYWRkIG5vbmNlIHRvIGRhdGEgb2JqZWN0XG5cdFx0b2JqLmRhdGEuX2FqYXhfbm9uY2UgPSB3cF9hamF4X2RhdGEubm9uY2U7XG5cblx0XHQvLyBhZGQgcG9zdCBpZCB0byBkYXRhIG9iamVjdFxuXHRcdHZhciAkUiAgICAgICAgICAgPSBMTE1TLlJlc3QsXG5cdFx0cXVlcnlfdmFycyAgICAgICA9ICRSLmdldF9xdWVyeV92YXJzKCk7XG5cdFx0b2JqLmRhdGEucG9zdF9pZCA9ICdwb3N0JyBpbiBxdWVyeV92YXJzID8gcXVlcnlfdmFycy5wb3N0IDogbnVsbDtcblx0XHRpZiAoICEgb2JqLmRhdGEucG9zdF9pZCAmJiAkKCAnaW5wdXQjcG9zdF9JRCcgKS5sZW5ndGggKSB7XG5cdFx0XHRvYmouZGF0YS5wb3N0X2lkID0gJCggJ2lucHV0I3Bvc3RfSUQnICkudmFsKCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG9iajtcblx0fSxcblxuXHQvKipcblx0ICogQ2FsbFxuXHQgKiBDYWxsZWQgYnkgZXh0ZXJuYWwgY2xhc3Nlc1xuXHQgKiBTZXRzIHVwIGpRdWVyeSBBamF4IG9iamVjdFxuXHQgKlxuXHQgKiBAcGFyYW0gIHtbb2JqZWN0XX0gW29iamVjdCBvZiBhamF4IHNldHRpbmdzXVxuXHQgKiBAcmV0dXJuIHtbbWl4ZWRdfSBbZmFsc2UgaWYgbm90IG9iamVjdCBvciB0aGlzXVxuXHQgKi9cblx0Y2FsbDogZnVuY3Rpb24ob2JqKSB7XG5cblx0XHQvLyBnZXQgZGVmYXVsdCB2YXJpYWJsZXMgaWYgbm90IGluY2x1ZGVkIGluIGNhbGxcblx0XHR2YXIgc2V0dGluZ3MgPSB0aGlzLmluaXQoIG9iaiApO1xuXG5cdFx0Ly8gaWYgaW5pdCByZXR1cm4gYSByZXNwb25zZSBvZiBmYWxzZVxuXHRcdGlmICggISBzZXR0aW5ncykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnJlcXVlc3QoIHNldHRpbmdzICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fSxcblxuXHQvKipcblx0ICogQ2FsbHMgalF1ZXJ5IEFqYXggb24gc2V0dGluZ3Mgb2JqZWN0XG5cdCAqXG5cdCAqIEByZXR1cm4ge1tvYmplY3RdfSBbdGhpc11cblx0ICovXG5cdHJlcXVlc3Q6IGZ1bmN0aW9uKHNldHRpbmdzKSB7XG5cblx0XHQkLmFqYXgoIHNldHRpbmdzICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cbn07XG4iLCIvKipcbiAqIENyZWF0ZSBhIERvbnV0IENoYXJ0XG4gKlxuICogQHBhY2thZ2UgTGlmdGVyTE1TL1NjcmlwdHNcbiAqXG4gKiBAc2luY2UgICAgMy45LjBcbiAqIEB2ZXJzaW9uICAzLjkuMFxuICpcbiAqIEBsaW5rICBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9qb2V5aW5ib3gvODIwNTk2MlxuICpcbiAqIEBwYXJhbSAgICBvYmogICAkZWwgIGpRdWVyeSBlbGVtZW50IHRvIGRyYXcgYSBjaGFydCB3aXRoaW5cbiAqL1xuXG5MTE1TLkRvbnV0ID0gZnVuY3Rpb24oICRlbCApIHtcblxuXHRmdW5jdGlvbiBEb251dChvcHRpb25zKSB7XG5cblx0XHR0aGlzLnNldHRpbmdzID0gJC5leHRlbmQoIHtcblx0XHRcdGVsZW1lbnQ6IG9wdGlvbnMuZWxlbWVudCxcblx0XHRcdHBlcmNlbnQ6IDEwMFxuXHRcdH0sIG9wdGlvbnMgKTtcblxuXHRcdHRoaXMuY2lyY2xlICAgICAgICAgICAgICAgID0gdGhpcy5zZXR0aW5ncy5lbGVtZW50LmZpbmQoICdwYXRoJyApO1xuXHRcdHRoaXMuc2V0dGluZ3Muc3Ryb2tlX3dpZHRoID0gcGFyc2VJbnQoIHRoaXMuY2lyY2xlLmNzcyggJ3N0cm9rZS13aWR0aCcgKSApO1xuXHRcdHRoaXMucmFkaXVzICAgICAgICAgICAgICAgID0gKCBwYXJzZUludCggdGhpcy5zZXR0aW5ncy5lbGVtZW50LmNzcyggJ3dpZHRoJyApICkgLSB0aGlzLnNldHRpbmdzLnN0cm9rZV93aWR0aCApIC8gMjtcblx0XHR0aGlzLmFuZ2xlICAgICAgICAgICAgICAgICA9IC05Ny41OyAvLyBPcmlnaW4gb2YgdGhlIGRyYXcgYXQgdGhlIHRvcCBvZiB0aGUgY2lyY2xlXG5cdFx0dGhpcy5pICAgICAgICAgICAgICAgICAgICAgPSBNYXRoLnJvdW5kKCAwLjc1ICogdGhpcy5zZXR0aW5ncy5wZXJjZW50ICk7XG5cdFx0dGhpcy5maXJzdCAgICAgICAgICAgICAgICAgPSB0cnVlO1xuXG5cdFx0dGhpcy5hbmltYXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoIHRoaXMubG9vcC5iaW5kKCB0aGlzICksIDEwICk7XG5cdFx0fTtcblxuXHRcdHRoaXMubG9vcCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5hbmdsZSArPSA1O1xuXHRcdFx0dGhpcy5hbmdsZSAlPSAzNjA7XG5cdFx0XHR2YXIgcmFkaWFucyA9ICggdGhpcy5hbmdsZSAvIDE4MCApICogTWF0aC5QSSxcblx0XHRcdFx0eCAgICAgICA9IHRoaXMucmFkaXVzICsgdGhpcy5zZXR0aW5ncy5zdHJva2Vfd2lkdGggLyAyICsgTWF0aC5jb3MoIHJhZGlhbnMgKSAqIHRoaXMucmFkaXVzLFxuXHRcdFx0XHR5ICAgICAgID0gdGhpcy5yYWRpdXMgKyB0aGlzLnNldHRpbmdzLnN0cm9rZV93aWR0aCAvIDIgKyBNYXRoLnNpbiggcmFkaWFucyApICogdGhpcy5yYWRpdXMsXG5cdFx0XHRcdGQ7XG5cdFx0XHRpZiAodGhpcy5maXJzdCA9PT0gdHJ1ZSkge1xuXHRcdFx0XHRkICAgICAgICAgID0gdGhpcy5jaXJjbGUuYXR0ciggJ2QnICkgKyAnIE0gJyArIHggKyAnICcgKyB5O1xuXHRcdFx0XHR0aGlzLmZpcnN0ID0gZmFsc2U7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkID0gdGhpcy5jaXJjbGUuYXR0ciggJ2QnICkgKyAnIEwgJyArIHggKyAnICcgKyB5O1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5jaXJjbGUuYXR0ciggJ2QnLCBkICk7XG5cdFx0XHR0aGlzLmktLTtcblxuXHRcdFx0aWYgKHRoaXMuaSA8PSAwKSB7XG5cdFx0XHRcdGNsZWFySW50ZXJ2YWwoIHRoaXMudGltZXIgKTtcblx0XHRcdH1cblx0XHR9O1xuXHR9XG5cblx0ZnVuY3Rpb24gZHJhdyggJGVsICkge1xuXHRcdHZhciBwYXRoID0gJzxwYXRoIGQ9XCJNMTAwLDEwMFwiIC8+Jztcblx0XHQkZWwuYXBwZW5kKCAnPHN2ZyBwcmVzZXJ2ZUFzcGVjdFJhdGlvPVwieE1pZFlNaWRcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIj4nICsgcGF0aCArICc8L3N2Zz4nICk7XG5cdFx0dmFyIGRvbnV0ID0gbmV3IERvbnV0KCB7XG5cdFx0XHRlbGVtZW50OiAkZWwsXG5cdFx0XHRwZXJjZW50OiAkZWwuYXR0ciggJ2RhdGEtcGVyYycgKVxuXHRcdH0gKTtcblx0XHRkb251dC5hbmltYXRlKCk7XG5cdH1cblxuXHRkcmF3KCAkZWwgKTtcblxufTtcbiIsIi8qKlxuICogRm9ybXNcbiAqXG4gKiBAcGFja2FnZSBMaWZ0ZXJMTVMvU2NyaXB0c1xuICpcbiAqIEBzaW5jZSBbdmVyc2lvbl1cbiAqIEB2ZXJzaW9uIFt2ZXJzaW9uXVxuICovXG5cbkxMTVMuRm9ybXMgPSB7XG5cblx0LyoqXG5cdCAqIFN0b3JlcyBsb2NhbGUgaW5mb3JtYXRpb24uXG5cdCAqXG5cdCAqIEFkZGVkIHZpYSBQSFAuXG5cdCAqXG5cdCAqIEB0eXBlIHtPYmplY3R9XG5cdCAqL1xuXHRsb2NhbGU6IHt9LFxuXG5cdC8qKlxuXHQgKiBTdG9yZXMgcmVmZXJlbmNlcyB0byB0aGUgZGVmYXVsdCBsb2NhbGUgc3RyaW5nc1xuXHQgKiBhcyBjb25maWd1cmVkIGJ5IHVzZXJzIGluIHRoZSBmb3JtIGVkaXRvci5cblx0ICpcblx0ICogQHR5cGUge09iamVjdH1cblx0ICovXG5cdGxvY2FsZV9kZWZhdWx0czoge30sXG5cblx0LyoqXG5cdCAqIGpRdWVyeSByZWYuIHRvIHRoZSBjb3VudHJpZXMgc2VsZWN0IGZpZWxkLi5cblx0ICpcblx0ICogQHR5cGUge09iamVjdH1cblx0ICovXG5cdCRjb3VudHJpZXM6IG51bGwsXG5cblx0LyoqXG5cdCAqIGpRdWVyeSByZWYuIHRvIHRoZSBzdGF0ZXMgc2VsZWN0IGZpZWxkLlxuXHQgKlxuXHQgKiBAdHlwZSB7T2JqZWN0fVxuXHQgKi9cblx0JHN0YXRlczogbnVsbCxcblxuXHQvKipcblx0ICogalF1ZXJ5IHJlZi4gdG8gdGhlIGhpZGRlbiBzdGF0ZXMgaG9sZGVyIGZpZWxkLlxuXHQgKlxuXHQgKiBAdHlwZSB7T2JqZWN0fVxuXHQgKi9cblx0JHN0YXRlc19ob2xkZXI6IG51bGwsXG5cblx0LyoqXG5cdCAqIEluaXRcblx0ICpcbiBcdCAqIEBzaW5jZSBbdmVyc2lvbl1cbiBcdCAqXG4gXHQgKiBAcmV0dXJuIHt2b2lkfVxuXHQgKi9cblx0aW5pdDogZnVuY3Rpb24oKSB7XG5cblx0XHRpZiAoICQoICdib2R5JyApLmhhc0NsYXNzKCAnd3AtYWRtaW4nICkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0c2VsZi5iaW5kX21hdGNoaW5nX2ZpZWxkcygpO1xuXHRcdHNlbGYuYmluZF92b3VjaGVyX2ZpZWxkKCk7XG5cblx0XHRMTE1TLndhaXRfZm9yKCBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiAoIHVuZGVmaW5lZCAhPT0gJC5mbi5sbG1zU2VsZWN0MiApO1xuXHRcdH0sIGZ1bmN0aW9uKCkge1xuXHRcdFx0c2VsZi5iaW5kX2wxMG5fc2VsZWN0cygpO1xuXHRcdH0gKTtcblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBCaW5kIERPTSBFdmVudHMgZmllbGRzIHdpdGggZHluYW1pYyBsb2NhbGl6YXRpb24gdmFsdWVzIGFuZCBsYW5ndWFnZS5cblx0ICpcblx0ICogQHNpbmNlIFt2ZXJzaW9uXVxuXHQgKlxuXHQgKiBAcmV0dXJuIHt2b2lkfVxuXHQgKi9cblx0YmluZF9sMTBuX3NlbGVjdHM6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0c2VsZi4kY291bnRyaWVzID0gJCggJy5sbG1zLWwxMG4tY291bnRyeS1zZWxlY3Qgc2VsZWN0JyApO1xuXHRcdHNlbGYuJHN0YXRlcyAgICA9ICQoICcubGxtcy1sMTBuLXN0YXRlLXNlbGVjdCBzZWxlY3QnICk7XG5cdFx0c2VsZi4kemlwcyAgICAgID0gJCggJyNsbG1zX2JpbGxpbmdfemlwJyApO1xuXG5cdFx0aWYgKCAhIHNlbGYuJGNvdW50cmllcy5sZW5ndGggKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCBzZWxmLiRzdGF0ZXMubGVuZ3RoICkge1xuXHRcdFx0c2VsZi5wcmVwX3N0YXRlX2ZpZWxkKCk7XG5cdFx0fVxuXG5cdFx0c2VsZi4kY291bnRyaWVzLmFkZCggc2VsZi4kc3RhdGVzICkubGxtc1NlbGVjdDIoIHsgd2lkdGg6ICcxMDAlJyB9ICk7XG5cblx0XHRpZiAoIHdpbmRvdy5sbG1zLmxvY2FsZSApIHtcblx0XHRcdHNlbGYubG9jYWxlID0gSlNPTi5wYXJzZSggd2luZG93LmxsbXMubG9jYWxlICk7XG5cdFx0XHRzZWxmLmxvY2FsZV9kZWZhdWx0cyA9IHtcblx0XHRcdFx0c3RhdGU6IChmdW5jdGlvbigpe1xuXHRcdFx0XHRcdHZhciAkbGFiZWwgPSBzZWxmLmdldF9maWVsZF9wYXJlbnQoIHNlbGYuJHN0YXRlcyApLmZpbmQoICdsYWJlbCcgKS5jbG9uZSgpO1xuXHRcdFx0XHRcdCRsYWJlbC5maW5kKCAnKicgKS5yZW1vdmUoKTtcblx0XHRcdFx0XHRyZXR1cm4gJGxhYmVsLnRleHQoKS50cmltKCk7XG5cdFx0XHRcdH0pKCksXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdHNlbGYuJGNvdW50cmllcy5vbiggJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgdmFsID0gJCggdGhpcyApLnZhbCgpO1xuXHRcdFx0c2VsZi51cGRhdGVfc3RhdGVfb3B0aW9ucyggdmFsICk7XG5cdFx0XHRzZWxmLnVwZGF0ZV9sb2NhbGVfaW5mbyggdmFsICk7XG5cblx0XHR9ICkudHJpZ2dlciggJ2NoYW5nZScgKTtcblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBFbnN1cmUgXCJtYXRjaGluZ1wiIGZpZWxkcyBtYXRjaC5cblx0ICpcblx0ICogQHNpbmNlIFt2ZXJzaW9uXVxuXHQgKlxuXHQgKiBAcmV0dXJuIHtWb2lkfVxuXHQgKi9cblx0YmluZF9tYXRjaGluZ19maWVsZHM6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyICRmaWVsZHMgPSAkKCAnaW5wdXRbZGF0YS1tYXRjaF0nICkubm90KCAnW3R5cGU9XCJwYXNzd29yZFwiXScgKTtcblxuXHRcdCRmaWVsZHMuZWFjaCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciAkZmllbGQgPSAkKCB0aGlzICksXG5cdFx0XHRcdCRtYXRjaCA9ICQoICcjJyArICRmaWVsZC5hdHRyKCAnZGF0YS1tYXRjaCcgKSApLFxuXHRcdFx0XHQkcGFyZW50cztcblxuXHRcdFx0aWYgKCAkbWF0Y2gubGVuZ3RoICkge1xuXG5cdFx0XHRcdCRwYXJlbnRzID0gJGZpZWxkLmNsb3Nlc3QoICcubGxtcy1mb3JtLWZpZWxkJyApLmFkZCggJG1hdGNoLmNsb3Nlc3QoICcubGxtcy1mb3JtLWZpZWxkJyApICk7XG5cblx0XHRcdFx0JGZpZWxkLm9uKCAnaW5wdXQgY2hhbmdlJywgZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0XHR2YXIgdmFsXzEgPSAkZmllbGQudmFsKCksXG5cdFx0XHRcdFx0XHR2YWxfMiA9ICRtYXRjaC52YWwoKTtcblxuXHRcdFx0XHRcdGlmICggdmFsXzEgJiYgdmFsXzIgJiYgdmFsXzEgIT09IHZhbF8yICkge1xuXHRcdFx0XHRcdFx0JHBhcmVudHMuYWRkQ2xhc3MoICdpbnZhbGlkJyApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHQkcGFyZW50cy5yZW1vdmVDbGFzcyggJ2ludmFsaWQnICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH0gKTtcblxuXHRcdFx0fVxuXG5cdFx0fSApO1xuXG5cdH0sXG5cblx0LyoqXG5cdCAqIEJpbmQgRE9NIGV2ZW50cyBmb3Igdm91Y2hlciB0b2dnbGVzIFVYLlxuXHQgKlxuXHQgKiBAc2luY2UgW3ZlcnNpb25dXG5cdCAqXG5cdCAqIEByZXR1cm4ge3ZvaWR9XG5cdCAqL1xuXHRiaW5kX3ZvdWNoZXJfZmllbGQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0JCggJyNsbG1zLXZvdWNoZXItdG9nZ2xlJyApLm9uKCAnY2xpY2snLCBmdW5jdGlvbiggZSApIHtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdCQoICcjbGxtc192b3VjaGVyJyApLnRvZ2dsZSgpO1xuXHRcdH0gKTtcblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBSZXRyaWV2ZSB0aGUgcGFyZW50IGVsZW1lbnQgZm9yIGEgZ2l2ZW4gZmllbGQuXG5cdCAqXG5cdCAqIFRoZSBwYXJlbnQgZWxlbWVudCBpcyBoaWRkZW4gd2hlbiB0aGUgZmllbGQgaXNuJ3QgcmVxdWlyZWQuXG5cdCAqIExvb2tzIGZvciBhIFdQIGNvbHVtbiB3cmFwcGVyIGFuZCBmYWxscyBiYWNrIHRvIHRoZSBmaWVsZCdzXG5cdCAqIHdyYXBwZXIgZGl2LlxuXHQgKlxuXHQgKiBAc2luY2UgW3ZlcnNpb25dXG5cdCAqXG5cdCAqIEBzZWUge1JlZmVyZW5jZX1cblx0ICogQGxpbmsge1VSTH1cblx0ICpcblx0ICogQHBhcmFtIHtbdHlwZV19ICRmaWVsZFxuXHQgKiBAcmV0dXJuIHtbdHlwZV19XG5cdCAqL1xuXHRnZXRfZmllbGRfcGFyZW50OiBmdW5jdGlvbiggJGZpZWxkICkge1xuXG5cdFx0dmFyICRibG9jayA9ICRmaWVsZC5jbG9zZXN0KCAnLndwLWJsb2NrLWNvbHVtbicgKTtcblx0XHRpZiAoICRibG9jay5sZW5ndGggKSB7XG5cdFx0XHRyZXR1cm4gJGJsb2NrO1xuXHRcdH1cblxuXHRcdHJldHVybiAkZmllbGQuY2xvc2VzdCggJy5sbG1zLWZvcm0tZmllbGQnICk7XG5cblx0fSxcblxuXHQvKipcblx0ICogUHJlcGFyZXMgdGhlIHN0YXRlIHNlbGVjdCBmaWVsZC5cblx0ICpcblx0ICogTW92ZXMgQWxsIG9wdGdyb3VwIGVsZW1lbnRzIGludG8gYSBoaWRkZW4gJiBkaXNhYmxlZCBzZWxlY3QgZWxlbWVudC5cblx0ICpcblx0ICogQHNpbmNlIFt2ZXJzaW9uXVxuXHQgKlxuXHQgKiBAcmV0dXJuIHt2b2lkfVxuXHQgKi9cblx0cHJlcF9zdGF0ZV9maWVsZDogZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgJHBhcmVudCA9IHRoaXMuJHN0YXRlcy5jbG9zZXN0KCAnLmxsbXMtZm9ybS1maWVsZCcgKTtcblxuXHRcdHRoaXMuJGhvbGRlciA9ICQoICc8c2VsZWN0IGRpc2FibGVkIHN0eWxlPVwiZGlzcGxheTpub25lICFpbXBvcnRhbnQ7XCIgLz4nICk7XG5cblx0XHR0aGlzLiRob2xkZXIuYXBwZW5kVG8oICRwYXJlbnQgKTtcblx0XHR0aGlzLiRzdGF0ZXMuZmluZCggJ29wdGdyb3VwJyApLmFwcGVuZFRvKCB0aGlzLiRob2xkZXIgKTtcblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBVcGRhdGVzIHRoZSB0ZXh0IG9mIGEgbGFiZWwgZm9yIGEgZ2l2ZW4gZmllbGQuXG5cdCAqXG5cdCAqIEBzaW5jZSBbdmVyc2lvbl1cblx0ICpcblx0ICogQHBhcmFtIHtPYmplY3R9ICRmaWVsZCBqUXVlcnkgb2JqZWN0IG9mIHRoZSBmb3JtIGZpZWxkLlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdGV4dCBMYWJlbCB0ZXh0LlxuXHQgKiBAcmV0dXJuIHt2b2lkfVxuXHQgKi9cblx0dXBkYXRlX2xhYmVsOiBmdW5jdGlvbiggJGZpZWxkLCB0ZXh0ICkge1xuXG5cdFx0dmFyICRsYWJlbCA9IHRoaXMuZ2V0X2ZpZWxkX3BhcmVudCggJGZpZWxkICkuZmluZCggJ2xhYmVsJyApLFxuXHRcdFx0JHJlcXVpcmVkID0gJGxhYmVsLmZpbmQoICcubGxtcy1yZXF1aXJlZCcgKS5jbG9uZSgpO1xuXG5cdFx0JGxhYmVsLmh0bWwoIHRleHQgKTtcblx0XHQkbGFiZWwuYXBwZW5kKCAkcmVxdWlyZWQgKTtcblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBVcGRhdGUgZm9ybSBmaWVsZHMgYmFzZWQgb24gc2VsZWN0ZWQgY291bnRyeVxuXHQgKlxuXHQgKiBSZXBsYWNlcyBsYWJlbCB0ZXh0IHdpdGggbG9jYWxlLXNwZWNpZmljIGxhbmd1YWdlIGFuZFxuXHQgKiBoaWRlcyBvciBzaG93cyB6aXAgZmllbGRzIGJhc2VkIG9uIHdoZXRoZXIgb3Igbm90XG5cdCAqIHRoZXkgYXJlIHJlcXVpcmVkIGZvciB0aGUgZ2l2ZW4gY291bnRyeS5cblx0ICpcblx0ICogQHNpbmNlIFt2ZXJzaW9uXVxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gY291bnRyeV9jb2RlIEN1cnJlbnRseSBzZWxlY3RlZCBjb3VudHJ5IGNvZGUuXG5cdCAqIEByZXR1cm4ge3ZvaWR9XG5cdCAqL1xuXHR1cGRhdGVfbG9jYWxlX2luZm86IGZ1bmN0aW9uKCBjb3VudHJ5X2NvZGUgKSB7XG5cblx0XHRpZiAoICEgdGhpcy5sb2NhbGUgfHwgISB0aGlzLmxvY2FsZVsgY291bnRyeV9jb2RlIF0gKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dmFyIGluZm8gPSB0aGlzLmxvY2FsZVsgY291bnRyeV9jb2RlIF0sXG5cdFx0XHRzdGF0ZV90ZXh0ID0gaW5mby5zdGF0ZSA/IGluZm8uc3RhdGUgOiB0aGlzLmxvY2FsZV9kZWZhdWx0cy5zdGF0ZTtcblxuXHRcdHRoaXMudXBkYXRlX2xhYmVsKCB0aGlzLiRzdGF0ZXMsIHN0YXRlX3RleHQgKTtcblxuXHRcdHZhciAkemlwc19wYXJlbnQgPSB0aGlzLmdldF9maWVsZF9wYXJlbnQoIHRoaXMuJHppcHMgKTtcblx0XHR0aGlzLiR6aXBzLnJlbW92ZUF0dHIoICdkaXNhYmxlZCcgKTtcblx0XHRpZiAoIGluZm8uemlwICkge1xuXHRcdFx0dGhpcy51cGRhdGVfbGFiZWwoIHRoaXMuJHppcHMsIGluZm8uemlwICk7XG5cdFx0XHQkemlwc19wYXJlbnQuc2hvdygpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLiR6aXBzLmF0dHIoICdkaXNhYmxlZCcsICdkaXNhYmxlZCcgKTtcblx0XHRcdCR6aXBzX3BhcmVudC5oaWRlKCk7XG5cdFx0fVxuXG5cdH0sXG5cblx0LyoqXG5cdCAqIFVwZGF0ZSB0aGUgYXZhaWxhYmxlIG9wdGlvbnMgaW4gdGhlIHN0YXRlIGZpZWxkXG5cdCAqXG5cdCAqIFJlbW92ZXMgZXhpc3Rpbmcgb3B0aW9ucyBhbmQgY29waWVzIHRoZSBvcHRpb25zXG5cdCAqIGZvciB0aGUgcmVxdWVzdGVkIGNvdW50cnkgZnJvbSB0aGUgaGlkZGVuIHNlbGVjdCBmaWVsZC5cblx0ICpcblx0ICogSWYgdGhlcmUgYXJlIG5vIHN0YXRlcyBmb3IgdGhlIGdpdmVuIGNvdW50cnkgdGhlIHN0YXRlXG5cdCAqIGZpZWxkIHdpbGwgYmUgaGlkZGVuLlxuXHQgKlxuXHQgKiBAc2luY2UgW3ZlcnNpb25dXG5cdCAqXG5cdCAqIEBzZWUge1JlZmVyZW5jZX1cblx0ICogQGxpbmsge1VSTH1cblx0ICpcblx0ICogQHBhcmFtIHtTdHJpbmd9IGNvdW50cnlfY29kZSBDdXJyZW50bHkgc2VsZWN0ZWQgY291bnRyeSBjb2RlLlxuXHQgKiBAcmV0dXJuIHt2b2lkfVxuXHQgKi9cblx0dXBkYXRlX3N0YXRlX29wdGlvbnM6IGZ1bmN0aW9uKCBjb3VudHJ5X2NvZGUgKSB7XG5cblx0XHRpZiAoICEgdGhpcy4kc3RhdGVzLmxlbmd0aCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR2YXIgb3B0cyAgICA9IHRoaXMuJGhvbGRlci5maW5kKCAnb3B0Z3JvdXBbZGF0YS1rZXk9XCInICsgY291bnRyeV9jb2RlICsgJ1wiXSBvcHRpb24nICkuY2xvbmUoKSxcblx0XHRcdCRwYXJlbnQgPSB0aGlzLmdldF9maWVsZF9wYXJlbnQoIHRoaXMuJHN0YXRlcyApO1xuXG5cdFx0aWYgKCAhIG9wdHMubGVuZ3RoICkge1xuXHRcdFx0dGhpcy4kc3RhdGVzLmh0bWwoICc8b3B0aW9uPiZuYnNwPC9vcHRpb24+JyApO1xuXHRcdFx0dGhpcy4kc3RhdGVzLmF0dHIoICdkaXNhYmxlZCcsICdkaXNhYmxlZCcgKTtcblx0XHRcdCRwYXJlbnQuaGlkZSgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLiRzdGF0ZXMuaHRtbCggb3B0cyApO1xuXHRcdFx0dGhpcy4kc3RhdGVzLnJlbW92ZUF0dHIoICdkaXNhYmxlZCcgKTtcblx0XHRcdCRwYXJlbnQuc2hvdygpO1xuXHRcdH1cblxuXHR9LFxuXG59O1xuIiwiLyoqXG4gKiBJbnN0cnVjdG9ycyBMaXN0XG4gKlxuICogQHBhY2thZ2UgTGlmdGVyTE1TL1NjcmlwdHNcbiAqXG4gKiBAc2luY2UgIFVua25vd25cbiAqIEB2ZXJzaW9uICBVbmtub3duXG4gKi9cblxuTExNUy5JbnN0cnVjdG9ycyA9IHtcblxuXHQvKipcblx0ICogSW5pdFxuXHQgKi9cblx0aW5pdDogZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRpZiAoICQoICdib2R5JyApLmhhc0NsYXNzKCAnd3AtYWRtaW4nICkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCAkKCAnLmxsbXMtaW5zdHJ1Y3RvcnMnICkubGVuZ3RoICkge1xuXG5cdFx0XHRMTE1TLndhaXRfZm9yX21hdGNoSGVpZ2h0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0c2VsZi5iaW5kKCk7XG5cdFx0XHR9ICk7XG5cblx0XHR9XG5cblx0fSxcblxuXHQvKipcblx0ICogQmluZCBNZXRob2Rcblx0ICogSGFuZGxlcyBkb20gYmluZGluZyBvbiBsb2FkXG5cdCAqXG5cdCAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxuXHQgKi9cblx0YmluZDogZnVuY3Rpb24oKSB7XG5cblx0XHQkKCAnLmxsbXMtaW5zdHJ1Y3RvcnMgLmxsbXMtYXV0aG9yJyApLm1hdGNoSGVpZ2h0KCk7XG5cblx0fSxcblxufTtcbiIsIi8qKlxuICogTG9jYWxpemF0aW9uIGZ1bmN0aW9ucyBmb3IgTGlmdGVyTE1TIEphdmFzY3JpcHRcbiAqXG4gKiBAcGFja2FnZSBMaWZ0ZXJMTVMvU2NyaXB0c1xuICpcbiAqIEBzaW5jZSAgMi43LjNcbiAqIEB2ZXJzaW9uICAyLjcuM1xuICpcbiAqIEB0b2RvICB3ZSBuZWVkIG1vcmUgcm9idXN0IHRyYW5zbGF0aW9uIGZ1bmN0aW9ucyB0byBoYW5kbGUgc3ByaW50ZiBhbmQgcGx1cmFsaXphdGlvblxuICogICAgICAgIGF0IHRoaXMgbW9tZW50IHdlIGRvbid0IG5lZWQgdGhvc2UgYW5kIGhhdmVuJ3Qgc3R1YmJlZCB0aGVtIG91dFxuICogICAgICAgIHRob3NlIHdpbGwgYmUgYWRkZWQgd2hlbiB0aGV5J3JlIG5lZWRlZFxuICovXG5cbkxMTVMubDEwbiA9IExMTVMubDEwbiB8fCB7fTtcblxuTExNUy5sMTBuLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uICggc3RyaW5nICkge1xuXG5cdHZhciBzZWxmID0gdGhpcztcblxuXHRpZiAoIHNlbGYuc3RyaW5nc1tzdHJpbmddICkge1xuXG5cdFx0cmV0dXJuIHNlbGYuc3RyaW5nc1tzdHJpbmddO1xuXG5cdH0gZWxzZSB7XG5cblx0XHRyZXR1cm4gc3RyaW5nO1xuXG5cdH1cblxufTtcblxuLyoqXG4gKiBUcmFuc2xhdGUgYW5kIHJlcGxhY2UgcGxhY2Vob2xkZXJzIGluIGEgc3RyaW5nXG4gKlxuICogQGV4YW1wbGUgTExNUy5sMTBuLnJlcGxhY2UoICdUaGlzIGlzIGEgJTIkcyAlMSRzIFN0cmluZycsIHtcbiAqICAgICAgICAgICBcdCclMSRzJzogJ2Nvb2wnLFxuICogICAgXHRcdFx0JyUyJHMnOiAndmVyeSdcbiAqICAgIFx0XHR9ICk7XG4gKiAgICBcdFx0T3V0cHV0OiBcIlRoaXMgaXMgYSB2ZXJ5IGNvb2wgU3RyaW5nXCJcbiAqXG4gKiBAcGFyYW0gICAgc3RyaW5nICAgc3RyaW5nICAgICAgICB0ZXh0IHN0cmluZ1xuICogQHBhcmFtICAgIG9iamVjdCAgIHJlcGxhY2VtZW50cyAgb2JqZWN0IGNvbnRhaW5pbmcgdG9rZW4gPT4gcmVwbGFjZW1lbnQgcGFpcnNcbiAqIEByZXR1cm4gICBzdHJpbmdcbiAqIEBzaW5jZSAgICAzLjE2LjBcbiAqIEB2ZXJzaW9uICAzLjE2LjBcbiAqL1xuTExNUy5sMTBuLnJlcGxhY2UgPSBmdW5jdGlvbiggc3RyaW5nLCByZXBsYWNlbWVudHMgKSB7XG5cblx0dmFyIHN0ciA9IHRoaXMudHJhbnNsYXRlKCBzdHJpbmcgKTtcblxuXHQkLmVhY2goIHJlcGxhY2VtZW50cywgZnVuY3Rpb24oIHRva2VuLCB2YWx1ZSApIHtcblxuXHRcdGlmICggLTEgIT09IHRva2VuLmluZGV4T2YoICdzJyApICkge1xuXHRcdFx0dmFsdWUgPSB2YWx1ZS50b1N0cmluZygpO1xuXHRcdH0gZWxzZSBpZiAoIC0xICE9PSB0b2tlbi5pbmRleE9mKCAnZCcgKSApIHtcblx0XHRcdHZhbHVlID0gdmFsdWUgKiAxO1xuXHRcdH1cblxuXHRcdHN0ciA9IHN0ci5yZXBsYWNlKCB0b2tlbiwgdmFsdWUgKTtcblxuXHR9ICk7XG5cblx0cmV0dXJuIHN0cjtcblxufTtcbiIsIi8qKlxuICogSGFuZGxlIExlc3NvbiBQcmV2aWV3IEVsZW1lbnRzXG4gKlxuICogQHBhY2thZ2UgTGlmdGVyTE1TL1NjcmlwdHNcbiAqXG4gKiBAc2luY2UgICAgMy4wLjBcbiAqIEB2ZXJzaW9uICAzLjE2LjEyXG4gKi9cblxuTExNUy5MZXNzb25QcmV2aWV3ID0ge1xuXG5cdC8qKlxuXHQgKiBBIGpRdWVyeSBvYmplY3Qgb2YgYWxsIG91dGxpbmVzIHByZXNlbnQgb24gdGhlIGN1cnJlbnQgc2NyZWVuXG5cdCAqXG5cdCAqIEB0eXBlIG9ialxuXHQgKi9cblx0JGVsczogbnVsbCxcblxuXHQvKipcblx0ICogSW5pdGlhbGl6ZVxuXHQgKlxuXHQgKiBAcmV0dXJuIHZvaWRcblx0ICovXG5cdGluaXQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0dGhpcy4kbG9ja2VkID0gJCggJ2FbaHJlZj1cIiNsbG1zLWxlc3Nvbi1sb2NrZWRcIl0nICk7XG5cblx0XHRpZiAoIHRoaXMuJGxvY2tlZC5sZW5ndGggKSB7XG5cblx0XHRcdHNlbGYuYmluZCgpO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCAkKCAnLmxsbXMtY291cnNlLW5hdmlnYXRpb24nICkubGVuZ3RoICkge1xuXG5cdFx0XHRMTE1TLndhaXRfZm9yX21hdGNoSGVpZ2h0KCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRzZWxmLm1hdGNoX2hlaWdodCgpO1xuXG5cdFx0XHR9ICk7XG5cblx0XHR9XG5cblx0fSxcblxuXHQvKipcblx0ICogQmluZCBET00gZXZlbnRzXG5cdCAqXG5cdCAqIEByZXR1cm4gdm9pZFxuXHQgKiBAc2luY2UgICAgMy4wLjBcblx0ICogQHZlcnNpb24gIDMuMTYuMTJcblx0ICovXG5cdGJpbmQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0dGhpcy4kbG9ja2VkLm9uKCAnY2xpY2snLCBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9ICk7XG5cblx0XHR0aGlzLiRsb2NrZWQub24oICdtb3VzZWVudGVyJywgZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciAkdGlwID0gJCggdGhpcyApLmZpbmQoICcubGxtcy10b29sdGlwJyApO1xuXHRcdFx0aWYgKCAhICR0aXAubGVuZ3RoICkge1xuXHRcdFx0XHR2YXIgbXNnID0gJCggdGhpcyApLmF0dHIoICdkYXRhLXRvb2x0aXAtbXNnJyApO1xuXHRcdFx0XHRpZiAoICEgbXNnICkge1xuXHRcdFx0XHRcdG1zZyA9IExMTVMubDEwbi50cmFuc2xhdGUoICdZb3UgZG8gbm90IGhhdmUgcGVybWlzc2lvbiB0byBhY2Nlc3MgdGhpcyBjb250ZW50JyApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdCR0aXAgPSBzZWxmLmdldF90b29sdGlwKCBtc2cgKTtcblx0XHRcdFx0JCggdGhpcyApLmFwcGVuZCggJHRpcCApO1xuXHRcdFx0fVxuXHRcdFx0c2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdCR0aXAuYWRkQ2xhc3MoICdzaG93JyApO1xuXHRcdFx0fSwgMTAgKTtcblxuXHRcdH0gKTtcblxuXHRcdHRoaXMuJGxvY2tlZC5vbiggJ21vdXNlbGVhdmUnLCBmdW5jdGlvbigpIHtcblxuXHRcdFx0dmFyICR0aXAgPSAkKCB0aGlzICkuZmluZCggJy5sbG1zLXRvb2x0aXAnICk7XG5cdFx0XHQkdGlwLnJlbW92ZUNsYXNzKCAnc2hvdycgKTtcblxuXHRcdH0gKTtcblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBNYXRjaCB0aGUgaGVpZ2h0IG9mIGxlc3NvbiBwcmV2aWV3IGl0ZW1zIGluIGNvdXJzZSBuYXZpZ2F0aW9uIGJsb2Nrc1xuXHQgKlxuXHQgKiBAcmV0dXJuICAgdm9pZFxuXHQgKiBAc2luY2UgICAgMy4wLjBcblx0ICogQHZlcnNpb24gIDMuMC4wXG5cdCAqL1xuXHRtYXRjaF9oZWlnaHQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0JCggJy5sbG1zLWNvdXJzZS1uYXZpZ2F0aW9uIC5sbG1zLWxlc3Nvbi1saW5rJyApLm1hdGNoSGVpZ2h0KCk7XG5cblx0fSxcblxuXHQvKipcblx0ICogR2V0IGEgdG9vbHRpcCBlbGVtZW50XG5cdCAqXG5cdCAqIEBwYXJhbSAgICBzdHJpbmcgICBtc2cgICBtZXNzYWdlIHRvIGRpc3BsYXkgaW5zaWRlIHRoZSB0b29sdGlwXG5cdCAqIEByZXR1cm4gICBvYmpcblx0ICogQHNpbmNlICAgIDMuMC4wXG5cdCAqIEB2ZXJzaW9uICAzLjIuNFxuXHQgKi9cblx0Z2V0X3Rvb2x0aXA6IGZ1bmN0aW9uKCBtc2cgKSB7XG5cdFx0dmFyICRlbCA9ICQoICc8ZGl2IGNsYXNzPVwibGxtcy10b29sdGlwXCIgLz4nICk7XG5cdFx0JGVsLmFwcGVuZCggJzxkaXYgY2xhc3M9XCJsbG1zLXRvb2x0aXAtY29udGVudFwiPicgKyBtc2cgKyAnPC9kaXY+JyApO1xuXHRcdHJldHVybiAkZWw7XG5cdH0sXG5cbn07XG4iLCIvKipcbiAqIExpZnRlckxNUyBMb29wcyBKU1xuICpcbiAqIEBwYWNrYWdlIExpZnRlckxNUy9TY3JpcHRzXG4gKlxuICogQHNpbmNlICAgIDMuMC4wXG4gKiBAdmVyc2lvbiAgMy4xNC4wXG4gKi9cblxuTExNUy5Mb29wcyA9IHtcblxuXHQvKipcblx0ICogSW5pdGlhbGl6ZVxuXHQgKlxuXHQgKiBAcmV0dXJuIHZvaWRcblx0ICovXG5cdGluaXQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0aWYgKCAkKCAnLmxsbXMtbG9vcCcgKS5sZW5ndGggKSB7XG5cblx0XHRcdExMTVMud2FpdF9mb3JfbWF0Y2hIZWlnaHQoIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdHNlbGYubWF0Y2hfaGVpZ2h0KCk7XG5cblx0XHRcdH0gKTtcblxuXHRcdH1cblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBNYXRjaCB0aGUgaGVpZ2h0IG9mIC5sbG1zLWxvb3AtaXRlbVxuXHQgKlxuXHQgKiBAcmV0dXJuICAgdm9pZFxuXHQgKiBAc2luY2UgICAgMy4wLjBcblx0ICogQHZlcnNpb24gIDMuMTQuMFxuXHQgKi9cblx0bWF0Y2hfaGVpZ2h0OiBmdW5jdGlvbigpIHtcblxuXHRcdCQoICcubGxtcy1sb29wLWl0ZW0gLmxsbXMtbG9vcC1pdGVtLWNvbnRlbnQnICkubWF0Y2hIZWlnaHQoKTtcblx0XHQkKCAnLmxsbXMtYWNoaWV2ZW1lbnQtbG9vcC1pdGVtIC5sbG1zLWFjaGlldmVtZW50JyApLm1hdGNoSGVpZ2h0KCk7XG5cdFx0JCggJy5sbG1zLWNlcnRpZmljYXRlLWxvb3AtaXRlbSAubGxtcy1jZXJ0aWZpY2F0ZScgKS5tYXRjaEhlaWdodCgpO1xuXG5cdH0sXG5cbn07XG4iLCIvKipcbiAqIEhhbmRsZSB0aGUgQ29sbGFwc2libGUgU3lsbGFidXMgV2lkZ2V0IC8gU2hvcnRjb2RlXG4gKlxuICogQHBhY2thZ2UgTGlmdGVyTE1TL1NjcmlwdHNcbiAqXG4gKiBAc2luY2UgVW5rbm93blxuICogQHZlcnNpb24gVW5rbm93blxuICovXG5cbkxMTVMuT3V0bGluZUNvbGxhcHNlID0ge1xuXG5cdC8qKlxuXHQgKiBBIGpRdWVyeSBvYmplY3Qgb2YgYWxsIG91dGxpbmVzIHByZXNlbnQgb24gdGhlIGN1cnJlbnQgc2NyZWVuXG5cdCAqXG5cdCAqIEB0eXBlIG9ialxuXHQgKi9cblx0JG91dGxpbmVzOiBudWxsLFxuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXplXG5cdCAqXG5cdCAqIEByZXR1cm4gdm9pZFxuXHQgKi9cblx0aW5pdDogZnVuY3Rpb24oKSB7XG5cblx0XHR0aGlzLiRvdXRsaW5lcyA9ICQoICcubGxtcy13aWRnZXQtc3lsbGFidXMtLWNvbGxhcHNpYmxlJyApO1xuXG5cdFx0aWYgKCB0aGlzLiRvdXRsaW5lcy5sZW5ndGggKSB7XG5cblx0XHRcdHRoaXMuYmluZCgpO1xuXG5cdFx0fVxuXG5cdH0sXG5cblx0LyoqXG5cdCAqIEJpbmQgRE9NIGV2ZW50c1xuXHQgKlxuXHQgKiBAcmV0dXJuIHZvaWRcblx0ICovXG5cdGJpbmQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0dGhpcy4kb3V0bGluZXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciAkb3V0bGluZSA9ICQoIHRoaXMgKSxcblx0XHRcdFx0JGhlYWRlcnMgPSAkb3V0bGluZS5maW5kKCAnLmxsbXMtc2VjdGlvbiAuc2VjdGlvbi1oZWFkZXInICk7XG5cblx0XHRcdC8vIGJpbmQgaGVhZGVyIGNsaWNrc1xuXHRcdFx0JGhlYWRlcnMub24oICdjbGljaycsIGZ1bmN0aW9uKCBlICkge1xuXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0XHR2YXIgJHRvZ2dsZSAgPSAkKCB0aGlzICksXG5cdFx0XHRcdFx0JHNlY3Rpb24gPSAkdG9nZ2xlLmNsb3Nlc3QoICcubGxtcy1zZWN0aW9uJyApLFxuXHRcdFx0XHRcdHN0YXRlICAgID0gc2VsZi5nZXRfc2VjdGlvbl9zdGF0ZSggJHNlY3Rpb24gKTtcblxuXHRcdFx0XHRzd2l0Y2ggKCBzdGF0ZSApIHtcblxuXHRcdFx0XHRcdGNhc2UgJ2Nsb3NlZCc6XG5cdFx0XHRcdFx0XHRzZWxmLm9wZW5fc2VjdGlvbiggJHNlY3Rpb24gKTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdGNhc2UgJ29wZW5lZCc6XG5cdFx0XHRcdFx0XHRzZWxmLmNsb3NlX3NlY3Rpb24oICRzZWN0aW9uICk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9ICk7XG5cblx0XHRcdC8vIGJpbmQgb3B0aW9uYWwgdG9nZ2xlIFwiYnV0dG9uc1wiXG5cdFx0XHQkb3V0bGluZS5maW5kKCAnLmxsbXMtY29sbGFwc2UtdG9nZ2xlJyApLm9uKCAnY2xpY2snLCBmdW5jdGlvbiggZSApIHtcblxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdFx0dmFyICRidG4gICAgICAgICAgICA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHRhY3Rpb24gICAgICAgICAgPSAkYnRuLmF0dHIoICdkYXRhLWFjdGlvbicgKSxcblx0XHRcdFx0XHRvcHBvc2l0ZV9hY3Rpb24gPSAoICdjbG9zZScgPT09IGFjdGlvbiApID8gJ29wZW5lZCcgOiAnY2xvc2VkJztcblxuXHRcdFx0XHQkaGVhZGVycy5lYWNoKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRcdHZhciAkc2VjdGlvbiA9ICQoIHRoaXMgKS5jbG9zZXN0KCAnLmxsbXMtc2VjdGlvbicgKSxcblx0XHRcdFx0XHRcdHN0YXRlICAgID0gc2VsZi5nZXRfc2VjdGlvbl9zdGF0ZSggJHNlY3Rpb24gKTtcblxuXHRcdFx0XHRcdGlmICggb3Bwb3NpdGVfYWN0aW9uICE9PSBzdGF0ZSApIHtcblx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHN3aXRjaCAoIHN0YXRlICkge1xuXG5cdFx0XHRcdFx0XHRjYXNlICdjbG9zZWQnOlxuXHRcdFx0XHRcdFx0XHRzZWxmLmNsb3NlX3NlY3Rpb24oICRzZWN0aW9uICk7XG5cdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdFx0Y2FzZSAnb3BlbmVkJzpcblx0XHRcdFx0XHRcdFx0c2VsZi5vcGVuX3NlY3Rpb24oICRzZWN0aW9uICk7XG5cdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdCQoIHRoaXMgKS50cmlnZ2VyKCAnY2xpY2snICk7XG5cblx0XHRcdFx0fSApO1xuXG5cdFx0XHR9ICk7XG5cblx0XHR9ICk7XG5cblx0fSxcblxuXHQvKipcblx0ICogQ2xvc2UgYW4gb3V0bGluZSBzZWN0aW9uXG5cdCAqXG5cdCAqIEBwYXJhbSAgb2JqICAgICRzZWN0aW9uICAgalF1ZXJ5IHNlbGVjdG9yIG9mIGEgJy5sbG1zLXNlY3Rpb24nXG5cdCAqIEByZXR1cm4gdm9pZFxuXHQgKi9cblx0Y2xvc2Vfc2VjdGlvbjogZnVuY3Rpb24oICRzZWN0aW9uICkge1xuXG5cdFx0JHNlY3Rpb24ucmVtb3ZlQ2xhc3MoICdsbG1zLXNlY3Rpb24tLW9wZW5lZCcgKS5hZGRDbGFzcyggJ2xsbXMtc2VjdGlvbi0tY2xvc2VkJyApO1xuXG5cdH0sXG5cblx0LyoqXG5cdCAqIE9wZW4gYW4gb3V0bGluZSBzZWN0aW9uXG5cdCAqXG5cdCAqIEBwYXJhbSAgb2JqICAgICRzZWN0aW9uICAgalF1ZXJ5IHNlbGVjdG9yIG9mIGEgJy5sbG1zLXNlY3Rpb24nXG5cdCAqIEByZXR1cm4gdm9pZFxuXHQgKi9cblx0b3Blbl9zZWN0aW9uOiBmdW5jdGlvbiggJHNlY3Rpb24gKSB7XG5cblx0XHQkc2VjdGlvbi5yZW1vdmVDbGFzcyggJ2xsbXMtc2VjdGlvbi0tY2xvc2VkJyApLmFkZENsYXNzKCAnbGxtcy1zZWN0aW9uLS1vcGVuZWQnICk7XG5cblx0fSxcblxuXHQvKipcblx0ICogR2V0IHRoZSBjdXJyZW50IHN0YXRlIChvcGVuIG9yIGNsb3NlZCkgb2YgYW4gb3V0bGluZSBzZWN0aW9uXG5cdCAqXG5cdCAqIEBwYXJhbSAgb2JqICAgICRzZWN0aW9uICAgalF1ZXJ5IHNlbGVjdG9yIG9mIGEgJy5sbG1zLXNlY3Rpb24nXG5cdCAqIEByZXR1cm4gc3RyaW5nICAgICAgICAgICAgJ29wZW5lZCcgb3IgJ2Nsb3NlZCdcblx0ICovXG5cdGdldF9zZWN0aW9uX3N0YXRlOiBmdW5jdGlvbiggJHNlY3Rpb24gKSB7XG5cblx0XHRyZXR1cm4gJHNlY3Rpb24uaGFzQ2xhc3MoICdsbG1zLXNlY3Rpb24tLW9wZW5lZCcgKSA/ICdvcGVuZWQnIDogJ2Nsb3NlZCc7XG5cblx0fVxuXG59O1xuIiwiLyoqXG4gKiBIYW5kbGUgUGFzc3dvcmQgU3RyZW5ndGggTWV0ZXIgZm9yIHJlZ2lzdHJhdGlvbiBhbmQgcGFzc3dvcmQgdXBkYXRlIGZpZWxkc1xuICpcbiAqIEBwYWNrYWdlIExpZnRlckxNUy9TY3JpcHRzXG4gKlxuICogQHNpbmNlIDMuMC4wXG4gKiBAdmVyc2lvbiBbdmVyc2lvbl1cbiAqL1xuXG4kLmV4dGVuZCggTExNUy5QYXNzd29yZFN0cmVuZ3RoLCB7XG5cblx0LyoqXG5cdCAqIGpRdWVyeSByZWYgZm9yIHRoZSBwYXNzd29yZCBzdHJlbmd0aCBtZXRlciBvYmplY3QuXG5cdCAqXG5cdCAqIEB0eXBlIHtPYmplY3R9XG5cdCAqL1xuXHQkbWV0ZXI6ICQoICcubGxtcy1wYXNzd29yZC1zdHJlbmd0aC1tZXRlcicgKSxcblxuXHQvKipcblx0ICogalF1ZXJ5IHJlZiBmb3IgdGhlIHBhc3N3b3JkIGZpZWxkLlxuXHQgKlxuXHQgKiBAdHlwZSB7T2JqZWN0fVxuXHQgKi9cblx0JHBhc3M6IG51bGwsXG5cblx0LyoqXG5cdCAqIGpRdWVyeSByZWYgZm9yIHRoZSBwYXNzd29yZCBjb25maXJtYXRpb24gZmllbGRcblx0ICpcblx0ICogQHR5cGUge09iamVjdH1cblx0ICovXG5cdCRjb25mOiBudWxsLFxuXG5cdC8qKlxuXHQgKiBqUXVlcnkgcmVmIGZvciBmb3JtIGVsZW1lbnQuXG5cdCAqXG5cdCAqIEB0eXBlIHtPYmplY3R9XG5cdCAqL1xuXHQkZm9ybTogbnVsbCxcblxuXHQvKipcblx0ICogSW5pdFxuXHQgKiBsb2FkcyBjbGFzcyBtZXRob2RzXG5cdCAqXG5cdCAqIEBzaW5jZSAzLjAuMFxuXHQgKiBAc2luY2UgMy43LjAgVW5rbm93blxuXHQgKiBAc2luY2UgW3ZlcnNpb25dIE1vdmUgcmVmZXJlbmNlIHNldHVwIHRvIGBzZXR1cF9yZWZlcmVuY2VzKClgLlxuXHQgKiAgICAgICAgICAgICAgVXNlIGBMTE1TLndhaXRfZm9yKClgIGZvciBkZXBlbmRlbmN5IHdhaXRpbmcuXG5cdCAqXG5cdCAqIEByZXR1cm4ge1ZvaWR9XG5cdCAqL1xuXHRpbml0OiBmdW5jdGlvbigpIHtcblxuXHRcdGlmICggJCggJ2JvZHknICkuaGFzQ2xhc3MoICd3cC1hZG1pbicgKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoICEgdGhpcy5zZXR1cF9yZWZlcmVuY2VzKCkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0TExNUy53YWl0X2ZvciggZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gKCAndW5kZWZpbmVkJyAhPT0gdHlwZW9mIHdwICYmICd1bmRlZmluZWQnICE9PSB0eXBlb2Ygd3AucGFzc3dvcmRTdHJlbmd0aCApO1xuXHRcdH0sIGZ1bmN0aW9uKCkge1xuXHRcdFx0c2VsZi5iaW5kKCk7XG5cdFx0XHRzZWxmLiRmb3JtLnRyaWdnZXIoICdsbG1zLXBhc3N3b3JkLXN0cmVuZ3RoLXJlYWR5JyApO1xuXHRcdH0gKTtcblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBCaW5kIERPTSBFdmVudHNcblx0ICpcblx0ICogQHNpbmNlIDMuMC4wXG5cdCAqXG5cdCAqIEByZXR1cm4gdm9pZFxuXHQgKi9cblx0YmluZDogZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHQvLyBhZGQgc3VibWlzc2lvbiBldmVudCBoYW5kbGVycyB3aGVuIG5vdCBvbiBhIGNoZWNrb3V0IGZvcm1cblx0XHRpZiAoICEgdGhpcy4kZm9ybS5oYXNDbGFzcyggJ2xsbXMtY2hlY2tvdXQnICkgKSB7XG5cdFx0XHR0aGlzLiRmb3JtLm9uKCAnc3VibWl0Jywgc2VsZiwgc2VsZi5zdWJtaXQgKTtcblx0XHR9XG5cblx0XHQvLyBjaGVjayBwYXNzd29yZCBzdHJlbmd0aCBvbiBrZXl1cFxuXHRcdHNlbGYuJHBhc3MuYWRkKCBzZWxmLiRjb25mICkub24oICdrZXl1cCcsIGZ1bmN0aW9uKCkge1xuXHRcdFx0c2VsZi5jaGVja19zdHJlbmd0aCgpO1xuXHRcdH0gKTtcblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBDaGVjayB0aGUgc3RyZW5ndGggb2YgYSB1c2VyIGVudGVyZWQgcGFzc3dvcmRcblx0ICogYW5kIHVwZGF0ZSBlbGVtZW50cyBkZXBlbmRpbmcgb24gdGhlIGN1cnJlbnQgc3RyZW5ndGhcblx0ICpcblx0ICogQHNpbmNlIDMuMC4wXG5cdCAqIEBzaW5jZSBbdmVyc2lvbl0gQWxsb3cgcGFzc3dvcmQgY29uZmlybWF0aW9uIHRvIGJlIG9wdGlvbmFsIHdoZW4gY2hlY2tpbmcgc3RyZW5ndGguXG5cdCAqXG5cdCAqIEByZXR1cm4gdm9pZFxuXHQgKi9cblx0Y2hlY2tfc3RyZW5ndGg6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyICRwYXNzX2ZpZWxkID0gdGhpcy4kcGFzcy5jbG9zZXN0KCAnLmxsbXMtZm9ybS1maWVsZCcgKSxcblx0XHRcdCRjb25mX2ZpZWxkID0gdGhpcy4kY29uZi5jbG9zZXN0KCAnLmxsbXMtZm9ybS1maWVsZCcgKSxcblx0XHRcdHBhc3NfbGVuZ3RoID0gdGhpcy4kcGFzcy52YWwoKS5sZW5ndGgsXG5cdFx0XHRjb25mX2xlbmd0aCA9IHRoaXMuJGNvbmYubGVuZ3RoID8gdGhpcy4kY29uZi52YWwoKS5sZW5ndGggOiAwO1xuXG5cdFx0Ly8gaGlkZSB0aGUgbWV0ZXIgaWYgYm90aCBmaWVsZHMgYXJlIGVtcHR5XG5cdFx0aWYgKCAhIHBhc3NfbGVuZ3RoICYmICEgY29uZl9sZW5ndGggKSB7XG5cdFx0XHQkcGFzc19maWVsZC5yZW1vdmVDbGFzcyggJ3ZhbGlkIGludmFsaWQnICk7XG5cdFx0XHQkY29uZl9maWVsZC5yZW1vdmVDbGFzcyggJ3ZhbGlkIGludmFsaWQnICk7XG5cdFx0XHR0aGlzLiRtZXRlci5oaWRlKCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLmdldF9jdXJyZW50X3N0cmVuZ3RoX3N0YXR1cygpICkge1xuXHRcdFx0JHBhc3NfZmllbGQucmVtb3ZlQ2xhc3MoICdpbnZhbGlkJyApLmFkZENsYXNzKCAndmFsaWQnICk7XG5cdFx0XHRpZiAoIGNvbmZfbGVuZ3RoICkge1xuXHRcdFx0XHQkY29uZl9maWVsZC5yZW1vdmVDbGFzcyggJ2ludmFsaWQnICkuYWRkQ2xhc3MoICd2YWxpZCcgKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0JHBhc3NfZmllbGQucmVtb3ZlQ2xhc3MoICd2YWxpZCcgKS5hZGRDbGFzcyggJ2ludmFsaWQnICk7XG5cdFx0XHRpZiAoIGNvbmZfbGVuZ3RoICkge1xuXHRcdFx0XHQkY29uZl9maWVsZC5yZW1vdmVDbGFzcyggJ3ZhbGlkJyApLmFkZENsYXNzKCAnaW52YWxpZCcgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLiRtZXRlci5yZW1vdmVDbGFzcyggJ3Rvby1zaG9ydCB2ZXJ5LXdlYWsgd2VhayBtZWRpdW0gc3Ryb25nIG1pc21hdGNoJyApO1xuXHRcdHRoaXMuJG1ldGVyLnNob3coKS5hZGRDbGFzcyggdGhpcy5nZXRfY3VycmVudF9zdHJlbmd0aCggJ3NsdWcnICkgKTtcblx0XHR0aGlzLiRtZXRlci5odG1sKCB0aGlzLmdldF9jdXJyZW50X3N0cmVuZ3RoKCAndGV4dCcgKSApO1xuXG5cdH0sXG5cblx0LyoqXG5cdCAqIEZvcm0gc3VibWlzc2lvbiBhY3Rpb24gY2FsbGVkIGR1cmluZyByZWdpc3RyYXRpb24gb24gY2hlY2tvdXQgc2NyZWVuXG5cdCAqXG5cdCAqIEBzaW5jZSAgICAzLjAuMFxuXHQgKlxuXHQgKiBAcGFyYW0gICAgb2JqICAgICAgIHNlbGYgICAgICBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzXG5cdCAqIEBwYXJhbSAgICBGdW5jdGlvbiAgY2FsbGJhY2sgIGNhbGxiYWNrIGZ1bmN0aW9uLCBwYXNzZXMgZXJyb3IgbWVzc2FnZSBvciBzdWNjZXNzIGJhY2sgdG8gY2hlY2tvdXQgaGFuZGxlclxuXHQgKiBAcmV0dXJuICAgdm9pZFxuXHQgKi9cblx0Y2hlY2tvdXQ6IGZ1bmN0aW9uKCBzZWxmLCBjYWxsYmFjayApIHtcblxuXHRcdGlmICggc2VsZi5nZXRfY3VycmVudF9zdHJlbmd0aF9zdGF0dXMoKSApIHtcblxuXHRcdFx0Y2FsbGJhY2soIHRydWUgKTtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdGNhbGxiYWNrKCBMTE1TLmwxMG4udHJhbnNsYXRlKCAnVGhlcmUgaXMgYW4gaXNzdWUgd2l0aCB5b3VyIGNob3NlbiBwYXNzd29yZC4nICkgKTtcblxuXHRcdH1cblx0fSxcblxuXHQvKipcblx0ICogR2V0IHRoZSBsaXN0IG9mIGJsYWNrbGlzdGVkIHN0cmluZ3Ncblx0ICpcblx0ICogQHNpbmNlIDMuMC4wXG5cdCAqIEBzaW5jZSBbdmVyc2lvbl0gQWRkIGJsYWNrbGlzdGVkIHdvcmRzIGFzIGNvbmZpZ3VyZWQgdmlhIHRoZSBwaHAgZmlsdGVyIGFuZCBhdXRvbWF0aWNhbGx5IGFkZCB2YWx1ZXMgZnJvbSBhbGwgdGV4dCBpbnB1dHMgaW4gdGhlIGN1cnJlbnQgZm9ybS5cblx0ICpcblx0ICogQHJldHVybiBhcnJheVxuXHQgKi9cblx0Z2V0X2JsYWNrbGlzdDogZnVuY3Rpb24oKSB7XG5cblx0XHQvLyBEZWZhdWx0IHZhbHVlcyBmcm9tIFdQIENvcmUgKyBhbnkgdmFsdWVzIGFkZGVkIHZpYSBzZXR0aW5ncyBmaWx0ZXIuLlxuXHRcdHZhciBibGFja2xpc3QgPSB3cC5wYXNzd29yZFN0cmVuZ3RoLnVzZXJJbnB1dEJsYWNrbGlzdCgpLmNvbmNhdCggdGhpcy5nZXRfc2V0dGluZyggJ2JsYWNrbGlzdCcsIFtdICkgKTtcblxuXHRcdC8vIEFkZCB2YWx1ZXMgZnJvbSBhbGwgdGV4dCBmaWVsZHMgaW4gdGhlIGZvcm0uXG5cdFx0dGhpcy4kZm9ybS5maW5kKCAnaW5wdXRbdHlwZT1cInRleHRcIl0sIGlucHV0W3R5cGU9XCJlbWFpbFwiXSwgaW5wdXRbdHlwZT1cInRlbFwiXSwgaW5wdXRbdHlwZT1cIm51bWJlclwiXScgKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciB2YWwgPSAkKCB0aGlzICkudmFsKCk7XG5cdFx0XHRpZiAoIHZhbCApIHtcblx0XHRcdFx0YmxhY2tsaXN0LnB1c2goIHZhbCApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblxuXHRcdHJldHVybiBibGFja2xpc3Q7XG5cblx0fSxcblxuXHQvKipcblx0ICogUmV0cmlldmUgY3VycmVudCBzdHJlbmd0aCBhcyBhIG51bWJlciwgYSBzbHVnLCBvciBhIHRyYW5zbGF0ZWQgdGV4dCBzdHJpbmdcblx0ICpcblx0ICogQHBhcmFtICAgIHN0cmluZyAgIGZvcm1hdCAgZGVyaXZlZCByZXR1cm4gZm9ybWF0IFtpbnR8c2x1Z3x0ZXh0XSBkZWZhdWx0cyB0byBpbnRcblx0ICogQHJldHVybiAgIG1peGVkXG5cdCAqIEBzaW5jZSAgICAzLjAuMFxuXHQgKiBAdmVyc2lvbiAgMy4wLjBcblx0ICovXG5cdGdldF9jdXJyZW50X3N0cmVuZ3RoOiBmdW5jdGlvbiggZm9ybWF0ICkge1xuXG5cdFx0Zm9ybWF0ICAgPSBmb3JtYXQgfHwgJ2ludCc7XG5cdFx0dmFyIHBhc3MgPSB0aGlzLiRwYXNzLnZhbCgpLFxuXHRcdFx0Y29uZiA9IHRoaXMuJGNvbmYudmFsKCksXG5cdFx0XHR2YWw7XG5cblx0XHQvLyBlbmZvcmNlIGN1c3RvbSBsZW5ndGggcmVxdWlyZW1lbnRcblx0XHRpZiAoIHBhc3MubGVuZ3RoIDwgdGhpcy5nZXRfc2V0dGluZyggJ21pbl9sZW5ndGgnLCA2ICkgKSB7XG5cdFx0XHR2YWwgPSAtMTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFsID0gd3AucGFzc3dvcmRTdHJlbmd0aC5tZXRlciggcGFzcywgdGhpcy5nZXRfYmxhY2tsaXN0KCksIGNvbmYgKTtcblx0XHRcdC8vIDAgJiAxIGFyZSBib3RoIHZlcnktd2Vha1xuXHRcdFx0aWYgKCAwID09PSB2YWwgKSB7XG5cdFx0XHRcdHZhbCA9IDE7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCAnc2x1ZycgPT09IGZvcm1hdCApIHtcblx0XHRcdHJldHVybiB0aGlzLmdldF9zdHJlbmd0aF9zbHVnKCB2YWwgKTtcblx0XHR9IGVsc2UgaWYgKCAndGV4dCcgPT09IGZvcm1hdCApIHtcblx0XHRcdHJldHVybiB0aGlzLmdldF9zdHJlbmd0aF90ZXh0KCB2YWwgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHZhbDtcblx0XHR9XG5cdH0sXG5cblx0LyoqXG5cdCAqIERldGVybWluZXMgaWYgdGhlIGN1cnJlbnQgcGFzc3dvcmQgc3RyZW5ndGggbWVldHMgdGhlIHVzZXItZGVmaW5lZFxuXHQgKiBtaW5pbXVtIHBhc3N3b3JkIHN0cmVuZ3RoIHJlcXVpcmVtZW50c1xuXHQgKlxuXHQgKiBAcmV0dXJuICAgYm9vbGVhblxuXHQgKiBAc2luY2UgICAgMy4wLjBcblx0ICogQHZlcnNpb24gIDMuMC4wXG5cdCAqL1xuXHRnZXRfY3VycmVudF9zdHJlbmd0aF9zdGF0dXM6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBjdXJyID0gdGhpcy5nZXRfY3VycmVudF9zdHJlbmd0aCgpLFxuXHRcdFx0bWluICA9IHRoaXMuZ2V0X3N0cmVuZ3RoX3ZhbHVlKCB0aGlzLmdldF9taW5pbXVtX3N0cmVuZ3RoKCkgKTtcblx0XHRyZXR1cm4gKCA1ID09PSBjdXJyICkgPyBmYWxzZSA6ICggY3VyciA+PSBtaW4gKTtcblx0fSxcblxuXHQvKipcblx0ICogUmV0cmlldmUgdGhlIG1pbmltdW0gcGFzc3dvcmQgc3RyZW5ndGggZm9yIHRoZSBjdXJyZW50IGZvcm0uXG5cdCAqXG5cdCAqIEBzaW5jZSAzLjAuMFxuXHQgKiBAc2luY2UgW3ZlcnNpb25dIFJlcGxhY2VzIHRoZSB2ZXJzaW9uIG91dHB1dCB2aWEgYW4gaW5saW5lIFBIUCBzY3JpcHQgaW4gZmF2b3Igb2YgdXRpbGl6aW5nIHZhbHVlcyBjb25maWd1cmVkIGluIHRoZSBzZXR0aW5ncyBvYmplY3QuXG5cdCAqXG5cdCAqIEByZXR1cm4ge3N0cmluZ31cblx0ICovXG5cdGdldF9taW5pbXVtX3N0cmVuZ3RoOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5nZXRfc2V0dGluZyggJ21pbl9zdHJlbmd0aCcsICdzdHJvbmcnICk7XG5cdH0sXG5cblx0LyoqXG5cdCAqIEdldCBhIHNldHRpbmcgYW5kIGZhbGxiYWNrIHRvIGEgZGVmYXVsdCB2YWx1ZS5cblx0ICpcblx0ICogQHNpbmNlIFt2ZXJzaW9uXVxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ30ga2V5IFNldHRpbmcga2V5LlxuXHQgKiBAcGFyYW0ge21peGVkfSBkZWZhdWx0X3ZhbCBEZWZhdWx0IHZhbHVlIHdoZW4gdGhlIHJlcXVlc3RlZCBzZXR0aW5nIGNhbm5vdCBiZSBsb2NhdGVkLlxuXHQgKiBAcmV0dXJuIHttaXhlZH1cblx0ICovXG5cdGdldF9zZXR0aW5nOiBmdW5jdGlvbigga2V5LCBkZWZhdWx0X3ZhbCApIHtcblx0XHR2YXIgc2V0dGluZ3MgPSB0aGlzLmdldF9zZXR0aW5ncygpO1xuXHRcdHJldHVybiBzZXR0aW5nc1sga2V5IF0gPyBzZXR0aW5nc1sga2V5IF0gOiBkZWZhdWx0X3ZhbDtcblx0fSxcblxuXHQvKipcblx0ICogR2V0IHRoZSBzbHVnIGFzc29jaWF0ZWQgd2l0aCBhIHN0cmVuZ3RoIHZhbHVlXG5cdCAqXG5cdCAqIEBwYXJhbSAgICBpbnQgICBzdHJlbmd0aF92YWwgIHN0cmVuZ3RoIHZhbHVlIG51bWJlclxuXHQgKiBAcmV0dXJuICAgc3RyaW5nXG5cdCAqIEBzaW5jZSAgICAzLjAuMFxuXHQgKiBAdmVyc2lvbiAgMy4wLjBcblx0ICovXG5cdGdldF9zdHJlbmd0aF9zbHVnOiBmdW5jdGlvbiggc3RyZW5ndGhfdmFsICkge1xuXG5cdFx0dmFyIHNsdWdzID0ge1xuXHRcdFx0Jy0xJzogJ3Rvby1zaG9ydCcsXG5cdFx0XHQxOiAndmVyeS13ZWFrJyxcblx0XHRcdDI6ICd3ZWFrJyxcblx0XHRcdDM6ICdtZWRpdW0nLFxuXHRcdFx0NDogJ3N0cm9uZycsXG5cdFx0XHQ1OiAnbWlzbWF0Y2gnLFxuXHRcdH07XG5cblx0XHRyZXR1cm4gKCBzbHVnc1sgc3RyZW5ndGhfdmFsIF0gKSA/IHNsdWdzWyBzdHJlbmd0aF92YWwgXSA6IHNsdWdzWzVdO1xuXG5cdH0sXG5cblx0LyoqXG5cdCAqIEdldHMgdGhlIHRyYW5zbGF0ZWQgdGV4dCBhc3NvY2lhdGVkIHdpdGggYSBzdHJlbmd0aCB2YWx1ZVxuXHQgKlxuXHQgKiBAcGFyYW0gICAgaW50ICBzdHJlbmd0aF92YWwgIHN0cmVuZ3RoIHZhbHVlXG5cdCAqIEByZXR1cm4gICBzdHJpbmdcblx0ICogQHNpbmNlICAgIDMuMC4wXG5cdCAqIEB2ZXJzaW9uICAzLjAuMFxuXHQgKi9cblx0Z2V0X3N0cmVuZ3RoX3RleHQ6IGZ1bmN0aW9uKCBzdHJlbmd0aF92YWwgKSB7XG5cblx0XHR2YXIgdGV4dHMgPSB7XG5cdFx0XHQnLTEnOiBMTE1TLmwxMG4udHJhbnNsYXRlKCAnVG9vIFNob3J0JyApLFxuXHRcdFx0MTogTExNUy5sMTBuLnRyYW5zbGF0ZSggJ1ZlcnkgV2VhaycgKSxcblx0XHRcdDI6IExMTVMubDEwbi50cmFuc2xhdGUoICdXZWFrJyApLFxuXHRcdFx0MzogTExNUy5sMTBuLnRyYW5zbGF0ZSggJ01lZGl1bScgKSxcblx0XHRcdDQ6IExMTVMubDEwbi50cmFuc2xhdGUoICdTdHJvbmcnICksXG5cdFx0XHQ1OiBMTE1TLmwxMG4udHJhbnNsYXRlKCAnTWlzbWF0Y2gnICksXG5cdFx0fTtcblxuXHRcdHJldHVybiAoIHRleHRzWyBzdHJlbmd0aF92YWwgXSApID8gdGV4dHNbIHN0cmVuZ3RoX3ZhbCBdIDogdGV4dHNbNV07XG5cblx0fSxcblxuXHQvKipcblx0ICogR2V0IHRoZSB2YWx1ZSBhc3NvY2lhdGVkIHdpdGggYSBzdHJlbmd0aCBzbHVnXG5cdCAqXG5cdCAqIEBwYXJhbSAgICBzdHJpbmcgICBzdHJlbmd0aF9zbHVnICBhIHN0cmVuZ3RoIHNsdWdcblx0ICogQHJldHVybiAgIGludFxuXHQgKiBAc2luY2UgICAgMy4wLjBcblx0ICogQHZlcnNpb24gIDMuMC4wXG5cdCAqL1xuXHRnZXRfc3RyZW5ndGhfdmFsdWU6IGZ1bmN0aW9uKCBzdHJlbmd0aF9zbHVnICkge1xuXG5cdFx0dmFyIHZhbHVlcyA9IHtcblx0XHRcdCd0b28tc2hvcnQnOiAtMSxcblx0XHRcdCd2ZXJ5LXdlYWsnOiAxLFxuXHRcdFx0d2VhazogMixcblx0XHRcdG1lZGl1bTogMyxcblx0XHRcdHN0cm9uZzogNCxcblx0XHRcdG1pc21hdGNoOiA1LFxuXHRcdH07XG5cblx0XHRyZXR1cm4gKCB2YWx1ZXNbIHN0cmVuZ3RoX3NsdWcgXSApID8gdmFsdWVzWyBzdHJlbmd0aF9zbHVnIF0gOiB2YWx1ZXMubWlzbWF0Y2g7XG5cblx0fSxcblxuXHQvKipcblx0ICogU2V0dXAgalF1ZXJ5IHJlZmVyZW5jZXMgdG8gRE9NIGVsZW1lbnRzIG5lZWRlZCB0byBwb3dlciB0aGUgcGFzc3dvcmQgbWV0ZXIuXG5cdCAqXG5cdCAqIEBzaW5jZSBbdmVyc2lvbl1cblx0ICpcblx0ICogQHJldHVybiB7Qm9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYSBtZXRlciBlbGVtZW50IGFuZCBwYXNzd29yZCBmaWVsZCBhcmUgZm91bmQsIG90aGVyd2lzZSByZXR1cm5zIGBmYWxzZWAuXG5cdCAqL1xuXHRzZXR1cF9yZWZlcmVuY2VzOiBmdW5jdGlvbigpIHtcblxuXHRcdGlmICggISB0aGlzLiRtZXRlci5sZW5ndGggKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0dGhpcy4kZm9ybSA9IHRoaXMuJG1ldGVyLmNsb3Nlc3QoICdmb3JtJyApO1xuXHRcdHRoaXMuJHBhc3MgPSB0aGlzLiRmb3JtLmZpbmQoICdpbnB1dFt0eXBlPVwicGFzc3dvcmRcIl0nICk7XG5cblx0XHRpZiAoIHRoaXMuJHBhc3MubGVuZ3RoICYmIHRoaXMuJHBhc3MuYXR0ciggJ2RhdGEtbWF0Y2gnICkgKSB7XG5cdFx0XHR0aGlzLiRjb25mID0gdGhpcy4kZm9ybS5maW5kKCAnIycgKyB0aGlzLiRwYXNzLmF0dHIoICdkYXRhLW1hdGNoJyApICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuICggdGhpcy4kcGFzcy5sZW5ndGggPiAwICk7XG5cblx0fSxcblxuXHQvKipcblx0ICogRm9ybSBzdWJtaXNzaW9uIGhhbmRsZXIgZm9yIHJlZ2lzdHJhdGlvbiBhbmQgdXBkYXRlIGZvcm1zXG5cdCAqXG5cdCAqIEBwYXJhbSAgICBvYmogICAgZSAgICAgICAgIGV2ZW50IGRhdGFcblx0ICogQHJldHVybiAgIHZvaWRcblx0ICogQHNpbmNlICAgIDMuMC4wXG5cdCAqIEB2ZXJzaW9uICAzLjAuMFxuXHQgKi9cblx0c3VibWl0OiBmdW5jdGlvbiggZSApIHtcblxuXHRcdHZhciBzZWxmID0gZS5kYXRhO1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRzZWxmLiRwYXNzLnRyaWdnZXIoICdrZXl1cCcgKTtcblxuXHRcdGlmICggc2VsZi5nZXRfY3VycmVudF9zdHJlbmd0aF9zdGF0dXMoKSApIHtcblx0XHRcdHNlbGYuJGZvcm0ub2ZmKCAnc3VibWl0Jywgc2VsZi5zdWJtaXQgKTtcblx0XHRcdHNlbGYuJGZvcm0udHJpZ2dlciggJ3N1Ym1pdCcgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0JCggJ2h0bWwsIGJvZHknICkuYW5pbWF0ZSgge1xuXHRcdFx0XHRzY3JvbGxUb3A6IHNlbGYuJG1ldGVyLm9mZnNldCgpLnRvcCAtIDEwMCxcblx0XHRcdH0sIDIwMCApO1xuXHRcdFx0c2VsZi4kbWV0ZXIuaGlkZSgpO1xuXHRcdFx0c2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHNlbGYuJG1ldGVyLmZhZGVJbiggNDAwICk7XG5cdFx0XHR9LCAyMjAgKTtcblx0XHR9XG5cdH1cblxufSApO1xuIiwiLyoqXG4gKiBQcmljaW5nIFRhYmxlIFVJXG4gKlxuICogQHBhY2thZ2UgTGlmdGVyTE1TL1NjcmlwdHNcbiAqXG4gKiBAc2luY2UgIFVua25vd24uXG4gKiBAdmVyc2lvbiAgVW5rbm93bi5cbiAqL1xuXG5MTE1TLlByaWNpbmdfVGFibGVzID0ge1xuXG5cdC8qKlxuXHQgKiBJbml0XG5cdCAqL1xuXHRpbml0OiBmdW5jdGlvbigpIHtcblxuXHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdGlmICggJCggJ2JvZHknICkuaGFzQ2xhc3MoICd3cC1hZG1pbicgKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoICQoICcubGxtcy1hY2Nlc3MtcGxhbnMnICkubGVuZ3RoICkge1xuXG5cdFx0XHRMTE1TLndhaXRfZm9yX21hdGNoSGVpZ2h0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0c2VsZi5iaW5kKCk7XG5cdFx0XHR9ICk7XG5cblx0XHRcdHRoaXMuJGxvY2tlZCA9ICQoICdhW2hyZWY9XCIjbGxtcy1wbGFuLWxvY2tlZFwiXScgKTtcblxuXHRcdFx0aWYgKCB0aGlzLiRsb2NrZWQubGVuZ3RoICkge1xuXG5cdFx0XHRcdExMTVMud2FpdF9mb3JfcG9wb3ZlciggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0c2VsZi5iaW5kX2xvY2tlZCgpO1xuXHRcdFx0XHR9ICk7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBCaW5kIE1ldGhvZFxuXHQgKiBIYW5kbGVzIGRvbSBiaW5kaW5nIG9uIGxvYWRcblx0ICpcblx0ICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXG5cdCAqL1xuXHRiaW5kOiBmdW5jdGlvbigpIHtcblxuXHRcdCQoICcubGxtcy1hY2Nlc3MtcGxhbi1jb250ZW50JyApLm1hdGNoSGVpZ2h0KCk7XG5cdFx0JCggJy5sbG1zLWFjY2Vzcy1wbGFuLXByaWNpbmcudHJpYWwnICkubWF0Y2hIZWlnaHQoKTtcblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBTZXR1cCBhIHBvcG92ZXIgZm9yIG1lbWJlcnMtb25seSByZXN0cmljdGVkIHBsYW5zXG5cdCAqXG5cdCAqIEByZXR1cm4gdm9pZFxuXHQgKiBAc2luY2UgICAgMy4wLjBcblx0ICogQHZlcnNpb24gIDMuOS4xXG5cdCAqL1xuXHRiaW5kX2xvY2tlZDogZnVuY3Rpb24oKSB7XG5cblx0XHR0aGlzLiRsb2NrZWQuZWFjaCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdCQoIHRoaXMgKS53ZWJ1aVBvcG92ZXIoIHtcblx0XHRcdFx0YW5pbWF0aW9uOiAncG9wJyxcblx0XHRcdFx0Y2xvc2VhYmxlOiB0cnVlLFxuXHRcdFx0XHRjb250ZW50OiBmdW5jdGlvbiggZSApIHtcblx0XHRcdFx0XHR2YXIgJGNvbnRlbnQgPSAkKCAnPGRpdiBjbGFzcz1cImxsbXMtbWVtYmVycy1vbmx5LXJlc3RyaWN0aW9uc1wiIC8+JyApO1xuXHRcdFx0XHRcdCRjb250ZW50LmFwcGVuZCggZS4kZWxlbWVudC5jbG9zZXN0KCAnLmxsbXMtYWNjZXNzLXBsYW4nICkuZmluZCggJy5sbG1zLWFjY2Vzcy1wbGFuLXJlc3RyaWN0aW9ucyB1bCcgKS5jbG9uZSgpICk7XG5cdFx0XHRcdFx0cmV0dXJuICRjb250ZW50O1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRwbGFjZW1lbnQ6ICd0b3AnLFxuXHRcdFx0XHRzdHlsZTogJ2ludmVyc2UnLFxuXHRcdFx0XHR0aXRsZTogTExNUy5sMTBuLnRyYW5zbGF0ZSggJ01lbWJlcnMgT25seSBQcmljaW5nJyApLFxuXHRcdFx0XHR3aWR0aDogJzI4MHB4Jyxcblx0XHRcdH0gKTtcblxuXHRcdH0gKTtcblxuXHR9LFxuXG59O1xuIiwiLyoqXG4gKiBMaWZ0ZXJMTVMgUmV2aWV3cyBKU1xuICpcbiAqIEBwYWNrYWdlIExpZnRlckxNUy9TY3JpcHRzXG4gKlxuICogQHNpbmNlIFVua25vd25cbiAqIEB2ZXJzaW9uIFVua25vd25cbiAqL1xuXG5MTE1TLlJldmlldyA9IHtcblx0LyoqXG5cdCAqIEluaXRcblx0ICogbG9hZHMgY2xhc3MgbWV0aG9kc1xuXHQgKi9cblx0aW5pdDogZnVuY3Rpb24oKSB7XG5cdFx0Ly8gY29uc29sZS5sb2coJ0luaXRpYWxpemluZyBSZXZpZXcgJyk7XG5cdFx0dGhpcy5iaW5kKCk7XG5cdH0sXG5cblx0LyoqXG5cdCAqIFRoaXMgZnVuY3Rpb24gYmluZHMgYWN0aW9ucyB0byB0aGUgYXBwcm9wcmlhdGUgaG9va3Ncblx0ICovXG5cdGJpbmQ6IGZ1bmN0aW9uKCkge1xuXHRcdCQoICcjbGxtc19yZXZpZXdfc3VibWl0X2J1dHRvbicgKS5jbGljayhmdW5jdGlvbigpXG5cdFx0XHR7XG5cdFx0XHRpZiAoJCggJyNyZXZpZXdfdGl0bGUnICkudmFsKCkgIT09ICcnICYmICQoICcjcmV2aWV3X3RleHQnICkudmFsKCkgIT09ICcnKSB7XG5cdFx0XHRcdGpRdWVyeS5hamF4KHtcblx0XHRcdFx0XHR0eXBlIDogJ3Bvc3QnLFxuXHRcdFx0XHRcdGRhdGFUeXBlIDogJ2pzb24nLFxuXHRcdFx0XHRcdHVybCA6IHdpbmRvdy5sbG1zLmFqYXh1cmwsXG5cdFx0XHRcdFx0ZGF0YSA6IHtcblx0XHRcdFx0XHRcdGFjdGlvbiA6ICdMTE1TU3VibWl0UmV2aWV3Jyxcblx0XHRcdFx0XHRcdHJldmlld190aXRsZTogJCggJyNyZXZpZXdfdGl0bGUnICkudmFsKCksXG5cdFx0XHRcdFx0XHRyZXZpZXdfdGV4dDogJCggJyNyZXZpZXdfdGV4dCcgKS52YWwoKSxcblx0XHRcdFx0XHRcdHBhZ2VJRCA6ICQoICcjcG9zdF9JRCcgKS52YWwoKVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24oKVxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCAnUmV2aWV3IHN1Y2Nlc3MnICk7XG5cdFx0XHRcdFx0XHQkKCAnI3Jldmlld19ib3gnICkuaGlkZSggJ3N3aW5nJyApO1xuXHRcdFx0XHRcdFx0JCggJyN0aGFua195b3VfYm94JyApLnNob3coICdzd2luZycgKTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGVycm9yOiBmdW5jdGlvbihqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24gKVxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCBqcVhIUiApO1xuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coIHRleHRTdGF0dXMgKTtcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCBlcnJvclRocm93biApO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKCQoICcjcmV2aWV3X3RpdGxlJyApLnZhbCgpID09PSAnJykge1xuXHRcdFx0XHRcdCQoICcjcmV2aWV3X3RpdGxlX2Vycm9yJyApLnNob3coICdzd2luZycgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQkKCAnI3Jldmlld190aXRsZV9lcnJvcicgKS5oaWRlKCAnc3dpbmcnICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCQoICcjcmV2aWV3X3RleHQnICkudmFsKCkgPT09ICcnKSB7XG5cdFx0XHRcdFx0JCggJyNyZXZpZXdfdGV4dF9lcnJvcicgKS5zaG93KCAnc3dpbmcnICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0JCggJyNyZXZpZXdfdGV4dF9lcnJvcicgKS5oaWRlKCAnc3dpbmcnICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0XHRpZiAoICQoICcjX2xsbXNfZGlzcGxheV9yZXZpZXdzJyApLmF0dHIoICdjaGVja2VkJyApICkge1xuXHRcdFx0JCggJy5sbG1zLW51bS1yZXZpZXdzLXRvcCcgKS5hZGRDbGFzcyggJ3RvcCcgKTtcblx0XHRcdCQoICcubGxtcy1udW0tcmV2aWV3cy1ib3R0b20nICkuc2hvdygpO1xuXG5cdFx0fSBlbHNlIHtcblx0XHRcdCQoICcubGxtcy1udW0tcmV2aWV3cy1ib3R0b20nICkuaGlkZSgpO1xuXHRcdH1cblx0XHQkKCAnI19sbG1zX2Rpc3BsYXlfcmV2aWV3cycgKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoICQoICcjX2xsbXNfZGlzcGxheV9yZXZpZXdzJyApLmF0dHIoICdjaGVja2VkJyApICkge1xuXHRcdFx0XHQkKCAnLmxsbXMtbnVtLXJldmlld3MtdG9wJyApLmFkZENsYXNzKCAndG9wJyApO1xuXHRcdFx0XHQkKCAnLmxsbXMtbnVtLXJldmlld3MtYm90dG9tJyApLnNob3coKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCQoICcubGxtcy1udW0tcmV2aWV3cy10b3AnICkucmVtb3ZlQ2xhc3MoICd0b3AnICk7XG5cdFx0XHRcdCQoICcubGxtcy1udW0tcmV2aWV3cy1ib3R0b20nICkuaGlkZSgpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdH0sXG59O1xuIiwiLyoqXG4gKiBBZGQgU3Bpbm5lcnMgZm9yIEFKQVggZXZlbnRzXG4gKlxuICogQHBhY2thZ2UgTGlmdGVyTE1TL1NjcmlwdHNcbiAqXG4gKiBAc2luY2UgMy4wLjBcbiAqIEB2ZXJzaW9uIDMuMC4wXG4gKi9cblxuTExNUy5TcGlubmVyID0ge1xuXG5cdC8qKlxuXHQgKiBHZXQgYW4gZXhpdGluZyBzcGlubmVyIGVsZW1lbnQgb3IgY3JlYXRlIGEgbmV3IG9uZVxuXHQgKlxuXHQgKiBAcGFyYW0gICAgb2JqICAgICAgJGVsICAgalF1ZXJ5IHNlbGVjdG9yIG9mIHRoZSBwYXJlbnQgZWxlbWVudCB0aGF0IHNob3VsZCBob2xkIGFuZCBiZSBtYXNlZCBieSBhIHNwaW5uZXJcblx0ICogQHBhcmFtICAgIHN0cmluZyAgIHNpemUgIHNpemUgb3IgdGhlIHNwaW5uZXIgW2RlZmF1bHR8c21hbGxdXG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0IGlzIDQwcHhcblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgIHNtYWxsIGlzIDIwcHhcblx0ICogQHJldHVybiAgIG9ialxuXHQgKiBAc2luY2UgMy4wLjBcblx0ICogQHZlcnNpb24gMy4wLjBcblx0ICovXG5cdGdldDogZnVuY3Rpb24oICRlbCwgc2l6ZSApIHtcblxuXHRcdC8vIGxvb2sgZm9yIGFuIGV4aXN0aW5nIHNwaW5uZXJcblx0XHR2YXIgJHNwaW5uZXIgPSAkZWwuZmluZCggJy5sbG1zLXNwaW5uaW5nJyApLmZpcnN0KCk7XG5cblx0XHQvLyBubyBzcGlubmVyIGluc2lkZSAkZWxcblx0XHRpZiAoICEgJHNwaW5uZXIubGVuZ3RoICkge1xuXG5cdFx0XHRzaXplID0gKCBzaXplICkgPyBzaXplIDogJ2RlZmF1bHQnO1xuXG5cdFx0XHQvLyBjcmVhdGUgdGhlIHNwaW5uZXJcblx0XHRcdCRzcGlubmVyID0gJCggJzxkaXYgY2xhc3M9XCJsbG1zLXNwaW5uaW5nXCI+PGkgY2xhc3M9XCJsbG1zLXNwaW5uZXIgJyArIHNpemUgKyAnXCI+PC9pPjwvZGl2PicgKTtcblxuXHRcdFx0Ly8gYWRkIGl0IHRvIHRoZSBkb21cblx0XHRcdCRlbC5hcHBlbmQoICRzcGlubmVyICk7XG5cblx0XHR9XG5cblx0XHQvLyByZXR1cm4gaXRcblx0XHRyZXR1cm4gJHNwaW5uZXI7XG5cblx0fSxcblxuXHQvKipcblx0ICogU3RhcnQgc3Bpbm5lcihzKSBpbnI9c2lkZSBhIGdpdmVuIGVsZW1lbnRcblx0ICogQ3JlYXRlcyB0aGVtIGlmIHRoZXkgZG9uJ3QgZXhpc3QhXG5cdCAqXG5cdCAqIEBwYXJhbSAgIG9iaiAgICAgICRlbCAgIGpRdWVyeSBzZWxlY3RvciBvZiB0aGUgcGFyZW50IGVsZW1lbnQgdGhhdCBzaG91bGQgaG9sZCBhbmQgYmUgbWFzZWQgYnkgYSBzcGlubmVyXG5cdCAqIEBwYXJhbSAgIHN0cmluZyAgIHNpemUgIHNpemUgb3IgdGhlIHNwaW5uZXIgW2RlZmF1bHR8c21hbGxdXG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0IGlzIDQwcHhcblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgIHNtYWxsIGlzIDIwcHhcblx0ICogQHJldHVybiAgdm9pZFxuXHQgKiBAc2luY2UgICAzLjAuMFxuXHQgKiBAdmVyc2lvbiAzLjAuMFxuXHQgKi9cblx0c3RhcnQ6IGZ1bmN0aW9uKCAkZWwsIHNpemUgKSB7XG5cblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHQkZWwuZWFjaCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdHNlbGYuZ2V0KCAkKCB0aGlzICksIHNpemUgKS5zaG93KCk7XG5cblx0XHR9ICk7XG5cblx0fSxcblxuXHQvKipcblx0ICogU3RvcmUgc3Bpbm5lcnMgd2l0aGluIGFuIGVsZW1lbnRcblx0ICpcblx0ICogQHBhcmFtICAgb2JqICAgICAgJGVsICAgalF1ZXJ5IHNlbGVjdG9yIG9mIHRoZSBwYXJlbnQgZWxlbWVudCB0aGF0IHNob3VsZCBob2xkIGFuZCBiZSBtYXNlZCBieSBhIHNwaW5uZXJcblx0ICogQHJldHVybiAgdm9pZFxuXHQgKiBAc2luY2UgICAzLjAuMFxuXHQgKiBAdmVyc2lvbiAzLjAuMFxuXHQgKi9cblx0c3RvcDogZnVuY3Rpb24oICRlbCApIHtcblxuXHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdCRlbC5lYWNoKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0c2VsZi5nZXQoICQoIHRoaXMgKSApLmhpZGUoKTtcblxuXHRcdH0gKTtcblxuXHR9XG5cbn07XG4iLCIvKiFcbiAqIEphdmFTY3JpcHQgQ29va2llIHYyLjIuMVxuICogaHR0cHM6Ly9naXRodWIuY29tL2pzLWNvb2tpZS9qcy1jb29raWVcbiAqXG4gKiBDb3B5cmlnaHQgMjAwNiwgMjAxNSBLbGF1cyBIYXJ0bCAmIEZhZ25lciBCcmFja1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKi9cbjsoZnVuY3Rpb24gKGZhY3RvcnkpIHtcblx0dmFyIHJlZ2lzdGVyZWRJbk1vZHVsZUxvYWRlcjtcblx0aWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuXHRcdGRlZmluZShmYWN0b3J5KTtcblx0XHRyZWdpc3RlcmVkSW5Nb2R1bGVMb2FkZXIgPSB0cnVlO1xuXHR9XG5cdGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0XHRyZWdpc3RlcmVkSW5Nb2R1bGVMb2FkZXIgPSB0cnVlO1xuXHR9XG5cdGlmICghcmVnaXN0ZXJlZEluTW9kdWxlTG9hZGVyKSB7XG5cdFx0dmFyIE9sZENvb2tpZXMgPSB3aW5kb3cuQ29va2llcztcblx0XHR2YXIgYXBpID0gd2luZG93LkNvb2tpZXMgPSBmYWN0b3J5KCk7XG5cdFx0YXBpLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHR3aW5kb3cuQ29va2llcyA9IE9sZENvb2tpZXM7XG5cdFx0XHRyZXR1cm4gYXBpO1xuXHRcdH07XG5cdH1cbn0oZnVuY3Rpb24gKCkge1xuXHRmdW5jdGlvbiBleHRlbmQgKCkge1xuXHRcdHZhciBpID0gMDtcblx0XHR2YXIgcmVzdWx0ID0ge307XG5cdFx0Zm9yICg7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBhdHRyaWJ1dGVzID0gYXJndW1lbnRzWyBpIF07XG5cdFx0XHRmb3IgKHZhciBrZXkgaW4gYXR0cmlidXRlcykge1xuXHRcdFx0XHRyZXN1bHRba2V5XSA9IGF0dHJpYnV0ZXNba2V5XTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fVxuXG5cdGZ1bmN0aW9uIGRlY29kZSAocykge1xuXHRcdHJldHVybiBzLnJlcGxhY2UoLyglWzAtOUEtWl17Mn0pKy9nLCBkZWNvZGVVUklDb21wb25lbnQpO1xuXHR9XG5cblx0ZnVuY3Rpb24gaW5pdCAoY29udmVydGVyKSB7XG5cdFx0ZnVuY3Rpb24gYXBpKCkge31cblxuXHRcdGZ1bmN0aW9uIHNldCAoa2V5LCB2YWx1ZSwgYXR0cmlidXRlcykge1xuXHRcdFx0aWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRhdHRyaWJ1dGVzID0gZXh0ZW5kKHtcblx0XHRcdFx0cGF0aDogJy8nXG5cdFx0XHR9LCBhcGkuZGVmYXVsdHMsIGF0dHJpYnV0ZXMpO1xuXG5cdFx0XHRpZiAodHlwZW9mIGF0dHJpYnV0ZXMuZXhwaXJlcyA9PT0gJ251bWJlcicpIHtcblx0XHRcdFx0YXR0cmlidXRlcy5leHBpcmVzID0gbmV3IERhdGUobmV3IERhdGUoKSAqIDEgKyBhdHRyaWJ1dGVzLmV4cGlyZXMgKiA4NjRlKzUpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBXZSdyZSB1c2luZyBcImV4cGlyZXNcIiBiZWNhdXNlIFwibWF4LWFnZVwiIGlzIG5vdCBzdXBwb3J0ZWQgYnkgSUVcblx0XHRcdGF0dHJpYnV0ZXMuZXhwaXJlcyA9IGF0dHJpYnV0ZXMuZXhwaXJlcyA/IGF0dHJpYnV0ZXMuZXhwaXJlcy50b1VUQ1N0cmluZygpIDogJyc7XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdHZhciByZXN1bHQgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG5cdFx0XHRcdGlmICgvXltcXHtcXFtdLy50ZXN0KHJlc3VsdCkpIHtcblx0XHRcdFx0XHR2YWx1ZSA9IHJlc3VsdDtcblx0XHRcdFx0fVxuXHRcdFx0fSBjYXRjaCAoZSkge31cblxuXHRcdFx0dmFsdWUgPSBjb252ZXJ0ZXIud3JpdGUgP1xuXHRcdFx0XHRjb252ZXJ0ZXIud3JpdGUodmFsdWUsIGtleSkgOlxuXHRcdFx0XHRlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKHZhbHVlKSlcblx0XHRcdFx0XHQucmVwbGFjZSgvJSgyM3wyNHwyNnwyQnwzQXwzQ3wzRXwzRHwyRnwzRnw0MHw1Qnw1RHw1RXw2MHw3Qnw3RHw3QykvZywgZGVjb2RlVVJJQ29tcG9uZW50KTtcblxuXHRcdFx0a2V5ID0gZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhrZXkpKVxuXHRcdFx0XHQucmVwbGFjZSgvJSgyM3wyNHwyNnwyQnw1RXw2MHw3QykvZywgZGVjb2RlVVJJQ29tcG9uZW50KVxuXHRcdFx0XHQucmVwbGFjZSgvW1xcKFxcKV0vZywgZXNjYXBlKTtcblxuXHRcdFx0dmFyIHN0cmluZ2lmaWVkQXR0cmlidXRlcyA9ICcnO1xuXHRcdFx0Zm9yICh2YXIgYXR0cmlidXRlTmFtZSBpbiBhdHRyaWJ1dGVzKSB7XG5cdFx0XHRcdGlmICghYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXSkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHN0cmluZ2lmaWVkQXR0cmlidXRlcyArPSAnOyAnICsgYXR0cmlidXRlTmFtZTtcblx0XHRcdFx0aWYgKGF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0gPT09IHRydWUpIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIENvbnNpZGVycyBSRkMgNjI2NSBzZWN0aW9uIDUuMjpcblx0XHRcdFx0Ly8gLi4uXG5cdFx0XHRcdC8vIDMuICBJZiB0aGUgcmVtYWluaW5nIHVucGFyc2VkLWF0dHJpYnV0ZXMgY29udGFpbnMgYSAleDNCIChcIjtcIilcblx0XHRcdFx0Ly8gICAgIGNoYXJhY3Rlcjpcblx0XHRcdFx0Ly8gQ29uc3VtZSB0aGUgY2hhcmFjdGVycyBvZiB0aGUgdW5wYXJzZWQtYXR0cmlidXRlcyB1cCB0byxcblx0XHRcdFx0Ly8gbm90IGluY2x1ZGluZywgdGhlIGZpcnN0ICV4M0IgKFwiO1wiKSBjaGFyYWN0ZXIuXG5cdFx0XHRcdC8vIC4uLlxuXHRcdFx0XHRzdHJpbmdpZmllZEF0dHJpYnV0ZXMgKz0gJz0nICsgYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXS5zcGxpdCgnOycpWzBdO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gKGRvY3VtZW50LmNvb2tpZSA9IGtleSArICc9JyArIHZhbHVlICsgc3RyaW5naWZpZWRBdHRyaWJ1dGVzKTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBnZXQgKGtleSwganNvbikge1xuXHRcdFx0aWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgamFyID0ge307XG5cdFx0XHQvLyBUbyBwcmV2ZW50IHRoZSBmb3IgbG9vcCBpbiB0aGUgZmlyc3QgcGxhY2UgYXNzaWduIGFuIGVtcHR5IGFycmF5XG5cdFx0XHQvLyBpbiBjYXNlIHRoZXJlIGFyZSBubyBjb29raWVzIGF0IGFsbC5cblx0XHRcdHZhciBjb29raWVzID0gZG9jdW1lbnQuY29va2llID8gZG9jdW1lbnQuY29va2llLnNwbGl0KCc7ICcpIDogW107XG5cdFx0XHR2YXIgaSA9IDA7XG5cblx0XHRcdGZvciAoOyBpIDwgY29va2llcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHR2YXIgcGFydHMgPSBjb29raWVzW2ldLnNwbGl0KCc9Jyk7XG5cdFx0XHRcdHZhciBjb29raWUgPSBwYXJ0cy5zbGljZSgxKS5qb2luKCc9Jyk7XG5cblx0XHRcdFx0aWYgKCFqc29uICYmIGNvb2tpZS5jaGFyQXQoMCkgPT09ICdcIicpIHtcblx0XHRcdFx0XHRjb29raWUgPSBjb29raWUuc2xpY2UoMSwgLTEpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHR2YXIgbmFtZSA9IGRlY29kZShwYXJ0c1swXSk7XG5cdFx0XHRcdFx0Y29va2llID0gKGNvbnZlcnRlci5yZWFkIHx8IGNvbnZlcnRlcikoY29va2llLCBuYW1lKSB8fFxuXHRcdFx0XHRcdFx0ZGVjb2RlKGNvb2tpZSk7XG5cblx0XHRcdFx0XHRpZiAoanNvbikge1xuXHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0Y29va2llID0gSlNPTi5wYXJzZShjb29raWUpO1xuXHRcdFx0XHRcdFx0fSBjYXRjaCAoZSkge31cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRqYXJbbmFtZV0gPSBjb29raWU7XG5cblx0XHRcdFx0XHRpZiAoa2V5ID09PSBuYW1lKSB7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gY2F0Y2ggKGUpIHt9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBrZXkgPyBqYXJba2V5XSA6IGphcjtcblx0XHR9XG5cblx0XHRhcGkuc2V0ID0gc2V0O1xuXHRcdGFwaS5nZXQgPSBmdW5jdGlvbiAoa2V5KSB7XG5cdFx0XHRyZXR1cm4gZ2V0KGtleSwgZmFsc2UgLyogcmVhZCBhcyByYXcgKi8pO1xuXHRcdH07XG5cdFx0YXBpLmdldEpTT04gPSBmdW5jdGlvbiAoa2V5KSB7XG5cdFx0XHRyZXR1cm4gZ2V0KGtleSwgdHJ1ZSAvKiByZWFkIGFzIGpzb24gKi8pO1xuXHRcdH07XG5cdFx0YXBpLnJlbW92ZSA9IGZ1bmN0aW9uIChrZXksIGF0dHJpYnV0ZXMpIHtcblx0XHRcdHNldChrZXksICcnLCBleHRlbmQoYXR0cmlidXRlcywge1xuXHRcdFx0XHRleHBpcmVzOiAtMVxuXHRcdFx0fSkpO1xuXHRcdH07XG5cblx0XHRhcGkuZGVmYXVsdHMgPSB7fTtcblxuXHRcdGFwaS53aXRoQ29udmVydGVyID0gaW5pdDtcblxuXHRcdHJldHVybiBhcGk7XG5cdH1cblxuXHRyZXR1cm4gaW5pdChmdW5jdGlvbiAoKSB7fSk7XG59KSk7IixudWxsLCIvKipcbiAqIFN0dWRlbnQgRGFzaGJvYXJkIHJlbGF0ZWQgSlNcbiAqXG4gKiBAcGFja2FnZSBMaWZ0ZXJMTVMvU2NyaXB0c1xuICpcbiAqIEBzaW5jZSAgICAzLjcuMFxuICogQHZlcnNpb24gIDMuMTAuMFxuICovXG5cbkxMTVMuU3R1ZGVudERhc2hib2FyZCA9IHtcblxuXHQvKipcblx0ICogU2x1ZyBmb3IgdGhlIGN1cnJlbnQgc2NyZWVuL2VuZHBvaW50XG5cdCAqXG5cdCAqIEB0eXBlICB7U3RyaW5nfVxuXHQgKi9cblx0c2NyZWVuOiAnJyxcblxuXHQvKipcblx0ICogV2lsbCBzaG93IHRoZSBudW1iZXIgb2YgbWV0ZXJzIG9uIHRoZSBwYWdlXG5cdCAqIFVzZWQgdG8gY29uZGl0aW9uYWxseSBiaW5kIG1ldGVyLXJlbGF0ZWQgZXZlbnRzIG9ubHkgd2hlbiBtZXRlcnNcblx0ICogYWN0dWFsbHkgZXhpc3Rcblx0ICpcblx0ICogQHR5cGUgIGludFxuXHQgKi9cblx0bWV0ZXJfZXhpc3RzOiAwLFxuXG5cdC8qKlxuXHQgKiBJbml0XG5cdCAqXG5cdCAqIEByZXR1cm4gICB2b2lkXG5cdCAqIEBzaW5jZSAgICAzLjcuMFxuXHQgKiBAdmVyc2lvbiAgMy4xMC4wXG5cdCAqL1xuXHRpbml0OiBmdW5jdGlvbigpIHtcblxuXHRcdGlmICggJCggJy5sbG1zLXN0dWRlbnQtZGFzaGJvYXJkJyApLmxlbmd0aCApIHtcblxuXHRcdFx0dGhpcy5tZXRlcl9leGlzdHMgPSAkKCAnLmxsbXMtcGFzc3dvcmQtc3RyZW5ndGgtbWV0ZXInICkubGVuZ3RoO1xuXHRcdFx0dGhpcy5iaW5kKCk7XG5cblx0XHRcdGlmICggJ29yZGVycycgPT09IHRoaXMuZ2V0X3NjcmVlbigpICkge1xuXG5cdFx0XHRcdHRoaXMuYmluZF9vcmRlcnMoKTtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdH0sXG5cblx0LyoqXG5cdCAqIEJpbmQgRE9NIGV2ZW50c1xuXHQgKlxuXHQgKiBAcmV0dXJuICAgdm9pZFxuXHQgKiBAc2luY2UgICAgMy43LjBcblx0ICogQHZlcnNpb24gIDMuNy40XG5cdCAqL1xuXHRiaW5kOiBmdW5jdGlvbigpIHtcblxuXHRcdHZhciBzZWxmICAgID0gdGhpcyxcblx0XHRcdCR0b2dnbGUgPSAkKCAnLmxsbXMtc3R1ZGVudC1kYXNoYm9hcmQgYVtocmVmPVwiI2xsbXMtcGFzc3dvcmQtY2hhbmdlLXRvZ2dsZVwiXScgKTtcblxuXHRcdC8vIGNsaWNrIGV2ZW50IGZvciB0aGUgY2hhbmdlIHBhc3N3b3JkIGxpbmtcblx0XHQkdG9nZ2xlLm9uKCAnY2xpY2snLCBmdW5jdGlvbiggZSApIHtcblxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHR2YXIgJHRoaXMgICAgICAgPSAkKCB0aGlzICksXG5cdFx0XHRcdGN1cnJfdGV4dCAgID0gJHRoaXMudGV4dCgpLFxuXHRcdFx0XHRjdXJyX2FjdGlvbiA9ICR0aGlzLmF0dHIoICdkYXRhLWFjdGlvbicgKSxcblx0XHRcdFx0bmV3X2FjdGlvbiAgPSAnaGlkZScgPT09IGN1cnJfYWN0aW9uID8gJ3Nob3cnIDogJ2hpZGUnLFxuXHRcdFx0XHRuZXdfdGV4dCAgICA9ICR0aGlzLmF0dHIoICdkYXRhLXRleHQnICk7XG5cblx0XHRcdHNlbGYucGFzc3dvcmRfdG9nZ2xlKCBjdXJyX2FjdGlvbiApO1xuXG5cdFx0XHQvLyBwcmV2ZW50IGFjY2lkZW50YWwgY2FuY2VscyB3aGVuIHVzZXJzIHRhYiBvdXQgb2YgdGhlIGNvbmZpcm0gcGFzc3dvcmQgZmllbGRcblx0XHRcdC8vIGFuZCBleHBlY3QgdG8gaGl0IHN1Ym1pdCB3aXRoIGVudGVyIGtleSBpbW1lZGlhdGVseSBhZnRlclxuXHRcdFx0aWYgKCAnc2hvdycgPT09IGN1cnJfYWN0aW9uICkge1xuXHRcdFx0XHQkdGhpcy5hdHRyKCAndGFiaW5kZXgnLCAnLTc3NycgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCR0aGlzLnJlbW92ZUF0dHIoICd0YWJpbmRleCcgKTtcblx0XHRcdH1cblxuXHRcdFx0JHRoaXMuYXR0ciggJ2RhdGEtYWN0aW9uJywgbmV3X2FjdGlvbiApLmF0dHIoICdkYXRhLXRleHQnLCBjdXJyX3RleHQgKS50ZXh0KCBuZXdfdGV4dCApO1xuXG5cdFx0fSApO1xuXG5cdFx0Ly8gdGhpcyB3aWxsIHJlbW92ZSB0aGUgcmVxdWlyZWQgYnkgZGVmYXVsdCB3aXRob3V0IGhhdmluZyB0byBtZXNzIHdpdGhcblx0XHQvLyBjb25kaXRpb25hbHMgaW4gUEhQIGFuZCBzdGlsbCBhbGxvd3MgdGhlIHJlcXVpcmVkICogdG8gc2hvdyBpbiB0aGUgbGFiZWxcblxuXHRcdGlmICggdGhpcy5tZXRlcl9leGlzdHMgKSB7XG5cblx0XHRcdCQoICcubGxtcy1wZXJzb24tZm9ybS5lZGl0LWFjY291bnQnICkub24oICdsbG1zLXBhc3N3b3JkLXN0cmVuZ3RoLXJlYWR5JywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHNlbGYucGFzc3dvcmRfdG9nZ2xlKCAnaGlkZScgKTtcblx0XHRcdH0gKTtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdHNlbGYucGFzc3dvcmRfdG9nZ2xlKCAnaGlkZScgKTtcblxuXHRcdH1cblxuXHRcdCQoICcubGxtcy1kb251dCcgKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdExMTVMuRG9udXQoICQoIHRoaXMgKSApO1xuXHRcdH0gKTtcblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBCaW5kIGV2ZW50cyByZWxhdGVkIHRvIHRoZSBvcmRlcnMgc2NyZWVuIG9uIHRoZSBkYXNoYm9hcmRcblx0ICpcblx0ICogQHJldHVybiAgIHZvaWRcblx0ICogQHNpbmNlICAgIDMuMTAuMFxuXHQgKiBAdmVyc2lvbiAgMy4xMC4wXG5cdCAqL1xuXHRiaW5kX29yZGVyczogZnVuY3Rpb24oKSB7XG5cblx0XHQkKCAnI2xsbXMtY2FuY2VsLXN1YnNjcmlwdGlvbi1mb3JtJyApLm9uKCAnc3VibWl0JywgdGhpcy5vcmRlcl9jYW5jZWxfd2FybmluZyApO1xuXHRcdCQoICcjbGxtc191cGRhdGVfcGF5bWVudF9tZXRob2QnICkub24oICdjbGljaycsIGZ1bmN0aW9uKCkge1xuXHRcdFx0JCggJ2lucHV0W25hbWU9XCJsbG1zX3BheW1lbnRfZ2F0ZXdheVwiXTpjaGVja2VkJyApLnRyaWdnZXIoICdjaGFuZ2UnICk7XG5cdFx0XHQkKCB0aGlzICkuY2xvc2VzdCggJ2Zvcm0nICkuZmluZCggJy5sbG1zLXN3aXRjaC1wYXltZW50LXNvdXJjZS1tYWluJyApLnNsaWRlVG9nZ2xlKCAnMjAwJyApO1xuXHRcdH0gKTtcblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBHZXQgdGhlIGN1cnJlbnQgZGFzaGJvYXJkIGVuZHBvaW50L3RhYiBzbHVnXG5cdCAqXG5cdCAqIEByZXR1cm4gICB2b2lkXG5cdCAqIEBzaW5jZSAgICAzLjEwLjBcblx0ICogQHZlcnNpb24gIDMuMTAuMFxuXHQgKi9cblx0Z2V0X3NjcmVlbjogZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCAhIHRoaXMuc2NyZWVuICkge1xuXHRcdFx0dGhpcy5zY3JlZW4gPSAkKCAnLmxsbXMtc3R1ZGVudC1kYXNoYm9hcmQnICkuYXR0ciggJ2RhdGEtY3VycmVudCcgKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuc2NyZWVuO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBTaG93IGEgY29uZmlybWF0aW9uIHdhcm5pbmcgd2hlbiBDYW5jZWwgU3Vic2NyaXB0aW9uIGZvcm0gaXMgc3VibWl0dGVkXG5cdCAqXG5cdCAqIEBwYXJhbSAgICBvYmogICBlICBKUyBldmVudCBkYXRhXG5cdCAqIEByZXR1cm4gICB2b2lkXG5cdCAqIEBzaW5jZSAgICAzLjEwLjBcblx0ICogQHZlcnNpb24gIDMuMTAuMFxuXHQgKi9cblx0b3JkZXJfY2FuY2VsX3dhcm5pbmc6IGZ1bmN0aW9uKCBlICkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHR2YXIgbXNnID0gTExNUy5sMTBuLnRyYW5zbGF0ZSggJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBjYW5jZWwgeW91ciBzdWJzY3JpcHRpb24/JyApO1xuXHRcdGlmICggd2luZG93LmNvbmZpcm0oIExMTVMubDEwbi50cmFuc2xhdGUoIG1zZyApICkgKSB7XG5cdFx0XHQkKCB0aGlzICkub2ZmKCAnc3VibWl0JywgdGhpcy5vcmRlcl9jYW5jZWxfd2FybmluZyApO1xuXHRcdFx0JCggdGhpcyApLnN1Ym1pdCgpO1xuXHRcdH1cblx0fSxcblxuXHQvKipcblx0ICogVG9nZ2xlIHBhc3N3b3JkIHJlbGF0ZWQgZmllbGRzIG9uIHRoZSBhY2NvdW50IGVkaXQgcGFnZVxuXHQgKlxuXHQgKiBAcGFyYW0gICAgc3RyaW5nICAgYWN0aW9uICBbc2hvd3xoaWRlXVxuXHQgKiBAcmV0dXJuICAgdm9pZFxuXHQgKiBAc2luY2UgICAgMy43LjBcblx0ICogQHZlcnNpb24gIDMuNy40XG5cdCAqL1xuXHRwYXNzd29yZF90b2dnbGU6IGZ1bmN0aW9uKCBhY3Rpb24gKSB7XG5cblx0XHRpZiAoICEgYWN0aW9uICkge1xuXHRcdFx0YWN0aW9uID0gJ3Nob3cnO1xuXHRcdH1cblxuXHRcdHZhciBzZWxmICA9IHRoaXMsXG5cdFx0XHQkcHdkcyA9ICQoICcjcGFzc3dvcmQsICNwYXNzd29yZF9jb25maXJtLCAjY3VycmVudF9wYXNzd29yZCcgKSxcblx0XHRcdCRmb3JtID0gJCggJyNwYXNzd29yZCcgKS5jbG9zZXN0KCAnZm9ybScgKTtcblxuXHRcdC8vIGhpZGUgb3Igc2hvdyB0aGUgZmllbGRzXG5cdFx0JCggJy5sbG1zLWNoYW5nZS1wYXNzd29yZCcgKVsgYWN0aW9uIF0oKTtcblxuXHRcdGlmICggJ3Nob3cnID09PSBhY3Rpb24gKSB7XG5cdFx0XHQvLyBtYWtlIHBhc3N3b3JkcyByZXF1aXJlZFxuXHRcdFx0JHB3ZHMuYXR0ciggJ3JlcXVpcmVkJywgJ3JlcXVpcmVkJyApO1xuXG5cdFx0XHRpZiAoIHNlbGYubWV0ZXJfZXhpc3RzICkge1xuXHRcdFx0XHQvLyBhZGQgdGhlIHN0cmVuZ3RoIGNoZWNrIG9uIGZvcm0gc3VibWlzc2lvblxuXHRcdFx0XHQkZm9ybS5vbiggJ3N1Ym1pdCcsIExMTVMuUGFzc3dvcmRTdHJlbmd0aCwgTExNUy5QYXNzd29yZFN0cmVuZ3RoLnN1Ym1pdCApO1xuXHRcdFx0fVxuXG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIHJlbW92ZSByZXF1aXJlbWVudCBzbyBmb3JtIGNhbiBiZSBzdWJtaXR0ZWQgd2hpbGUgZmllbGRzIGFyZSBoaWRkZW5cblx0XHRcdC8vIGFuZCBjbGVhciB0aGUgcGFzc3dvcmQgb3V0IG9mIHRoZSBmaWVsZHMgaWYgdHlwaW5nIHN0YXJ0ZWRcblx0XHRcdCRwd2RzLnJlbW92ZUF0dHIoICdyZXF1aXJlZCcgKS52YWwoICcnICk7XG5cblx0XHRcdGlmICggc2VsZi5tZXRlcl9leGlzdHMgKSB7XG5cblx0XHRcdFx0Ly8gcmVtb3ZlIHRoZSBwYXNzd29yZCBzdHJlbmd0aCBzdWJtaXNzaW9uIGNoZWNrXG5cdFx0XHRcdCRmb3JtLm9mZiggJ3N1Ym1pdCcsIExMTVMuUGFzc3dvcmRTdHJlbmd0aC5zdWJtaXQgKTtcblx0XHRcdFx0Ly8gY2xlYXJzIHRoZSBtZXRlclxuXHRcdFx0XHRMTE1TLlBhc3N3b3JkU3RyZW5ndGguY2hlY2tfc3RyZW5ndGgoKTtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdH0sXG5cbn07XG4iLCIvKiBnbG9iYWwgTExNUywgJCAqL1xuXG4vKipcbiAqIFVzZXIgZXZlbnQvaW50ZXJhY3Rpb24gdHJhY2tpbmcuXG4gKlxuICogQHNpbmNlIDMuMzYuMFxuICogQHNpbmNlIDMuMzYuMiBGaXggSlMgZXJyb3Igd2hlbiBzZXR0aW5ncyBhcmVuJ3QgbG9hZGVkLlxuICogQHNpbmNlIFt2ZXJzaW9uXSBTZXQgYHNldHRpbmdzYCBhcyBhbiBlbXB0eSBvYmplY3Qgd2hlbiBubyBzZXR0aW5ncyBzdXBwbGllZC5cbiAqICAgICAgICAgICAgICAgT25seSBhdHRlbXB0IHRvIGFkZCBhIG5vbmNlIHRvIHRoZSBkYXRhc3RvcmUgd2hlbiBhIG5vbmNlIGV4aXN0cyBpbiB0aGUgc2V0dGluZ3Mgb2JqZWN0LlxuICovXG5MTE1TLlRyYWNraW5nID0gZnVuY3Rpb24oIHNldHRpbmdzICkge1xuXG5cdHNldHRpbmdzID0gc2V0dGluZ3MgfHwge307XG5cblx0dmFyIHNlbGYgPSB0aGlzLFxuXHRcdHN0b3JlID0gbmV3IExMTVMuU3RvcmFnZSggJ2xsbXMtdHJhY2tpbmcnICk7XG5cblx0c2V0dGluZ3MgPSAnc3RyaW5nJyA9PT0gdHlwZW9mIHNldHRpbmdzID8gSlNPTi5wYXJzZSggc2V0dGluZ3MgKSA6IHNldHRpbmdzO1xuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXplIC8gQmluZCBhbGwgdHJhY2tpbmcgZXZlbnQgbGlzdGVuZXJzLlxuXHQgKlxuXHQgKiBAc2luY2UgMy4zNi4wXG5cdCAqIEBzaW5jZSBbdmVyc2lvbl0gT25seSBhdHRlbXB0IHRvIGFkZCBhIG5vbmNlIHRvIHRoZSBkYXRhc3RvcmUgd2hlbiBhIG5vbmNlIGV4aXN0cyBpbiB0aGUgc2V0dGluZ3Mgb2JqZWN0LlxuXHQgKlxuXHQgKiBAcmV0dXJuIHt2b2lkfVxuXHQgKi9cblx0ZnVuY3Rpb24gaW5pdCgpIHtcblxuXHRcdC8vIFNldCB0aGUgbm9uY2UgZm9yIHNlcnZlci1zaWRlIHZlcmlmaWNhdGlvbi5cblx0XHRpZiAoIHNldHRpbmdzLm5vbmNlICkge1xuXG5cdFx0XHRzdG9yZS5zZXQoICdub25jZScsIHNldHRpbmdzLm5vbmNlICk7XG5cblx0XHR9XG5cblx0XHRzZWxmLmFkZEV2ZW50KCAncGFnZS5sb2FkJyApO1xuXG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoICdiZWZvcmV1bmxvYWQnLCBvbkJlZm9yZVVubG9hZCApO1xuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCAndW5sb2FkJywgb25VbmxvYWQgKTtcblxuXHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoICd2aXNpYmlsaXR5Y2hhbmdlJywgb25WaXNpYmlsaXR5Q2hhbmdlICk7XG5cblx0fTtcblxuXHQvKipcblx0ICogQWRkIGFuIGV2ZW50LlxuXHQgKlxuXHQgKiBAc2luY2UgMy4zNi4wXG5cdCAqIEBzaW5jZSAzLjM2LjIgRml4IGVycm9yIHdoZW4gc2V0dGluZ3MgYXJlbid0IGxvYWRlZC5cblx0ICpcblx0ICogQHBhcmFtIHN0cmluZ3xvYmogZXZlbnQgRXZlbnQgSWQgKHR5cGUuZXZlbnQpIG9yIGEgZnVsbCBldmVudCBvYmplY3QgZnJvbSBgdGhpcy5tYWtlRXZlbnRPYmooKWAuXG5cdCAqIEBwYXJhbSBpbnQgYXJncyBPcHRpb25hbCBhZGRpdGlvbmFsIGFyZ3VtZW50cyB0byBwYXNzIHRvIGB0aGlzLm1ha2VFdmVudE9iaigpYC5cblx0ICogQHJldHVybiB7dm9pZH1cblx0ICovXG5cdHRoaXMuYWRkRXZlbnQgPSBmdW5jdGlvbiggZXZlbnQsIGFyZ3MgKSB7XG5cblx0XHRhcmdzICA9IGFyZ3MgfHwge307XG5cdFx0aWYgKCAnc3RyaW5nJyA9PT0gdHlwZW9mIGV2ZW50ICkge1xuXHRcdFx0YXJncy5ldmVudCA9IGV2ZW50O1xuXHRcdH1cblxuXHRcdC8vIElmIHRoZSBldmVudCBpc24ndCByZWdpc3RlcmVkIGluIHRoZSBzZXR0aW5ncyBkb24ndCBwcm9jZWVkLlxuXHRcdGlmICggIXNldHRpbmdzLmV2ZW50cyB8fCAtMSA9PT0gc2V0dGluZ3MuZXZlbnRzLmluZGV4T2YoIGFyZ3MuZXZlbnQgKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRldmVudCA9IHNlbGYubWFrZUV2ZW50T2JqKCBhcmdzICk7XG5cblx0XHR2YXIgYWxsID0gc3RvcmUuZ2V0KCAnZXZlbnRzJywgW10gKTtcblx0XHRhbGwucHVzaCggZXZlbnQgKTtcblx0XHRzdG9yZS5zZXQoICdldmVudHMnLCBhbGwgKTtcblxuXHR9XG5cblx0LyoqXG5cdCAqIFJldHJpZXZlIGluaXRpYWxpemF0aW9uIHNldHRpbmdzLlxuXHQgKlxuXHQgKiBAc2luY2UgMy4zNi4wXG5cdCAqXG5cdCAqIEByZXR1cm4gb2JqXG5cdCAqL1xuXHR0aGlzLmdldFNldHRpbmdzID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHNldHRpbmdzO1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZSBhbiBldmVudCBvYmplY3Qgc3VpdGFibGUgdG8gc2F2ZSBhcyBhbiBldmVudC5cblx0ICpcblx0ICogQHNpbmNlIDMuMzYuMFxuXHQgKlxuXHQgKiBAcGFyYW0gb2JqIGV2ZW50IHtcblx0ICogICAgIEV2ZW50IGhhc2hcblx0ICpcblx0ICogICAgIEBwYXJhbSB7c3RyaW5nfSBldmVudCAoUmVxdWlyZWQpIEV2ZW50IElELCBlZzogXCJwYWdlLmxvYWRcIi5cblx0ICogICAgIEBwYXJhbSB7dXJsfSB1cmwgRXZlbnQgVVJMLiAoT3B0aW9uYWwsIGFkZGVkIGF1dG9tYXRpY2FsbHkpIFN0b3JlZCBhcyBtZXRhZGF0YSBhbmQgdXNlZCB0byBpbmZlciBhbiBvYmplY3RfaWQgZm9yIHBvc3QgZXZlbnRzLlxuXHQgKiAgICAgQHBhcmFtIHt0aW1lfSBmbG9hdCAoT3B0aW9uYWwsIGFkZGVkIGF1dG9tYXRpY2FsbHkpIFRpbWVzdGFtcCAoaW4gbWlsbGlzZWNvbmRzKS4gVXNlZCBmb3IgdGhlIGV2ZW50IGNyZWF0aW9uIGRhdGUuXG5cdCAqICAgICBAcGFyYW0ge2ludH0gb2JqX2lkIChPcHRpb25hbCkuIFRoZSBvYmplY3QgSUQuIEluZmVycmVkIGF1dG9tYXRpY2FsbHkgdmlhIGB1cmxgIGlmIG5vdCBwcm92aWRlZC5cblx0ICogICAgIEBwYXJhbSB7b2JqfSBtZXRhIChPcHRpb25hbCkgSGFzaCBvZiBtZXRhZGF0YSB0byBzdG9yZSB3aXRoIHRoZSBldmVudC5cblx0ICogfVxuXHQgKiBAcmV0dXJuIG9ialxuXHQgKi9cblx0dGhpcy5tYWtlRXZlbnRPYmogPSBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0cmV0dXJuIE9iamVjdC5hc3NpZ24oIGV2ZW50LCB7XG5cdFx0XHR1cmw6IHdpbmRvdy5sb2NhdGlvbi5ocmVmLFxuXHRcdFx0dGltZTogTWF0aC5yb3VuZCggbmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwICksXG5cdFx0fSApO1xuXHR9XG5cblxuXHQvKipcblx0ICogUmVtb3ZlIHRoZSB2aXNpYmlsaXR5IGNoYW5nZSBldmVudCBsaXN0ZW5lciBvbiB3aW5kb3cuYmVmb3JldW5sb2FkXG5cdCAqXG5cdCAqIFByZXZlbnRzIGFjdHVhbCB1bmxvYWRpbmcgZnJvbSByZWNvcmRpbmcgYSBibHVyIGV2ZW50IGZyb20gdGhlIHZpc2liaWxpdHkgY2hhbmdlIGxpc3RlbmVyXG5cdCAqXG5cdCAqIEBwYXJhbSBvYmogZSBKUyBldmVudCBvYmplY3QuXG5cdCAqIEByZXR1cm4gdm9pZFxuXHQgKi9cblx0ZnVuY3Rpb24gb25CZWZvcmVVbmxvYWQoIGUgKSB7XG5cdFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ3Zpc2liaWxpdHljaGFuZ2UnLCBvblZpc2liaWxpdHlDaGFuZ2UgKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZWNvcmQgYSBgcGFnZS5leGl0YCBldmVudCBvbiB3aW5kb3cudW5sb2FkLlxuXHQgKlxuXHQgKiBAc2luY2UgMy4zNi4wXG5cdCAqXG5cdCAqIEBwYXJhbSBvYmogZSBKUyBldmVudCBvYmplY3QuXG5cdCAqIEByZXR1cm4gdm9pZFxuXHQgKi9cblx0ZnVuY3Rpb24gb25VbmxvYWQoIGUgKSB7XG5cdFx0c2VsZi5hZGRFdmVudCggJ3BhZ2UuZXhpdCcgKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZWNvcmQgYHBhZ2UuYmx1cmAgYW5kIGBwYWdlLmZvY3VzYCBldmVudHMgdmlhIGRvY3VtZW50LnZpc2lsaWJpdHljaGFuZ2UgZXZlbnRzLlxuXHQgKlxuXHQgKiBAc2luY2UgMy4zNi4wXG5cdCAqXG5cdCAqIEBwYXJhbSBvYmogZSBKUyBldmVudCBvYmplY3QuXG5cdCAqIEByZXR1cm4gdm9pZFxuXHQgKi9cblx0ZnVuY3Rpb24gb25WaXNpYmlsaXR5Q2hhbmdlKCBlICkge1xuXG5cdFx0dmFyIGV2ZW50ID0gZG9jdW1lbnQuaGlkZGVuID8gJ3BhZ2UuYmx1cicgOiAncGFnZS5mb2N1cyc7XG5cdFx0c2VsZi5hZGRFdmVudCggZXZlbnQgKTtcblxuXHR9XG5cblx0Ly8gSW5pdGlhbGl6ZSBvbiB0aGUgZnJvbnRlbmQgb25seS5cblx0aWYgKCAhICQoICdib2R5JyApLmhhc0NsYXNzKCAnd3AtYWRtaW4nICkgKSB7XG5cdFx0aW5pdCgpO1xuXHR9XG5cbn07XG5cbmxsbXMudHJhY2tpbmcgPSBuZXcgTExNUy5UcmFja2luZyggbGxtcy50cmFja2luZyApO1xuIiwiLyoqXG4gKiBSZXN0IE1ldGhvZHNcbiAqIE1hbmFnZXMgVVJMIGFuZCBSZXN0IG9iamVjdCBwYXJzaW5nXG4gKlxuICogQHBhY2thZ2UgTGlmdGVyTE1TL1NjcmlwdHNcbiAqXG4gKiBAc2luY2UgVW5rbm93blxuICogQHZlcnNpb24gIFVua25vd25cbiAqL1xuXG5MTE1TLlJlc3QgPSB7XG5cblx0LyoqXG5cdCAqIEluaXRcblx0ICogbG9hZHMgY2xhc3MgbWV0aG9kc1xuXHQgKi9cblx0aW5pdDogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5iaW5kKCk7XG5cdH0sXG5cblx0LyoqXG5cdCAqIEJpbmQgTWV0aG9kXG5cdCAqIEhhbmRsZXMgZG9tIGJpbmRpbmcgb24gbG9hZFxuXHQgKlxuXHQgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cblx0ICovXG5cdGJpbmQ6IGZ1bmN0aW9uKCkge1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBTZWFyY2hlcyBmb3Igc3RyaW5nIG1hdGNoZXMgaW4gdXJsIHBhdGhcblx0ICpcblx0ICogQHBhcmFtICB7QXJyYXl9ICBzdHJpbmdzIFtBcnJheSBvZiBzdHJpbmdzIHRvIHNlYXJjaCBmb3IgbWF0Y2hlc11cblx0ICogQHJldHVybiB7Qm9vbGVhbn0gICAgICAgICBbV2FzIGEgbWF0Y2ggZm91bmQ/XVxuXHQgKi9cblx0aXNfcGF0aDogZnVuY3Rpb24oIHN0cmluZ3MgKSB7XG5cblx0XHR2YXIgcGF0aF9leGlzdHMgPSBmYWxzZSxcblx0XHRcdHVybCAgICAgICAgID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG5cblx0XHRmb3IgKCB2YXIgaSA9IDA7IGkgPCBzdHJpbmdzLmxlbmd0aDsgaSsrICkge1xuXG5cdFx0XHRpZiAoIHVybC5zZWFyY2goIHN0cmluZ3NbaV0gKSA+IDAgJiYgISBwYXRoX2V4aXN0cyApIHtcblxuXHRcdFx0XHRwYXRoX2V4aXN0cyA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHBhdGhfZXhpc3RzO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBSZXRyaWV2ZXMgcXVlcnkgdmFyaWFibGVzXG5cdCAqXG5cdCAqIEByZXR1cm4ge1tBcnJheV19IFthcnJheSBvYmplY3Qgb2YgcXVlcnkgdmFyaWFibGUga2V5PT52YWx1ZSBwYWlyc11cblx0ICovXG5cdGdldF9xdWVyeV92YXJzOiBmdW5jdGlvbigpIHtcblxuXHRcdHZhciB2YXJzICAgPSBbXSwgaGFzaCxcblx0XHRcdGhhc2hlcyA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNsaWNlKCB3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCAnPycgKSArIDEgKS5zcGxpdCggJyYnICk7XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGhhc2hlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0aGFzaCA9IGhhc2hlc1tpXS5zcGxpdCggJz0nICk7XG5cdFx0XHR2YXJzLnB1c2goIGhhc2hbMF0gKTtcblx0XHRcdHZhcnNbaGFzaFswXV0gPSBoYXNoWzFdO1xuXHRcdH1cblxuXHRcdHJldHVybiB2YXJzO1xuXHR9XG5cbn07XG4iXX0=
