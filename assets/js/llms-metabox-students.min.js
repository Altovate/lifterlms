!function(t,n){window.llms=window.llms||{};var e=function(){this.init=function(){var n=["course","llms_membership"];window.llms.post.post_type&&-1!==n.indexOf(window.llms.post.post_type)&&(this.$metabox=t("#lifterlms-students"),this.bind())},this.bind=function(){var n=this;this.$metabox.on("click","a.llms-remove-student",function(e){e.preventDefault(),n.remove_student(t(this))}),this.$metabox.on("click","a.llms-add-student",function(e){e.preventDefault(),n.add_student(t(this))}),t("#llms-add-student-select").llmsStudentsSelect2({multiple:!0}),t("#llms-enroll-students").on("click",function(){n.enroll_students(t(this))})},this.add_student=function(t){this.update_student_enrollment(t.attr("data-id"),"add")},this.enroll_students=function(n){var e=t("#llms-add-student-select"),s=e.val(),l=this.$metabox.find(".llms-metabox-students-add-new");LLMS.Spinner.start(l),window.LLMS.Ajax.call({data:{action:"bulk_enroll_students",student_ids:s},beforeSend:function(t){s||(n.before('<span class="llms-error">'+LLMS.l10n.translate("Please select a student to enroll")+"</span>"),t.abort(),LLMS.Spinner.stop(l))},success:function(n){e.val(null).trigger("change"),LLMS.Spinner.stop(l),window.llms.admin_tables.reload(t("#llms-gb-table-student-management"))}})},this.remove_student=function(t){this.update_student_enrollment(t.attr("data-id"),"remove")},this.update_student_enrollment=function(n,e){var s=t("#llms-gb-table-student-management"),l=s.closest(".llms-table-wrap");LLMS.Spinner.start(l),window.LLMS.Ajax.call({data:{action:"update_student_enrollment",status:e,student_id:n},success:function(){window.llms.admin_tables.reload(s)}})},this.init()};window.llms.MetaboxStudents=new e}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxsbXMtbWV0YWJveC1zdHVkZW50cy5qcyJdLCJuYW1lcyI6WyIkIiwidW5kZWZpbmVkIiwid2luZG93IiwibGxtcyIsIk1ldGFib3hTdHVkZW50cyIsInRoaXMiLCJpbml0Iiwic2NyZWVucyIsInBvc3QiLCJwb3N0X3R5cGUiLCJpbmRleE9mIiwiJG1ldGFib3giLCJiaW5kIiwic2VsZiIsIm9uIiwiZSIsInByZXZlbnREZWZhdWx0IiwicmVtb3ZlX3N0dWRlbnQiLCJhZGRfc3R1ZGVudCIsImxsbXNTdHVkZW50c1NlbGVjdDIiLCJtdWx0aXBsZSIsImVucm9sbF9zdHVkZW50cyIsIiRlbCIsInVwZGF0ZV9zdHVkZW50X2Vucm9sbG1lbnQiLCJhdHRyIiwiJHNlbGVjdCIsImlkcyIsInZhbCIsIiRjb250YWluZXIiLCJmaW5kIiwiTExNUyIsIlNwaW5uZXIiLCJzdGFydCIsIkFqYXgiLCJjYWxsIiwiZGF0YSIsImFjdGlvbiIsInN0dWRlbnRfaWRzIiwiYmVmb3JlU2VuZCIsInhociIsImJlZm9yZSIsImwxMG4iLCJ0cmFuc2xhdGUiLCJhYm9ydCIsInN0b3AiLCJzdWNjZXNzIiwiciIsInRyaWdnZXIiLCJhZG1pbl90YWJsZXMiLCJyZWxvYWQiLCJpZCIsInN0YXR1cyIsIiR0YWJsZSIsImNsb3Nlc3QiLCJzdHVkZW50X2lkIiwialF1ZXJ5Il0sIm1hcHBpbmdzIjoiQ0FLQyxTQUFZQSxFQUFHQyxHQUVmQyxPQUFPQyxLQUFPRCxPQUFPQyxRQUVyQixJQUFJQyxHQUFrQixXQVFyQkMsS0FBS0MsS0FBTyxXQUVYLEdBQUlDLElBQVksU0FBVSxrQkFFckJMLFFBQU9DLEtBQUtLLEtBQUtDLGdCQUFvQkYsRUFBUUcsUUFBU1IsT0FBT0MsS0FBS0ssS0FBS0MsYUFFM0VKLEtBQUtNLFNBQVdYLEVBQUcsdUJBRW5CSyxLQUFLTyxTQVdQUCxLQUFLTyxLQUFPLFdBRVgsR0FBSUMsR0FBT1IsSUFFWEEsTUFBS00sU0FBU0csR0FBSSxRQUFTLHdCQUF5QixTQUFVQyxHQUM3REEsRUFBRUMsaUJBQ0ZILEVBQUtJLGVBQWdCakIsRUFBR0ssU0FHekJBLEtBQUtNLFNBQVNHLEdBQUksUUFBUyxxQkFBc0IsU0FBVUMsR0FDMURBLEVBQUVDLGlCQUNGSCxFQUFLSyxZQUFhbEIsRUFBR0ssU0FHdEJMLEVBQUcsNEJBQTZCbUIscUJBQXVCQyxVQUFVLElBRWpFcEIsRUFBRyx5QkFBMEJjLEdBQUksUUFBUyxXQUN6Q0QsRUFBS1EsZ0JBQWlCckIsRUFBR0ssVUFXM0JBLEtBQUthLFlBQWMsU0FBVUksR0FDNUJqQixLQUFLa0IsMEJBQTJCRCxFQUFJRSxLQUFNLFdBQWEsUUFVeERuQixLQUFLZ0IsZ0JBQWtCLFNBQVVDLEdBRWhDLEdBQ0NHLEdBQVV6QixFQUFHLDRCQUNiMEIsRUFBTUQsRUFBUUUsTUFDZEMsRUFBYXZCLEtBQUtNLFNBQVNrQixLQUFNLGlDQUVsQ0MsTUFBS0MsUUFBUUMsTUFBT0osR0FFcEIxQixPQUFPNEIsS0FBS0csS0FBS0MsTUFDaEJDLE1BQ0NDLE9BQVEsdUJBQ1JDLFlBQWFYLEdBRWRZLFdBQVksU0FBVUMsR0FDZGIsSUFDTkosRUFBSWtCLE9BQVEsNEJBQThCVixLQUFLVyxLQUFLQyxVQUFXLHFDQUF3QyxXQUN2R0gsRUFBSUksUUFDSmIsS0FBS0MsUUFBUWEsS0FBTWhCLEtBR3JCaUIsUUFBUyxTQUFVQyxHQUVsQnJCLEVBQVFFLElBQUssTUFBT29CLFFBQVMsVUFDN0JqQixLQUFLQyxRQUFRYSxLQUFNaEIsR0FDbkIxQixPQUFPQyxLQUFLNkMsYUFBYUMsT0FBUWpELEVBQUcsMENBZXZDSyxLQUFLWSxlQUFpQixTQUFVSyxHQUMvQmpCLEtBQUtrQiwwQkFBMkJELEVBQUlFLEtBQU0sV0FBYSxXQVd4RG5CLEtBQUtrQiwwQkFBNEIsU0FBVTJCLEVBQUlDLEdBRTlDLEdBQUlDLEdBQVNwRCxFQUFHLHFDQUNmNEIsRUFBYXdCLEVBQU9DLFFBQVMsbUJBRTlCdkIsTUFBS0MsUUFBUUMsTUFBT0osR0FFcEIxQixPQUFPNEIsS0FBS0csS0FBS0MsTUFDaEJDLE1BQ0NDLE9BQVEsNEJBQ1JlLE9BQVFBLEVBQ1JHLFdBQVlKLEdBRWJMLFFBQVMsV0FFUjNDLE9BQU9DLEtBQUs2QyxhQUFhQyxPQUFRRyxPQVFwQy9DLEtBQUtDLE9BS05KLFFBQU9DLEtBQUtDLGdCQUFrQixHQUFJQSxJQUU5Qm1EIiwiZmlsZSI6ImxsbXMtbWV0YWJveC1zdHVkZW50cy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIExpZnRlckxNUyBTdHVkZW50cyBNZXRhYm94IEZ1bmN0aW9uc1xuICogQHNpbmNlICAzLjAuMFxuICogQHZlcnNpb24gIDMuMC4wXG4gKi9cbjsoIGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7XG5cblx0d2luZG93LmxsbXMgPSB3aW5kb3cubGxtcyB8fCB7fTtcblxuXHR2YXIgTWV0YWJveFN0dWRlbnRzID0gZnVuY3Rpb24oKSB7XG5cblx0XHQvKipcblx0XHQgKiBJbml0aWFsaXplXG5cdFx0ICogQHJldHVybiB2b2lkXG5cdFx0ICogQHNpbmNlICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjAuMFxuXHRcdCAqL1xuXHRcdHRoaXMuaW5pdCA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgc2NyZWVucyA9IFsgJ2NvdXJzZScsICdsbG1zX21lbWJlcnNoaXAnIF07XG5cblx0XHRcdGlmICggd2luZG93LmxsbXMucG9zdC5wb3N0X3R5cGUgJiYgLTEgIT09IHNjcmVlbnMuaW5kZXhPZiggd2luZG93LmxsbXMucG9zdC5wb3N0X3R5cGUgKSApIHtcblxuXHRcdFx0XHR0aGlzLiRtZXRhYm94ID0gJCggJyNsaWZ0ZXJsbXMtc3R1ZGVudHMnICk7XG5cblx0XHRcdFx0dGhpcy5iaW5kKCk7XG5cdFx0XHR9XG5cblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogQmluZCBkb20gZXZlbnRzXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy40LjBcblx0XHQgKi9cblx0XHR0aGlzLmJpbmQgPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0XHR0aGlzLiRtZXRhYm94Lm9uKCAnY2xpY2snLCAnYS5sbG1zLXJlbW92ZS1zdHVkZW50JywgZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0c2VsZi5yZW1vdmVfc3R1ZGVudCggJCggdGhpcyApICk7XG5cdFx0XHR9ICk7XG5cblx0XHRcdHRoaXMuJG1ldGFib3gub24oICdjbGljaycsICdhLmxsbXMtYWRkLXN0dWRlbnQnLCBmdW5jdGlvbiggZSApIHtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRzZWxmLmFkZF9zdHVkZW50KCAkKCB0aGlzICkgKTtcblx0XHRcdH0gKTtcblxuXHRcdFx0JCggJyNsbG1zLWFkZC1zdHVkZW50LXNlbGVjdCcgKS5sbG1zU3R1ZGVudHNTZWxlY3QyKCB7IG11bHRpcGxlOiB0cnVlIH0gKTtcblxuXHRcdFx0JCggJyNsbG1zLWVucm9sbC1zdHVkZW50cycgKS5vbiggJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHNlbGYuZW5yb2xsX3N0dWRlbnRzKCAkKCB0aGlzICkgKTtcblx0XHRcdH0gKTtcblxuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBBZGQgYSBTdHVkZW50XG5cdFx0ICogQHBhcmFtICAgIG9iaiAgJGVsICBqUXVlcnkgc2VsZWN0b3Igb2YgdGhlIGFkZCBidXR0b25cblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4wLjBcblx0XHQgKi9cblx0XHR0aGlzLmFkZF9zdHVkZW50ID0gZnVuY3Rpb24oICRlbCApIHtcblx0XHRcdHRoaXMudXBkYXRlX3N0dWRlbnRfZW5yb2xsbWVudCggJGVsLmF0dHIoICdkYXRhLWlkJyApLCAnYWRkJyApO1xuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBIYW5kbGUgYnVsayBlbnJvbGxtZW50IHZpYSBcIkVucm9sbCBOZXcgU3R1ZGVudHNcIiBhcmVhXG5cdFx0ICogQHBhcmFtICAgIG9iaiAgICRlbCAgalF1ZXJ5IHNlbGVjdG9yIGZvciB0aGUgdHJpZ2dlcmluZyBidXR0b25cblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjQuMFxuXHRcdCAqL1xuXHRcdHRoaXMuZW5yb2xsX3N0dWRlbnRzID0gZnVuY3Rpb24oICRlbCApIHtcblxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzLFxuXHRcdFx0XHQkc2VsZWN0ID0gJCggJyNsbG1zLWFkZC1zdHVkZW50LXNlbGVjdCcgKSxcblx0XHRcdFx0aWRzID0gJHNlbGVjdC52YWwoKSxcblx0XHRcdFx0JGNvbnRhaW5lciA9IHRoaXMuJG1ldGFib3guZmluZCggJy5sbG1zLW1ldGFib3gtc3R1ZGVudHMtYWRkLW5ldycgKTtcblxuXHRcdFx0TExNUy5TcGlubmVyLnN0YXJ0KCAkY29udGFpbmVyICk7XG5cblx0XHRcdHdpbmRvdy5MTE1TLkFqYXguY2FsbCgge1xuXHRcdFx0XHRkYXRhOiB7XG5cdFx0XHRcdFx0YWN0aW9uOiAnYnVsa19lbnJvbGxfc3R1ZGVudHMnLFxuXHRcdFx0XHRcdHN0dWRlbnRfaWRzOiBpZHMsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKCB4aHIgKSB7XG5cdFx0XHRcdFx0aWYgKCAhIGlkcyApIHtcblx0XHRcdFx0XHRcdCRlbC5iZWZvcmUoICc8c3BhbiBjbGFzcz1cImxsbXMtZXJyb3JcIj4nICsgTExNUy5sMTBuLnRyYW5zbGF0ZSggJ1BsZWFzZSBzZWxlY3QgYSBzdHVkZW50IHRvIGVucm9sbCcgKSArICc8L3NwYW4+JyApO1xuXHRcdFx0XHRcdFx0eGhyLmFib3J0KCk7XG5cdFx0XHRcdFx0XHRMTE1TLlNwaW5uZXIuc3RvcCggJGNvbnRhaW5lciApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24oIHIgKSB7XG5cblx0XHRcdFx0XHQkc2VsZWN0LnZhbCggbnVsbCApLnRyaWdnZXIoICdjaGFuZ2UnICk7XG5cdFx0XHRcdFx0TExNUy5TcGlubmVyLnN0b3AoICRjb250YWluZXIgKTtcblx0XHRcdFx0XHR3aW5kb3cubGxtcy5hZG1pbl90YWJsZXMucmVsb2FkKCAkKCAnI2xsbXMtZ2ItdGFibGUtc3R1ZGVudC1tYW5hZ2VtZW50JyApICk7XG5cblx0XHRcdFx0fSxcblx0XHRcdH0gKTtcblxuXG5cblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogUmVtb3ZlIGEgU3R1ZGVudFxuXHRcdCAqIEBwYXJhbSAgICBvYmogICRlbCAgalF1ZXJ5IHNlbGVjdG9yIG9mIHRoZSBhZGQgYnV0dG9uXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMC4wXG5cdFx0ICovXG5cdFx0dGhpcy5yZW1vdmVfc3R1ZGVudCA9IGZ1bmN0aW9uKCAkZWwgKSB7XG5cdFx0XHR0aGlzLnVwZGF0ZV9zdHVkZW50X2Vucm9sbG1lbnQoICRlbC5hdHRyKCAnZGF0YS1pZCcgKSwgJ3JlbW92ZScgKTtcblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogRXhlY3V0ZSBBSkFYIGNhbGwsIGFkZCBzcGlubmVycywgdXBkYXRlIGh0bWwgdmlld1xuXHRcdCAqIEBwYXJhbSAgICBpbnQgICAgICBpZCAgICAgIHN0dWRlbnQgaWRcblx0XHQgKiBAcGFyYW0gICAgc3RyaW5nICAgc3RhdHVzICBuZXcgc3RhdHVzIFthZGR8cmVtb3ZlXVxuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuNC4wXG5cdFx0ICovXG5cdFx0dGhpcy51cGRhdGVfc3R1ZGVudF9lbnJvbGxtZW50ID0gZnVuY3Rpb24oIGlkLCBzdGF0dXMgKSB7XG5cblx0XHRcdHZhciAkdGFibGUgPSAkKCAnI2xsbXMtZ2ItdGFibGUtc3R1ZGVudC1tYW5hZ2VtZW50JyApLFxuXHRcdFx0XHQkY29udGFpbmVyID0gJHRhYmxlLmNsb3Nlc3QoICcubGxtcy10YWJsZS13cmFwJyApO1xuXG5cdFx0XHRMTE1TLlNwaW5uZXIuc3RhcnQoICRjb250YWluZXIgKTtcblxuXHRcdFx0d2luZG93LkxMTVMuQWpheC5jYWxsKCB7XG5cdFx0XHRcdGRhdGE6IHtcblx0XHRcdFx0XHRhY3Rpb246ICd1cGRhdGVfc3R1ZGVudF9lbnJvbGxtZW50Jyxcblx0XHRcdFx0XHRzdGF0dXM6IHN0YXR1cyxcblx0XHRcdFx0XHRzdHVkZW50X2lkOiBpZCxcblx0XHRcdFx0fSxcblx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0Ly8gc3Bpbm5lciBkb2Vzbid0IHN0b3AgYmVjYXVzZSB0aGUgdGFibGUgcmVsb2FkZXIgd2lsbCBzdG9wIGl0XG5cdFx0XHRcdFx0d2luZG93LmxsbXMuYWRtaW5fdGFibGVzLnJlbG9hZCggJHRhYmxlICk7XG5cdFx0XHRcdH0sXG5cdFx0XHR9ICk7XG5cblx0XHR9O1xuXG5cblx0XHQvLyBnb1xuXHRcdHRoaXMuaW5pdCgpO1xuXG5cdH07XG5cblx0Ly8gaW5pdGFsaXplIHRoZSBvYmplY3Rcblx0d2luZG93LmxsbXMuTWV0YWJveFN0dWRlbnRzID0gbmV3IE1ldGFib3hTdHVkZW50cygpO1xuXG59ICkoIGpRdWVyeSApO1xuIl19
