!function(d,t){window.llms=window.llms||{};window.llms.MetaboxStudents=new function(){this.init=function(){window.llms.post.post_type&&-1!==["course","llms_membership"].indexOf(window.llms.post.post_type)&&(this.$metabox=d("#lifterlms-students"),this.bind())},this.bind=function(){var e=this;this.$metabox.on("click","a.llms-remove-student",function(t){t.preventDefault(),e.remove_student(d(this))}),this.$metabox.on("click","a.llms-delete-enrollment",function(t){t.preventDefault(),e.delete_student_enrollment(d(this))}),this.$metabox.on("click","a.llms-add-student",function(t){t.preventDefault(),e.add_student(d(this))}),d("#llms-add-student-select").llmsStudentsSelect2({multiple:!0}),d("#llms-enroll-students").on("click",function(){e.enroll_students(d(this))})},this.add_student=function(t){this.update_student_enrollment(t.attr("data-id"),"add")},this.enroll_students=function(e){var n=d("#llms-add-student-select"),s=n.val(),l=this.$metabox.find(".llms-metabox-students-add-new");LLMS.Spinner.start(l),window.LLMS.Ajax.call({data:{action:"bulk_enroll_students",student_ids:s},beforeSend:function(t){s||(e.before('<span class="llms-error">'+LLMS.l10n.translate("Please select a student to enroll")+"</span>"),t.abort(),LLMS.Spinner.stop(l))},success:function(t){n.val(null).trigger("change"),LLMS.Spinner.stop(l),window.llms.admin_tables.reload(d("#llms-gb-table-student-management"))}})},this.remove_student=function(t){this.update_student_enrollment(t.attr("data-id"),"remove")},this.delete_student_enrollment=function(t){this.update_student_enrollment(t.attr("data-id"),"delete")},this.update_student_enrollment=function(t,e){var n=d("#llms-gb-table-student-management"),s=n.closest(".llms-table-wrap");LLMS.Spinner.start(s),window.LLMS.Ajax.call({data:{action:"update_student_enrollment",status:e,student_id:t},success:function(){window.llms.admin_tables.reload(n)}})},this.init()}}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxsbXMtbWV0YWJveC1zdHVkZW50cy5qcyJdLCJuYW1lcyI6WyIkIiwidW5kZWZpbmVkIiwid2luZG93IiwibGxtcyIsIk1ldGFib3hTdHVkZW50cyIsInRoaXMiLCJpbml0IiwicG9zdCIsInBvc3RfdHlwZSIsImluZGV4T2YiLCIkbWV0YWJveCIsImJpbmQiLCJzZWxmIiwib24iLCJlIiwicHJldmVudERlZmF1bHQiLCJyZW1vdmVfc3R1ZGVudCIsImRlbGV0ZV9zdHVkZW50X2Vucm9sbG1lbnQiLCJhZGRfc3R1ZGVudCIsImxsbXNTdHVkZW50c1NlbGVjdDIiLCJtdWx0aXBsZSIsImVucm9sbF9zdHVkZW50cyIsIiRlbCIsInVwZGF0ZV9zdHVkZW50X2Vucm9sbG1lbnQiLCJhdHRyIiwiJHNlbGVjdCIsImlkcyIsInZhbCIsIiRjb250YWluZXIiLCJmaW5kIiwiTExNUyIsIlNwaW5uZXIiLCJzdGFydCIsIkFqYXgiLCJjYWxsIiwiZGF0YSIsImFjdGlvbiIsInN0dWRlbnRfaWRzIiwiYmVmb3JlU2VuZCIsInhociIsImJlZm9yZSIsImwxMG4iLCJ0cmFuc2xhdGUiLCJhYm9ydCIsInN0b3AiLCJzdWNjZXNzIiwiciIsInRyaWdnZXIiLCJhZG1pbl90YWJsZXMiLCJyZWxvYWQiLCJpZCIsInN0YXR1cyIsIiR0YWJsZSIsImNsb3Nlc3QiLCJzdHVkZW50X2lkIiwialF1ZXJ5Il0sIm1hcHBpbmdzIjoiQ0FNQSxTQUFZQSxFQUFHQyxHQUVkQyxPQUFPQyxLQUFPRCxPQUFPQyxNQUFRLEdBeUs3QkQsT0FBT0MsS0FBS0MsZ0JBQWtCLElBdktSLFdBUXJCQyxLQUFLQyxLQUFPLFdBSU5KLE9BQU9DLEtBQUtJLEtBQUtDLFlBQWMsSUFGdEIsQ0FBRSxTQUFVLG1CQUV3QkMsUUFBU1AsT0FBT0MsS0FBS0ksS0FBS0MsYUFFM0VILEtBQUtLLFNBQVdWLEVBQUcsdUJBRW5CSyxLQUFLTSxTQWNQTixLQUFLTSxLQUFPLFdBRVgsSUFBSUMsRUFBT1AsS0FFWEEsS0FBS0ssU0FBU0csR0FBSSxRQUFTLHdCQUF5QixTQUFVQyxHQUM3REEsRUFBRUMsaUJBQ0ZILEVBQUtJLGVBQWdCaEIsRUFBR0ssU0FHekJBLEtBQUtLLFNBQVNHLEdBQUksUUFBUywyQkFBNEIsU0FBVUMsR0FDaEVBLEVBQUVDLGlCQUNGSCxFQUFLSywwQkFBMkJqQixFQUFHSyxTQUdwQ0EsS0FBS0ssU0FBU0csR0FBSSxRQUFTLHFCQUFzQixTQUFVQyxHQUMxREEsRUFBRUMsaUJBQ0ZILEVBQUtNLFlBQWFsQixFQUFHSyxTQUd0QkwsRUFBRyw0QkFBNkJtQixvQkFBcUIsQ0FBRUMsVUFBVSxJQUVqRXBCLEVBQUcseUJBQTBCYSxHQUFJLFFBQVMsV0FDekNELEVBQUtTLGdCQUFpQnJCLEVBQUdLLFVBVzNCQSxLQUFLYSxZQUFjLFNBQVVJLEdBQzVCakIsS0FBS2tCLDBCQUEyQkQsRUFBSUUsS0FBTSxXQUFhLFFBVXhEbkIsS0FBS2dCLGdCQUFrQixTQUFVQyxHQUVoQyxJQUNDRyxFQUFVekIsRUFBRyw0QkFDYjBCLEVBQU1ELEVBQVFFLE1BQ2RDLEVBQWF2QixLQUFLSyxTQUFTbUIsS0FBTSxrQ0FFbENDLEtBQUtDLFFBQVFDLE1BQU9KLEdBRXBCMUIsT0FBTzRCLEtBQUtHLEtBQUtDLEtBQU0sQ0FDdEJDLEtBQU0sQ0FDTEMsT0FBUSx1QkFDUkMsWUFBYVgsR0FFZFksV0FBWSxTQUFVQyxHQUNkYixJQUNOSixFQUFJa0IsT0FBUSw0QkFBOEJWLEtBQUtXLEtBQUtDLFVBQVcscUNBQXdDLFdBQ3ZHSCxFQUFJSSxRQUNKYixLQUFLQyxRQUFRYSxLQUFNaEIsS0FHckJpQixRQUFTLFNBQVVDLEdBRWxCckIsRUFBUUUsSUFBSyxNQUFPb0IsUUFBUyxVQUM3QmpCLEtBQUtDLFFBQVFhLEtBQU1oQixHQUNuQjFCLE9BQU9DLEtBQUs2QyxhQUFhQyxPQUFRakQsRUFBRywwQ0FldkNLLEtBQUtXLGVBQWlCLFNBQVVNLEdBQy9CakIsS0FBS2tCLDBCQUEyQkQsRUFBSUUsS0FBTSxXQUFhLFdBV3hEbkIsS0FBS1ksMEJBQTRCLFNBQVVLLEdBQzFDakIsS0FBS2tCLDBCQUEyQkQsRUFBSUUsS0FBTSxXQUFhLFdBWXhEbkIsS0FBS2tCLDBCQUE0QixTQUFVMkIsRUFBSUMsR0FFOUMsSUFBSUMsRUFBU3BELEVBQUcscUNBQ2Y0QixFQUFhd0IsRUFBT0MsUUFBUyxvQkFFOUJ2QixLQUFLQyxRQUFRQyxNQUFPSixHQUVwQjFCLE9BQU80QixLQUFLRyxLQUFLQyxLQUFNLENBQ3RCQyxLQUFNLENBQ0xDLE9BQVEsNEJBQ1JlLE9BQVFBLEVBQ1JHLFdBQVlKLEdBRWJMLFFBQVMsV0FFUjNDLE9BQU9DLEtBQUs2QyxhQUFhQyxPQUFRRyxPQVFwQy9DLEtBQUtDLFFBdEtQLENBNktLaUQiLCJmaWxlIjoibGxtcy1tZXRhYm94LXN0dWRlbnRzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogTGlmdGVyTE1TIFN0dWRlbnRzIE1ldGFib3ggRnVuY3Rpb25zXG4gKlxuICogQHNpbmNlIDMuMC4wXG4gKiBAc2luY2UgMy4zMy4wIEFkZGVkIHRoZSBsb2dpYyB0byBoYW5kbGUgdGhlIFN0dWRlbnQncyBlbnJvbGxtZW50IGRlbGV0aW9uLlxuICovXG4oIGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7XG5cblx0d2luZG93LmxsbXMgPSB3aW5kb3cubGxtcyB8fCB7fTtcblxuXHR2YXIgTWV0YWJveFN0dWRlbnRzID0gZnVuY3Rpb24oKSB7XG5cblx0XHQvKipcblx0XHQgKiBJbml0aWFsaXplXG5cdFx0ICogQHJldHVybiB2b2lkXG5cdFx0ICogQHNpbmNlICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjAuMFxuXHRcdCAqL1xuXHRcdHRoaXMuaW5pdCA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgc2NyZWVucyA9IFsgJ2NvdXJzZScsICdsbG1zX21lbWJlcnNoaXAnIF07XG5cblx0XHRcdGlmICggd2luZG93LmxsbXMucG9zdC5wb3N0X3R5cGUgJiYgLTEgIT09IHNjcmVlbnMuaW5kZXhPZiggd2luZG93LmxsbXMucG9zdC5wb3N0X3R5cGUgKSApIHtcblxuXHRcdFx0XHR0aGlzLiRtZXRhYm94ID0gJCggJyNsaWZ0ZXJsbXMtc3R1ZGVudHMnICk7XG5cblx0XHRcdFx0dGhpcy5iaW5kKCk7XG5cdFx0XHR9XG5cblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogQmluZCBkb20gZXZlbnRzXG5cdFx0ICpcblx0XHQgKiBAc2luY2UgMy4wLjBcblx0XHQgKiBAc2luY2UgMy40LjAgVW5rbm93bi5cblx0XHQgKiBAc2luY2UgMy4zMy4wIEFkZGVkIGVucm9sbG1lbnQgZGVsZXRpb24gaGFuZGxlcnMuXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuIHZvaWRcblx0XHQgKi9cblx0XHR0aGlzLmJpbmQgPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0XHR0aGlzLiRtZXRhYm94Lm9uKCAnY2xpY2snLCAnYS5sbG1zLXJlbW92ZS1zdHVkZW50JywgZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0c2VsZi5yZW1vdmVfc3R1ZGVudCggJCggdGhpcyApICk7XG5cdFx0XHR9ICk7XG5cblx0XHRcdHRoaXMuJG1ldGFib3gub24oICdjbGljaycsICdhLmxsbXMtZGVsZXRlLWVucm9sbG1lbnQnLCBmdW5jdGlvbiggZSApIHtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRzZWxmLmRlbGV0ZV9zdHVkZW50X2Vucm9sbG1lbnQoICQoIHRoaXMgKSApO1xuXHRcdFx0fSApO1xuXG5cdFx0XHR0aGlzLiRtZXRhYm94Lm9uKCAnY2xpY2snLCAnYS5sbG1zLWFkZC1zdHVkZW50JywgZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0c2VsZi5hZGRfc3R1ZGVudCggJCggdGhpcyApICk7XG5cdFx0XHR9ICk7XG5cblx0XHRcdCQoICcjbGxtcy1hZGQtc3R1ZGVudC1zZWxlY3QnICkubGxtc1N0dWRlbnRzU2VsZWN0MiggeyBtdWx0aXBsZTogdHJ1ZSB9ICk7XG5cblx0XHRcdCQoICcjbGxtcy1lbnJvbGwtc3R1ZGVudHMnICkub24oICdjbGljaycsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzZWxmLmVucm9sbF9zdHVkZW50cyggJCggdGhpcyApICk7XG5cdFx0XHR9ICk7XG5cblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogQWRkIGEgU3R1ZGVudFxuXHRcdCAqIEBwYXJhbSAgICBvYmogICRlbCAgalF1ZXJ5IHNlbGVjdG9yIG9mIHRoZSBhZGQgYnV0dG9uXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMC4wXG5cdFx0ICovXG5cdFx0dGhpcy5hZGRfc3R1ZGVudCA9IGZ1bmN0aW9uKCAkZWwgKSB7XG5cdFx0XHR0aGlzLnVwZGF0ZV9zdHVkZW50X2Vucm9sbG1lbnQoICRlbC5hdHRyKCAnZGF0YS1pZCcgKSwgJ2FkZCcgKTtcblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogSGFuZGxlIGJ1bGsgZW5yb2xsbWVudCB2aWEgXCJFbnJvbGwgTmV3IFN0dWRlbnRzXCIgYXJlYVxuXHRcdCAqIEBwYXJhbSAgICBvYmogICAkZWwgIGpRdWVyeSBzZWxlY3RvciBmb3IgdGhlIHRyaWdnZXJpbmcgYnV0dG9uXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy40LjBcblx0XHQgKi9cblx0XHR0aGlzLmVucm9sbF9zdHVkZW50cyA9IGZ1bmN0aW9uKCAkZWwgKSB7XG5cblx0XHRcdHZhciBzZWxmID0gdGhpcyxcblx0XHRcdFx0JHNlbGVjdCA9ICQoICcjbGxtcy1hZGQtc3R1ZGVudC1zZWxlY3QnICksXG5cdFx0XHRcdGlkcyA9ICRzZWxlY3QudmFsKCksXG5cdFx0XHRcdCRjb250YWluZXIgPSB0aGlzLiRtZXRhYm94LmZpbmQoICcubGxtcy1tZXRhYm94LXN0dWRlbnRzLWFkZC1uZXcnICk7XG5cblx0XHRcdExMTVMuU3Bpbm5lci5zdGFydCggJGNvbnRhaW5lciApO1xuXG5cdFx0XHR3aW5kb3cuTExNUy5BamF4LmNhbGwoIHtcblx0XHRcdFx0ZGF0YToge1xuXHRcdFx0XHRcdGFjdGlvbjogJ2J1bGtfZW5yb2xsX3N0dWRlbnRzJyxcblx0XHRcdFx0XHRzdHVkZW50X2lkczogaWRzLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRiZWZvcmVTZW5kOiBmdW5jdGlvbiggeGhyICkge1xuXHRcdFx0XHRcdGlmICggISBpZHMgKSB7XG5cdFx0XHRcdFx0XHQkZWwuYmVmb3JlKCAnPHNwYW4gY2xhc3M9XCJsbG1zLWVycm9yXCI+JyArIExMTVMubDEwbi50cmFuc2xhdGUoICdQbGVhc2Ugc2VsZWN0IGEgc3R1ZGVudCB0byBlbnJvbGwnICkgKyAnPC9zcGFuPicgKTtcblx0XHRcdFx0XHRcdHhoci5hYm9ydCgpO1xuXHRcdFx0XHRcdFx0TExNUy5TcGlubmVyLnN0b3AoICRjb250YWluZXIgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKCByICkge1xuXG5cdFx0XHRcdFx0JHNlbGVjdC52YWwoIG51bGwgKS50cmlnZ2VyKCAnY2hhbmdlJyApO1xuXHRcdFx0XHRcdExMTVMuU3Bpbm5lci5zdG9wKCAkY29udGFpbmVyICk7XG5cdFx0XHRcdFx0d2luZG93LmxsbXMuYWRtaW5fdGFibGVzLnJlbG9hZCggJCggJyNsbG1zLWdiLXRhYmxlLXN0dWRlbnQtbWFuYWdlbWVudCcgKSApO1xuXG5cdFx0XHRcdH0sXG5cdFx0XHR9ICk7XG5cblxuXG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIFJlbW92ZSBhIFN0dWRlbnRcblx0XHQgKiBAcGFyYW0gICAgb2JqICAkZWwgIGpRdWVyeSBzZWxlY3RvciBvZiB0aGUgYWRkIGJ1dHRvblxuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjAuMFxuXHRcdCAqL1xuXHRcdHRoaXMucmVtb3ZlX3N0dWRlbnQgPSBmdW5jdGlvbiggJGVsICkge1xuXHRcdFx0dGhpcy51cGRhdGVfc3R1ZGVudF9lbnJvbGxtZW50KCAkZWwuYXR0ciggJ2RhdGEtaWQnICksICdyZW1vdmUnICk7XG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIERlbGV0ZSBhIFN0dWRlbnQncyBlbnJvbGxtZW50LlxuXHRcdCAqXG5cdFx0ICogQHNpbmNlIDMuMzMuMFxuXHRcdCAqXG5cdFx0ICogQHBhcmFtICBvYmogICRlbCAgalF1ZXJ5IHNlbGVjdG9yIG9mIHRoZSBhZGQgYnV0dG9uLlxuXHRcdCAqIEByZXR1cm4gdm9pZFxuXHRcdCAqL1xuXHRcdHRoaXMuZGVsZXRlX3N0dWRlbnRfZW5yb2xsbWVudCA9IGZ1bmN0aW9uKCAkZWwgKSB7XG5cdFx0XHR0aGlzLnVwZGF0ZV9zdHVkZW50X2Vucm9sbG1lbnQoICRlbC5hdHRyKCAnZGF0YS1pZCcgKSwgJ2RlbGV0ZScgKTtcblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogRXhlY3V0ZSBBSkFYIGNhbGwsIGFkZCBzcGlubmVycywgdXBkYXRlIGh0bWwgdmlld1xuXHRcdCAqXG5cdFx0ICogQHNpbmNlIDMuMC4wXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gaW50IGlkIFN0dWRlbnQgaWQuXG5cdFx0ICogQHBhcmFtIHN0cmluZyBzdGF0dXMgTmV3IHN0YXR1cyBbYWRkfHJlbW92ZXxkZWxldGVdLlxuXHRcdCAqIEByZXR1cm4gdm9pZFxuXHRcdCAqL1xuXHRcdHRoaXMudXBkYXRlX3N0dWRlbnRfZW5yb2xsbWVudCA9IGZ1bmN0aW9uKCBpZCwgc3RhdHVzICkge1xuXG5cdFx0XHR2YXIgJHRhYmxlID0gJCggJyNsbG1zLWdiLXRhYmxlLXN0dWRlbnQtbWFuYWdlbWVudCcgKSxcblx0XHRcdFx0JGNvbnRhaW5lciA9ICR0YWJsZS5jbG9zZXN0KCAnLmxsbXMtdGFibGUtd3JhcCcgKTtcblxuXHRcdFx0TExNUy5TcGlubmVyLnN0YXJ0KCAkY29udGFpbmVyICk7XG5cblx0XHRcdHdpbmRvdy5MTE1TLkFqYXguY2FsbCgge1xuXHRcdFx0XHRkYXRhOiB7XG5cdFx0XHRcdFx0YWN0aW9uOiAndXBkYXRlX3N0dWRlbnRfZW5yb2xsbWVudCcsXG5cdFx0XHRcdFx0c3RhdHVzOiBzdGF0dXMsXG5cdFx0XHRcdFx0c3R1ZGVudF9pZDogaWQsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdC8vIHNwaW5uZXIgZG9lc24ndCBzdG9wIGJlY2F1c2UgdGhlIHRhYmxlIHJlbG9hZGVyIHdpbGwgc3RvcCBpdFxuXHRcdFx0XHRcdHdpbmRvdy5sbG1zLmFkbWluX3RhYmxlcy5yZWxvYWQoICR0YWJsZSApO1xuXHRcdFx0XHR9LFxuXHRcdFx0fSApO1xuXG5cdFx0fTtcblxuXG5cdFx0Ly8gZ29cblx0XHR0aGlzLmluaXQoKTtcblxuXHR9O1xuXG5cdC8vIGluaXRpYWxpemUgdGhlIG9iamVjdFxuXHR3aW5kb3cubGxtcy5NZXRhYm94U3R1ZGVudHMgPSBuZXcgTWV0YWJveFN0dWRlbnRzKCk7XG5cbn0gKSggalF1ZXJ5ICk7XG4iXX0=
