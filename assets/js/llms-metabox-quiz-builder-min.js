jQuery(document).ready(function($){$("#add_new_question").click(function(){return get_questions(),!1}),$("#publish").click(function(){update_question_options()}),$(".llms-points").blur(function(){llms_total_points()}),delete_option(),single_option_sortable(),order_single_options(),llms_total_points()}),llms_total_points=function(){var e=0;jQuery(".llms-points").each(function(){e+=Number(jQuery(this).val()),jQuery("#llms_points_total").text(e)})},single_question_template=function(e){console.log("single_course_template_called");var t=jQuery("#llms-single-options tr").length;console.log(e);var o=e;jQuery('<tr class="list_item" id="question_'+t+'" data-order="'+t+'" style="display: table-row;"><td class="llms-table-select"> 	<select id="question_select_'+t+'" name="_llms_question[]" data-placeholder="Choose a Section" class="chosen-select question-select"></select> 	</td> 	<td class="llms-table-points"><input type="text" class="llms-points" name="_llms_points_'+t+'" id="llms_points[]" value=""/> 	</td><td class="llms-table-options"> 	<i class="fa fa-bars llms-fa-move"></i><i data-code="f153" class="dashicons dashicons-dismiss deleteBtn single-option-delete"></i> 	</td></tr>').appendTo("#llms-single-options .question-list tbody").hide().fadeIn(300),jQuery(".llms-points").blur(function(){var e=0;jQuery(".llms-points").each(function(){e+=Number(jQuery(this).val()),jQuery("#llms_total_points").val(e)})});for(var n in o)if(o.hasOwnProperty(n)){var s=jQuery("#question_"+t+" #question_select_"+t),l='<option value="'+o[n].ID+'">'+o[n].post_title+"</option>";jQuery(s).append(l)}jQuery(s).prepend('<option value="" selected >None</option>'),jQuery(".question-select").chosen(),jQuery("#question_"+t+" .question-select").change(function(){get_edit_link(jQuery(this))}),delete_option(),order_single_options(),jQuery(".llms-points").blur(function(){llms_total_points()})},delete_option=function(){jQuery(".deleteBtn").click(function(){var e=jQuery(this).attr("class");jQuery(this).parent().parent().remove(),order_single_options()})},single_option_sortable=function(){jQuery(".question-list").sortable({items:".list_item",axis:"y",placeholder:"placeholder",cursor:"move",forcePlaceholderSize:!0,helper:function(e,t){var o=t.children(),n=t.clone();return n.children().each(function(e){jQuery(this).width(o.eq(e).width())}),n},start:function(e,t){var o=t.item.index();t.item.data("start_pos",o)},update:function(e,t){var o=t.item.data("start_pos"),n=jQuery(t.item).index();jQuery(t.item).attr("data-order",n),order_single_options()}})},order_single_options=function(){jQuery("#llms-single-options tr").each(function(e){jQuery(this).attr("data-order",e),jQuery(this).attr("id","question_"+e),jQuery(this).find(".question-select").each(function(){jQuery(this).attr("id","question_select_"+e)})})},get_questions=function(){var e=new Ajax("post",{action:"get_questions"},!0);e.get_questions()},get_edit_link=function(e){console.log("get edit link called"),console.log(e);var t=jQuery(e).val(),o=jQuery(e).attr("id");console.log("element_id"),console.log(o),console.log(t);var n=new Ajax("post",{action:"get_question",question_id:t},!0);n.get_question(t,o)},add_edit_link=function(e,t,o){console.log("add_edit_link called"),console.log(t),console.log(e),console.log(o);var n=document.createElement("a");n.setAttribute("href",encodeURI(e.edit_url));var s=document.createElement("i");s.setAttribute("class","fa fa-pencil-square-o llms-fa-edit "),n.appendChild(s),jQuery("#"+o).parent().parent().find(".llms-fa-edit").hide(),jQuery("#"+o).parent().next().next().append(n)};