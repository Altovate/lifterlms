!function(t,a){window.llms=window.llms||{};var e=function(){this.$tables=null,this.init=function(){var a=this;a.$tables=t(".llms-gb-table"),a.$tables.length&&a.bind()},this.bind=function(){var a=this;this.$tables.each(function(){var e=t(this);e.on("click",'button[name="llms-table-paging"]',function(){a.change_page(e,t(this))}),e.on("click","a.llms-sortable",function(r){r.preventDefault(),a.change_order(e,t(this))})})},this.change_order=function(t,a){this.reload(t,{order:a.attr("data-order"),orderby:a.attr("data-orderby"),page:1})},this.change_page=function(t,a){var e,r=this.get_args(t,"page");switch(a.data("dir")){case"back":e=r-1;break;case"next":e=r+1}this.reload(t,{order:this.get_args(t,"order"),orderby:this.get_args(t,"orderby"),page:e})},this.get_args=function(t,a){var e=JSON.parse(t.attr("data-args"));return a?!!e[a]&&e[a]:e},this.reload=function(a,e){e=t.extend({action:"get_admin_table_data",handler:a.attr("data-handler")},JSON.parse(a.attr("data-args")),e),LLMS.Ajax.call({data:e,beforeSend:function(){LLMS.Spinner.start(a.closest(".llms-table-wrap"))},success:function(t){LLMS.Spinner.stop(a.closest(".llms-table-wrap")),t.success&&(a.attr("data-args",t.data.args),a.find("thead").replaceWith(t.data.thead),a.find("tbody").replaceWith(t.data.tbody),a.find("tfoot").replaceWith(t.data.tfoot))}})},this.init()};window.llms.admin_tables=new e}(jQuery);