!function(e){function t(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",l=0;12>l;l++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}var l=[];e(document).ready(function(){function r(){e(".llms-voucher-delete").unbind("click"),e(".llms-voucher-delete").click(function(t){t.preventDefault();var r=e(this),n=r.data("id");a=!0,n?(l.push(n),e("#delete_ids").val(l.join(","))):o--,r.closest("tr").remove()})}var a=!1,o=0;e("#llms_voucher_add_codes").click(function(l){l.preventDefault();var n=e("#llms_voucher_add_quantity").val(),s=e("#llms_voucher_add_uses").val(),u="";if(a=!0,e.isNumeric(n)&&e.isNumeric(s)&&parseInt(n)>0){if(n>50)return void alert("You can only generate 50 rows at a time");if(o+=parseInt(n),o>50)return alert("Please save before adding any more codes, limit is 50 at a time"),void(o-=parseInt(n));for(var c=1;c<=parseInt(n);c++)u+='<tr><td></td><td><input type="text" maxlength="20" placeholder="Code" value="'+t()+'" name="llms_voucher_code[]"><input type="hidden" name="llms_voucher_code_id[]" value="0"></td><td><span>0 / </span><input type="text" placeholder="Uses" value="'+s+'" class="llms-voucher-uses" name="llms_voucher_uses[]"></td><td><a href="#" class="llms-voucher-delete">'+deleteIcon+"</a></td></tr>"}e("#llms_voucher_tbody").append(u),r()}),r(),e("#llms_voucher_tbody input").change(function(){a=!0}),window.onbeforeunload=function(){return a?"If you leave this page you will lose your unsaved changes.":null},e("input[type=submit]").click(function(t){var l={},r=!1;return e('input[name="llms_voucher_code[]"]').each(function(){var t=e(this).val();l[t]?(e(this).css("color","red"),r=!0):l[t]=!0}),r?(alert("Please make sure that there are no duplicate voucher codes."),!1):e("#_llms_voucher_courses").val()||e("#_llms_voucher_membership").val()?void(a=!1):(alert("Please select course or membership before saving."),!1)})})}(jQuery);