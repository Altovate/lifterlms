function llms_on_voucher_duplicate(e){if(e.length){for(var t=0;t<e.length;t++)jQuery('input[value="'+e[t].code+'"]').css("background-color","rgba(226, 96, 73, 0.6)");alert("Please make sure that there are no duplicate voucher codes.")}else jQuery("#post").submit()}!function(e){function t(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<12;a++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}function a(){var e=r(),t={action:"check_voucher_duplicate",postId:jQuery("#post_ID").val(),codes:e},a=new Ajax("post",t,(!1));a.check_voucher_duplicate()}function r(){var t=[];return e('input[name="llms_voucher_code[]"]').each(function(){t.push(e(this).val())}),t}var l=[];e(document).ready(function(){function r(){e(".llms-voucher-delete").unbind("click"),e(".llms-voucher-delete").click(function(t){t.preventDefault();var a=e(this),r=a.data("id");o=!0,r?(l.push(r),e("#delete_ids").val(l.join(","))):n--,a.closest("tr").remove()})}var o=!1,n=0;e("#llms_voucher_add_codes").click(function(a){a.preventDefault();var l=e("#llms_voucher_add_quantity").val(),u=e("#llms_voucher_add_uses").val(),s="";if(o=!0,e.isNumeric(l)&&e.isNumeric(u)&&parseInt(l)>0&&parseInt(u)>0){if(l>50)return void alert("You can only generate 50 rows at a time");if(n+=parseInt(l),n>50)return alert("Please save before adding any more codes, limit is 50 at a time"),void(n-=parseInt(l));for(var c=1;c<=parseInt(l);c++)s+='<tr><td></td><td><input type="text" maxlength="20" placeholder="Code" value="'+t()+'" name="llms_voucher_code[]"><input type="hidden" name="llms_voucher_code_id[]" value="0"></td><td><span>0 / </span><input type="text" placeholder="Uses" value="'+u+'" class="llms-voucher-uses" name="llms_voucher_uses[]"></td><td><a href="#" class="llms-voucher-delete">'+delete_icon+"</a></td></tr>"}e("#llms_voucher_tbody").append(s),r()}),r(),e("#llms_voucher_tbody input").change(function(){o=!0}),e("#post").on("submit",function(){return"publish"===e("#publish").attr("name")&&e("<input />").attr("type","hidden").attr("name","publish").attr("value","true").appendTo("#post"),!0}),window.onbeforeunload=function(){return o?"If you leave this page you will lose your unsaved changes.":null},e("input[type=submit]").click(function(t){var r={},l=!1;return e('input[name="llms_voucher_code[]"]').each(function(){var t=e(this).val();r[t]?(e(this).css("background-color","rgba(226, 96, 73, 0.6)"),l=!0):r[t]=!0}),l?(alert("Please make sure that there are no duplicate voucher codes."),!1):e("#_llms_voucher_courses").val()||e("#_llms_voucher_membership").val()?(o=!1,a(),!1):(alert("Please select course or membership before saving."),!1)})})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxsbXMtbWV0YWJveC12b3VjaGVyLmpzIl0sIm5hbWVzIjpbImxsbXNfb25fdm91Y2hlcl9kdXBsaWNhdGUiLCJyZXN1bHRzIiwibGVuZ3RoIiwiaSIsImpRdWVyeSIsImNvZGUiLCJjc3MiLCJhbGVydCIsInN1Ym1pdCIsIiQiLCJyYW5kb21pemVDb2RlIiwidGV4dCIsInBvc3NpYmxlIiwiY2hhckF0IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiY2hlY2tfdm91Y2hlcl9kdXBsaWNhdGUiLCJjb2RlcyIsImdldF9jb2Rlc19mcm9tX2lucHV0cyIsImRhdGEiLCJhY3Rpb24iLCJwb3N0SWQiLCJ2YWwiLCJhamF4IiwiQWpheCIsImVhY2giLCJwdXNoIiwidGhpcyIsImRlbGV0ZUlkcyIsImRvY3VtZW50IiwicmVhZHkiLCJiaW5kRGVsZXRlVm91Y2hlckNvZGUiLCJ1bmJpbmQiLCJjbGljayIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInQiLCJvbGQiLCJjaGFuZ2VOb3RTYXZlZCIsImpvaW4iLCJjb2Rlc0FkZGVkU2luY2VMYXN0U2F2ZSIsImNsb3Nlc3QiLCJyZW1vdmUiLCJxdHkiLCJ1c2VzIiwiaHRtbCIsImlzTnVtZXJpYyIsInBhcnNlSW50IiwiZGVsZXRlX2ljb24iLCJhcHBlbmQiLCJjaGFuZ2UiLCJvbiIsImF0dHIiLCJhcHBlbmRUbyIsIndpbmRvdyIsIm9uYmVmb3JldW5sb2FkIiwidW5pcXVlX3ZhbHVlcyIsImR1cGxpY2F0ZSJdLCJtYXBwaW5ncyI6IkFBOEpBLFFBQVNBLDJCQUEyQkMsR0FDaEMsR0FBR0EsRUFBUUMsT0FBUSxDQUNmLElBQUksR0FBSUMsR0FBSSxFQUFHQSxFQUFJRixFQUFRQyxPQUFRQyxJQUMvQkMsT0FBTyxnQkFBa0JILEVBQVFFLEdBQUdFLEtBQU8sTUFBTUMsSUFBSSxtQkFBb0IseUJBRTdFQyxPQUFNLG1FQUVOSCxRQUFRLFNBQVVJLFVBcksxQixTQUFXQyxHQTRIUCxRQUFTQyxLQUlMLElBQUssR0FIREMsR0FBTyxHQUNQQyxFQUFXLGlFQUVOVCxFQUFJLEVBQUdBLEVBQUksR0FBSUEsSUFDcEJRLEdBQVFDLEVBQVNDLE9BQU9DLEtBQUtDLE1BQU1ELEtBQUtFLFNBQVdKLEVBQVNWLFFBRWhFLE9BQU9TLEdBTVgsUUFBU00sS0FFTCxHQUFJQyxHQUFRQyxJQUVSQyxHQUFRQyxPQUFRLDBCQUEyQkMsT0FBV2xCLE9BQU8sWUFBWW1CLE1BQU9MLE1BQVVBLEdBRTFGTSxFQUFPLEdBQUlDLE1BQUssT0FBUUwsSUFBTSxHQUNsQ0ksR0FBS1AsMEJBR1QsUUFBU0UsS0FDTCxHQUFJRCxLQUtKLE9BSkFULEdBQUUscUNBQXFDaUIsS0FBSyxXQUN4Q1IsRUFBTVMsS0FBS2xCLEVBQUVtQixNQUFNTCxTQUdoQkwsRUF2SlgsR0FBSVcsS0FFSnBCLEdBQUVxQixVQUFVQyxNQUFNLFdBaUdkLFFBQVNDLEtBQ0x2QixFQUFFLHdCQUF3QndCLE9BQU8sU0FDakN4QixFQUFFLHdCQUF3QnlCLE1BQU0sU0FBVUMsR0FDdENBLEVBQUVDLGdCQUVGLElBQUlDLEdBQUk1QixFQUFFbUIsTUFDTlUsRUFBTUQsRUFBRWpCLEtBQUssS0FFakJtQixJQUFpQixFQUViRCxHQUNBVCxFQUFVRixLQUFLVyxHQUVmN0IsRUFBRSxlQUFlYyxJQUFJTSxFQUFVVyxLQUFLLE9BRXBDQyxJQUlKSixFQUFFSyxRQUFRLE1BQU1DLFdBbEh4QixHQUFJSixJQUFpQixFQUNqQkUsRUFBMEIsQ0FFOUJoQyxHQUFFLDJCQUEyQnlCLE1BQU0sU0FBVUMsR0FDekNBLEVBQUVDLGdCQUVGLElBQUlRLEdBQU1uQyxFQUFFLDhCQUE4QmMsTUFDdENzQixFQUFPcEMsRUFBRSwwQkFBMEJjLE1BQ25DdUIsRUFBTyxFQUlYLElBRkFQLEdBQWlCLEVBRWI5QixFQUFFc0MsVUFBVUgsSUFBUW5DLEVBQUVzQyxVQUFVRixJQUM1QkcsU0FBU0osR0FBTyxHQUFLSSxTQUFTSCxHQUFRLEVBQUcsQ0FFekMsR0FBR0QsRUFBTSxHQUVMLFdBREFyQyxPQUFNLDBDQU1WLElBRkFrQyxHQUEyQk8sU0FBU0osR0FFakNILEVBQTBCLEdBR3pCLE1BRkFsQyxPQUFNLHdFQUNOa0MsR0FBMkJPLFNBQVNKLEdBSXhDLEtBQUssR0FBSXpDLEdBQUksRUFBR0EsR0FBSzZDLFNBQVNKLEdBQU16QyxJQUNoQzJDLEdBQVEsZ0ZBRzZEcEMsSUFBa0Isb0tBR1ptQyxFQUFPLDJHQUM3QkksWUFBYyxpQkFNL0V4QyxFQUFFLHVCQUF1QnlDLE9BQU9KLEdBRWhDZCxNQUdKQSxJQUVBdkIsRUFBRSw2QkFBNkIwQyxPQUFPLFdBQ2xDWixHQUFpQixJQUdyQjlCLEVBQUcsU0FBVTJDLEdBQUksU0FBVSxXQU92QixNQU5rQyxZQUEvQjNDLEVBQUUsWUFBWTRDLEtBQUssU0FDbEI1QyxFQUFFLGFBQWE0QyxLQUFLLE9BQVEsVUFDdkJBLEtBQUssT0FBUSxXQUNiQSxLQUFLLFFBQVMsUUFDZEMsU0FBUyxVQUVYLElBR1hDLE9BQU9DLGVBQWlCLFdBQ3BCLE1BQU9qQixHQUFpQiw2REFBK0QsTUFHM0Y5QixFQUFFLHNCQUFzQnlCLE1BQU0sU0FBVUMsR0FDcEMsR0FBSXNCLE1BQ0FDLEdBQVksQ0FVaEIsT0FUQWpELEdBQUUscUNBQXFDaUIsS0FBSyxXQUN4QyxHQUFJSCxHQUFNZCxFQUFFbUIsTUFBTUwsS0FDWGtDLEdBQWNsQyxJQUdqQmQsRUFBRW1CLE1BQU10QixJQUFJLG1CQUFvQiwwQkFDaENvRCxHQUFZLEdBSFpELEVBQWNsQyxJQUFPLElBTTFCbUMsR0FDQ25ELE1BQU0sZ0VBQ0MsR0FJTkUsRUFBRSwwQkFBMEJjLE9BQVNkLEVBQUUsNkJBQTZCYyxPQUt6RWdCLEdBQWlCLEVBQ2pCdEIsS0FDTyxJQU5IVixNQUFNLHNEQUNDLFFBK0RwQkgiLCJmaWxlIjoibGxtcy1tZXRhYm94LXZvdWNoZXIubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCAkICl7XG5cbiAgICB2YXIgZGVsZXRlSWRzID0gW107XG5cbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdmFyIGNoYW5nZU5vdFNhdmVkID0gZmFsc2U7XG4gICAgICAgIHZhciBjb2Rlc0FkZGVkU2luY2VMYXN0U2F2ZSA9IDA7XG5cbiAgICAgICAgJCgnI2xsbXNfdm91Y2hlcl9hZGRfY29kZXMnKS5jbGljayhmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICB2YXIgcXR5ID0gJCgnI2xsbXNfdm91Y2hlcl9hZGRfcXVhbnRpdHknKS52YWwoKTtcbiAgICAgICAgICAgIHZhciB1c2VzID0gJCgnI2xsbXNfdm91Y2hlcl9hZGRfdXNlcycpLnZhbCgpO1xuICAgICAgICAgICAgdmFyIGh0bWwgPSAnJztcblxuICAgICAgICAgICAgY2hhbmdlTm90U2F2ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICBpZiAoJC5pc051bWVyaWMocXR5KSAmJiAkLmlzTnVtZXJpYyh1c2VzKSkge1xuICAgICAgICAgICAgICAgIGlmIChwYXJzZUludChxdHkpID4gMCAmJiBwYXJzZUludCh1c2VzKSA+IDApIHtcblxuICAgICAgICAgICAgICAgICAgICBpZihxdHkgPiA1MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJZb3UgY2FuIG9ubHkgZ2VuZXJhdGUgNTAgcm93cyBhdCBhIHRpbWVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjb2Rlc0FkZGVkU2luY2VMYXN0U2F2ZSArPSBwYXJzZUludChxdHkpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKGNvZGVzQWRkZWRTaW5jZUxhc3RTYXZlID4gNTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiUGxlYXNlIHNhdmUgYmVmb3JlIGFkZGluZyBhbnkgbW9yZSBjb2RlcywgbGltaXQgaXMgNTAgYXQgYSB0aW1lXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZXNBZGRlZFNpbmNlTGFzdFNhdmUgLT0gcGFyc2VJbnQocXR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IHBhcnNlSW50KHF0eSk7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbCArPSAnPHRyPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8dGQ+PC90ZD4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHRkPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8aW5wdXQgdHlwZT1cInRleHRcIiBtYXhsZW5ndGg9XCIyMFwiIHBsYWNlaG9sZGVyPVwiQ29kZVwiIHZhbHVlPVwiJyArIHJhbmRvbWl6ZUNvZGUoKSArICdcIiBuYW1lPVwibGxtc192b3VjaGVyX2NvZGVbXVwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJsbG1zX3ZvdWNoZXJfY29kZV9pZFtdXCIgdmFsdWU9XCIwXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvdGQ+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzx0ZD48c3Bhbj4wIC8gPC9zcGFuPjxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiVXNlc1wiIHZhbHVlPVwiJyArIHVzZXMgKyAnXCIgY2xhc3M9XCJsbG1zLXZvdWNoZXItdXNlc1wiIG5hbWU9XCJsbG1zX3ZvdWNoZXJfdXNlc1tdXCI+PC90ZD4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHRkPjxhIGhyZWY9XCIjXCIgY2xhc3M9XCJsbG1zLXZvdWNoZXItZGVsZXRlXCI+JyArIGRlbGV0ZV9pY29uICsgJzwvYT48L3RkPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L3RyPic7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICQoJyNsbG1zX3ZvdWNoZXJfdGJvZHknKS5hcHBlbmQoaHRtbCk7XG5cbiAgICAgICAgICAgIGJpbmREZWxldGVWb3VjaGVyQ29kZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBiaW5kRGVsZXRlVm91Y2hlckNvZGUoKTtcblxuICAgICAgICAkKCcjbGxtc192b3VjaGVyX3Rib2R5IGlucHV0JykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY2hhbmdlTm90U2F2ZWQgPSB0cnVlO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKCBcIiNwb3N0XCIgKS5vbiggJ3N1Ym1pdCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYoJCgnI3B1Ymxpc2gnKS5hdHRyKCduYW1lJykgPT09ICdwdWJsaXNoJykge1xuICAgICAgICAgICAgICAgICQoJzxpbnB1dCAvPicpLmF0dHIoJ3R5cGUnLCAnaGlkZGVuJylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ25hbWUnLCBcInB1Ymxpc2hcIilcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3ZhbHVlJywgXCJ0cnVlXCIpXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmRUbygnI3Bvc3QnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9ICk7XG5cbiAgICAgICAgd2luZG93Lm9uYmVmb3JldW5sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hhbmdlTm90U2F2ZWQgPyBcIklmIHlvdSBsZWF2ZSB0aGlzIHBhZ2UgeW91IHdpbGwgbG9zZSB5b3VyIHVuc2F2ZWQgY2hhbmdlcy5cIiA6IG51bGw7XG4gICAgICAgIH07XG5cbiAgICAgICAgJCgnaW5wdXRbdHlwZT1zdWJtaXRdJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciB1bmlxdWVfdmFsdWVzID0ge307XG4gICAgICAgICAgICB2YXIgZHVwbGljYXRlID0gZmFsc2U7XG4gICAgICAgICAgICAkKCdpbnB1dFtuYW1lPVwibGxtc192b3VjaGVyX2NvZGVbXVwiXScpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbCA9ICQodGhpcykudmFsKClcbiAgICAgICAgICAgICAgICBpZiAoICEgdW5pcXVlX3ZhbHVlc1t2YWxdICkge1xuICAgICAgICAgICAgICAgICAgICB1bmlxdWVfdmFsdWVzW3ZhbF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgJ3JnYmEoMjI2LCA5NiwgNzMsIDAuNiknKTtcbiAgICAgICAgICAgICAgICAgICAgZHVwbGljYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmKGR1cGxpY2F0ZSkge1xuICAgICAgICAgICAgICAgIGFsZXJ0KCdQbGVhc2UgbWFrZSBzdXJlIHRoYXQgdGhlcmUgYXJlIG5vIGR1cGxpY2F0ZSB2b3VjaGVyIGNvZGVzLicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9pZiBjb3Vyc2Ugb3IgbWVtYmVyc2hpcCBpcyBub3Qgc2VsZWN0ZWQsIGRvbid0IGFsbG93IHVzZXIgdG8gc2F2ZVxuICAgICAgICAgICAgaWYoISgkKCcjX2xsbXNfdm91Y2hlcl9jb3Vyc2VzJykudmFsKCkgfHwgJCgnI19sbG1zX3ZvdWNoZXJfbWVtYmVyc2hpcCcpLnZhbCgpKSkge1xuICAgICAgICAgICAgICAgIGFsZXJ0KCdQbGVhc2Ugc2VsZWN0IGNvdXJzZSBvciBtZW1iZXJzaGlwIGJlZm9yZSBzYXZpbmcuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjaGFuZ2VOb3RTYXZlZCA9IGZhbHNlO1xuICAgICAgICAgICAgY2hlY2tfdm91Y2hlcl9kdXBsaWNhdGUoKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZnVuY3Rpb24gYmluZERlbGV0ZVZvdWNoZXJDb2RlKCkge1xuICAgICAgICAgICAgJCgnLmxsbXMtdm91Y2hlci1kZWxldGUnKS51bmJpbmQoJ2NsaWNrJyk7XG4gICAgICAgICAgICAkKCcubGxtcy12b3VjaGVyLWRlbGV0ZScpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHQgPSAkKHRoaXMpO1xuICAgICAgICAgICAgICAgIHZhciBvbGQgPSB0LmRhdGEoJ2lkJyk7XG5cbiAgICAgICAgICAgICAgICBjaGFuZ2VOb3RTYXZlZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICBpZiAob2xkKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZUlkcy5wdXNoKG9sZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgJCgnI2RlbGV0ZV9pZHMnKS52YWwoZGVsZXRlSWRzLmpvaW4oJywnKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZXNBZGRlZFNpbmNlTGFzdFNhdmUtLTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgaHRtbCBibG9ja1xuICAgICAgICAgICAgICAgIHQuY2xvc2VzdCgndHInKS5yZW1vdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgZnVuY3Rpb24gcmFuZG9taXplQ29kZSgpIHtcbiAgICAgICAgdmFyIHRleHQgPSAnJztcbiAgICAgICAgdmFyIHBvc3NpYmxlID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5JztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDEyOyBpKyspXG4gICAgICAgICAgICB0ZXh0ICs9IHBvc3NpYmxlLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3NzaWJsZS5sZW5ndGgpKTtcblxuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBmb3Igdm91Y2hlciBkdXBsaWNhdGVzIGluIG90aGVyIHBvc3RzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNoZWNrX3ZvdWNoZXJfZHVwbGljYXRlKCkge1xuXG4gICAgICAgIHZhciBjb2RlcyA9IGdldF9jb2Rlc19mcm9tX2lucHV0cygpO1xuXG4gICAgICAgIHZhciBkYXRhID0ge2FjdGlvbjogJ2NoZWNrX3ZvdWNoZXJfZHVwbGljYXRlJywgJ3Bvc3RJZCcgOiBqUXVlcnkoJyNwb3N0X0lEJykudmFsKCksICdjb2RlcycgOiBjb2RlcyB9O1xuXG4gICAgICAgIHZhciBhamF4ID0gbmV3IEFqYXgoJ3Bvc3QnLCBkYXRhLCBmYWxzZSk7XG4gICAgICAgIGFqYXguY2hlY2tfdm91Y2hlcl9kdXBsaWNhdGUoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRfY29kZXNfZnJvbV9pbnB1dHMoKSB7XG4gICAgICAgIHZhciBjb2RlcyA9IFtdO1xuICAgICAgICAkKCdpbnB1dFtuYW1lPVwibGxtc192b3VjaGVyX2NvZGVbXVwiXScpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBjb2Rlcy5wdXNoKCQodGhpcykudmFsKCkpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gY29kZXM7XG4gICAgfVxuXG59KShqUXVlcnkpO1xuXG5mdW5jdGlvbiBsbG1zX29uX3ZvdWNoZXJfZHVwbGljYXRlIChyZXN1bHRzKSB7XG4gICAgaWYocmVzdWx0cy5sZW5ndGgpIHtcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHJlc3VsdHMubGVuZ3RoOyBpKysgKSB7XG4gICAgICAgICAgICBqUXVlcnkoJ2lucHV0W3ZhbHVlPVwiJyArIHJlc3VsdHNbaV0uY29kZSArICdcIl0nKS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCAncmdiYSgyMjYsIDk2LCA3MywgMC42KScpO1xuICAgICAgICB9XG4gICAgICAgIGFsZXJ0KCdQbGVhc2UgbWFrZSBzdXJlIHRoYXQgdGhlcmUgYXJlIG5vIGR1cGxpY2F0ZSB2b3VjaGVyIGNvZGVzLicpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGpRdWVyeSggXCIjcG9zdFwiICkuc3VibWl0KCk7XG4gICAgfVxufVxuIl19
