function randomizeCode(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",l=0;12>l;l++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}var $=jQuery,deleteIds=[];$(document).ready(function(){function e(){$(".llms-voucher-delete").unbind("click"),$(".llms-voucher-delete").click(function(e){e.preventDefault();var a=$(this),n=a.data("id");t=!0,n?(deleteIds.push(n),$("#delete_ids").val(deleteIds.join(","))):l--,a.closest("tr").remove()})}var t=!1,l=0;$("#llms_voucher_add_codes").click(function(a){a.preventDefault();var n=$("#llms_voucher_add_quantity").val(),r=$("#llms_voucher_add_uses").val(),o="";if(t=!0,$.isNumeric(n)&&$.isNumeric(r)&&parseInt(n)>0){l+=parseInt(n),n>50&&(alert("You can only generate 50 rows at a time"),retrun),l>50&&(alert("Please save before adding any more codes, limit is 50 at a time"),l-=parseInt(n),retrun);for(var d=1;d<=parseInt(n);d++)o+='<tr><td></td><td><input type="text" maxlength="20" placeholder="Code" value="'+randomizeCode()+'" name="llms_voucher_code[]"><input type="hidden" name="llms_voucher_code_id[]" value="0"></td><td><span>0 / </span><input type="text" placeholder="Uses" value="'+r+'" class="llms-voucher-uses" name="llms_voucher_uses[]"></td><td><a href="#" class="llms-voucher-delete">'+deleteIcon+"</a></td></tr>"}$("#llms_voucher_tbody").append(o),e()}),e(),$("#llms_voucher_tbody input").change(function(){t=!0}),window.onbeforeunload=function(){return t?"If you leave this page you will lose your unsaved changes.":null},$("input[type=submit]").click(function(e){t=!1})});