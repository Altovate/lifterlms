function randomizeCode(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",l=0;12>l;l++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}var $=jQuery,deleteIds=[];$(document).ready(function(){function e(){$(".llms-voucher-delete").unbind("click"),$(".llms-voucher-delete").click(function(e){e.preventDefault();var r=$(this),a=r.data("id");t=!0,a?(deleteIds.push(a),$("#delete_ids").val(deleteIds.join(","))):l--,r.closest("tr").remove()})}var t=!1,l=0;$("#llms_voucher_add_codes").click(function(r){r.preventDefault();var a=$("#llms_voucher_add_quantity").val(),o=$("#llms_voucher_add_uses").val(),s="";if(t=!0,$.isNumeric(a)&&$.isNumeric(o)&&parseInt(a)>0){if(l+=parseInt(a),a>50)return void alert("You can only generate 50 rows at a time");if(l>50)return alert("Please save before adding any more codes, limit is 50 at a time"),void(l-=parseInt(a));for(var n=1;n<=parseInt(a);n++)s+='<tr><td></td><td><input type="text" maxlength="20" placeholder="Code" value="'+randomizeCode()+'" name="llms_voucher_code[]"><input type="hidden" name="llms_voucher_code_id[]" value="0"></td><td><span>0 / </span><input type="text" placeholder="Uses" value="'+o+'" class="llms-voucher-uses" name="llms_voucher_uses[]"></td><td><a href="#" class="llms-voucher-delete">'+deleteIcon+"</a></td></tr>"}$("#llms_voucher_tbody").append(s),e()}),e(),$("#llms_voucher_tbody input").change(function(){t=!0}),window.onbeforeunload=function(){return t?"If you leave this page you will lose your unsaved changes.":null},$("input[type=submit]").click(function(e){var l={},r=!1;return $('input[name="llms_voucher_code[]"]').each(function(){var e=$(this).val();l[e]?($(this).css("color","red"),r=!0):l[e]=!0}),r?(alert("Please make sure that there are no duplicate voucher codes."),!1):$("#_llms_voucher_courses").val()||$("#_llms_voucher_membership").val()?void(t=!1):(alert("Please select course or membership before saving."),!1)})});