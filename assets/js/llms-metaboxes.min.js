!function(e){e.fn.llmsCollapsible=function(){return this.on("click",".llms-collapsible-header",function(){var t=e(this).closest(".llms-collapsible"),a=t.siblings(".llms-collapsible");t.toggleClass("opened"),t.find(".llms-collapsible-body").slideToggle(400),a.each(function(){e(this).removeClass("opened"),e(this).find(".llms-collapsible-body").slideUp(400)})}),this},window.llms=window.llms||{};var t=function(){this.repeaters={metaboxes:this,$repeaters:null,init:function(){var t=this;t.$repeaters=e(".llms-mb-list.repeater"),t.$repeaters.length&&(LLMS.wait_for(function(){return"undefined"!=typeof tinyMCE},function(){t.load(),t.bind()}),e('#post input[type="submit"], #post-preview').on("click",function(){e(this).attr("data-llms-clicked","yes")}),e("#post").on("submit",t.handle_submit))},bind:function(){var t=this;t.$repeaters.each(function(){var a=e(this),l=a.find(".llms-repeater-rows"),n=a.find(".llms-repeater-model");tinyMCE.EditorManager.execCommand("mceRemoveEditor",!0,n.find(".llms-mb-list.editor textarea").attr("id")),a.find(".llms-repeater-new-btn").on("click",function(){t.add_row(a,null,!0)}),l.sortable({handle:".llms-drag-handle",items:".llms-repeater-row",start:function(e,t){l.addClass("dragging")},stop:function(n,i){l.removeClass("dragging");var s=i.item.find("textarea.wp-editor-area");s.each(function(){var t=e(this).attr("id");tinyMCE.EditorManager.execCommand("mceRemoveEditor",!0,t),tinyMCE.EditorManager.execCommand("mceAddEditor",!0,t)}),t.save(a)}}),a.on("click",".llms-repeater-remove",function(l){l.stopPropagation();var n=e(this).closest(".llms-repeater-row");window.confirm(LLMS.l10n.translate("Are you sure you want to delete this row? This cannot be undone."))&&(n.remove(),setTimeout(function(){t.save(a)},1))})})},add_row:function(t,a,l){var n=this,i=t.find(".llms-repeater-rows"),s=t.find(".llms-repeater-model"),r=s.find(".llms-repeater-row").clone(),o=t.find(".llms-repeater-row").length,d=n.reindex(r,o);a&&e.each(a,function(t,a){var l=r.find('[name^="'+t+'"]');l.hasClass("llms-select2-student")?(e.each(a,function(e,t){l.append('<option value="'+t.key+'" selected="selected">'+t.title+"</option>")}),l.trigger("change")):l.val(a)}),setTimeout(function(){n.bind_row(r)},1),i.append(r),l&&r.find(".llms-collapsible-header").trigger("click"),tinyMCE.EditorManager.execCommand("mceAddEditor",!0,d),t.trigger("llms-new-repeater-row",{$row:r,data:a})},bind_row:function(e){this.bind_row_header(e),e.find(".llms-select2").llmsSelect2({width:"100%"}),e.find(".llms-select2-student").llmsStudentsSelect2(),this.metaboxes.bind_datepickers(e.find(".llms-datepicker")),this.metaboxes.bind_controllers(e.find("[data-is-controller]"))},bind_row_header:function(t){var a=t.find(".llms-repeater-title"),l=t.find(".llms-collapsible-header-title-field");a.attr("data-default",a.text()),l.on("keyup focusout blur",function(){var t=e(this).val();t||(t=a.attr("data-default")),a.text(t)}).trigger("keyup")},handle_submit:function(t){var a=e('#post [data-llms-clicked="yes"]'),l=a.parent().find(".spinner");if(a.is("#post-preview"))return void a.removeAttr("data-llms-clicked");t.preventDefault(),e('#post input[type="submit"]').addClass("disabled").attr("disabled","disabled"),l.addClass("is-active");var n,i=window.llms.metaboxes.repeaters,s=0;i.$repeaters.each(function(){i.save(e(this))}),n=setInterval(function(){s>=59||!e(".llms-mb-list.repeater.processing").length?(clearInterval(n),e("#post").off("submit",this.handle_submit),l.removeClass("is-active"),a.removeClass("disabled").removeAttr("disabled").trigger("click")):s++},1e3)},load:function(){var t=this;t.$repeaters.each(function(){var a=e(this);a.hasClass("is-loaded")||a.hasClass("processing")||t.store(a,"load",function(l){a.addClass("is-loaded"),e.each(l.data,function(e,l){t.add_row(a,l,!1)}),a.find(".llms-repeater-rows .llms-repeater-row").each(function(){t.bind_row(e(this))})})})},reindex:function(t,a){function l(t,l){t.each(function(){var t=e(this).attr(l);e(this).attr(l,t.replace(n,a))})}var n=t.attr("data-row-order"),i=t.find(".llms-mb-list.editor textarea");return tinyMCE.EditorManager.execCommand("mceRemoveEditor",!0,i.attr("id")),t.attr("data-row-order",a),l(t,"data-row-order"),l(t.find("button.insert-media"),"data-editor"),l(t.find('input[name^="_llms"], textarea[name^="_llms"], select[name^="_llms"]'),"id"),l(t.find('input[name^="_llms"], textarea[name^="_llms"], select[name^="_llms"]'),"name"),l(t.find("[data-controller]"),"data-controller"),l(t.find("[data-controller]"),"data-controller"),l(t.find("button.wp-switch-editor"),"data-wp-editor-id"),l(t.find("button.wp-switch-editor"),"id"),l(t.find(".wp-editor-tools"),"id"),l(t.find(".wp-editor-container"),"id"),i.attr("id")},save:function(e){e.trigger("llms-repeater-before-save",{$el:e}),this.store(e,"save")},serialize:function(t){var a=[];return t.find(".llms-repeater-rows .llms-repeater-row").each(function(){var t={};e(this).find('input[name^="_llms"], select[name^="_llms"]').each(function(){t[e(this).attr("name")]=e(this).val()}),e(this).find('textarea[name^="_llms"]').each(function(){var a=e(this).attr("name");tinyMCE.editors[a]?t[a]=tinyMCE.editors[a].getContent():t[a]=e(this).val()}),a.push(t)}),a},store:function(e,t,a){a=a||function(){};var l=this,n={action:e.find(".llms-repeater-field-handler").val(),store_action:t};"save"===t&&(n.rows=l.serialize(e)),LLMS.Ajax.call({data:n,beforeSend:function(){e.addClass("processing"),LLMS.Spinner.start(e)},success:function(t){a(t),LLMS.Spinner.stop(e),e.removeClass("processing")}})}},this.repeaters.init(),this.init=function(){var t=this;e(".llms-select2-post").each(function(){t.post_select(e(this))}),e(".llms-collapsible-group").llmsCollapsible(),this.bind_tabs();var a=[{selector:e(".llms-datepicker"),func:"bind_datepickers"},{selector:e(".llms-select2"),func:function(e){e.llmsSelect2({width:"100%"})}},{selector:e(".llms-select2-student"),func:function(e){e.llmsStudentsSelect2()}},{selector:e('input[type="checkbox"][data-controls]'),func:"bind_cb_controllers"},{selector:e("[data-is-controller]"),func:"bind_controllers"},{selector:e(".llms-table"),func:"bind_tables"},{selector:e(".llms-merge-code-wrapper"),func:"bind_merge_code_buttons"},{selector:e("a.llms-editable"),func:"bind_editables"}];if(e.each(a,function(a,l){if(l.selector.length){var n=l.selector.filter(function(){return 0===e(this).closest(".llms-repeater-model").length});"string"==typeof l.func?t[l.func](n):"function"==typeof l.func&&l.func(n)}}),window.llms.post.post_type){var l="bind_"+window.llms.post.post_type;"function"==typeof this[l]&&this[l]()}},this.bind_cb_controllers=function(t){t=t||e('input[type="checkbox"][data-controls]'),t.each(function(){var t=e(this),a=e(t.attr("data-controls")).closest(".llms-mb-list");t.on("change",function(){e(this).is(":checked")?a.slideDown(200):a.slideUp(200)}),t.trigger("change")})},this.bind_controllers=function(t){t=t||e("[data-is-controller]"),t.each(function(){var t,a=e(this),l=e('[data-controller="#'+a.attr("id")+'"]');a.on("change",function(){t="checkbox"===a.attr("type")?a.is(":checked")?a.val():"false":a.val(),l.each(function(){var a=e(this).attr("data-controller-value"),l=[];-1!==a.indexOf(",")?l=a.split(","):l.push(a),-1!==l.indexOf(t)?e(this).slideDown(200):e(this).slideUp(200)})}),a.trigger("change")})},this.bind_datepicker=function(e){var t=e.attr("data-format")||"mm/dd/yy",a=e.attr("data-max-date")||null,l=e.attr("data-min-date")||null;e.datepicker({dateFormat:t,maxDate:a,minDate:l})},this.bind_datepickers=function(t){var a=this;t=t||e(".llms-datepicker"),t.each(function(){a.bind_datepicker(e(this))})},this.bind_editables=function(){function t(t){var l,n=t.find("label").clone(),i=t.attr("data-llms-editable"),s=t.attr("data-llms-editable-type"),r=t.attr("data-llms-editable-required")||"no",o=t.attr("data-llms-editable-value");if(r="yes"===r?' required="required"':"","select"===s){var d,c=JSON.parse(t.attr("data-llms-editable-options"));l=e('<select name="'+i+'"'+r+" />");for(var m in c)d=o===m?' selected="selected"':"",l.append('<option value="'+m+'"'+d+">"+c[m]+"</option>")}else if("datetime"===s){l=e('<div class="llms-datetime-field" />'),o=JSON.parse(o);var u=t.attr("data-llms-editable-date-format")||"",f=t.attr("data-llms-editable-date-min")||"",p=t.attr("data-llms-editable-date-max")||"";$picker=e('<input class="llms-date-input llms-datepicker" data-format="'+u+'" data-max-date="'+p+'" data-min-date="'+f+'" name="'+i+'[date]" type="text" value="'+o.date+'">'),a.bind_datepicker($picker),l.append($picker),l.append("<em>@</em>"),l.append('<input class="llms-time-input" max="23" min="0" name="'+i+'[hour]" type="number" value="'+o.hour+'">'),l.append("<em>:</em>"),l.append('<input class="llms-time-input" max="59" min="0" name="'+i+'[minute]" type="number" value="'+o.minute+'">')}else l=e('<input name="'+i+'" type="'+s+'" value="'+o+'"'+r+">");t.empty().append(n).append(l)}var a=this;e("a.llms-editable").on("click",function(a){a.preventDefault();var l,n=e(this);l=n.attr("data-fields")?e(n.attr("data-fields")):n.closest(".llms-metabox-section").find("[data-llms-editable]"),n.remove(),l.each(function(){t(e(this))})})},this.bind_llms_engagement=function(){var t=this;e("#_llms_engagement_type").on("change",function(){e("#_llms_engagement").trigger("llms-engagement-type-change",e(this).val())}),e("#_llms_engagement").on("llms-engagement-type-change",function(a,l){var n=e(this);switch(l){case"achievement":case"certificate":case"email":var i="llms_"+l;n.val(null).attr("data-post-type",i).trigger("change"),t.post_select(n);break;default:n.trigger("llms-engagement-type-change-external",l)}})},this.bind_llms_membership=function(){e('a[href="#llms-course-remove"]').on("click",function(t){t.preventDefault();var a=e(this),l=a.closest("tr"),n=a.closest(".llms-mb-list");LLMS.Spinner.start(n),window.LLMS.Ajax.call({data:{action:"membership_remove_auto_enroll_course",course_id:a.attr("data-id")},beforeSend:function(){n.find("p.error").remove()},success:function(e){e.success?(l.fadeOut(200),setTimeout(function(){l.remove()},400)):n.prepend('<p class="error">'+e.message+"</p>"),LLMS.Spinner.stop(n)}})}),e('a[href="#llms-course-bulk-enroll"]').on("click",function(t){t.preventDefault();var a=e(this),l=(a.closest("tr"),a.closest(".llms-mb-list"));window.confirm(LLMS.l10n.translate("Click okay to enroll all active members into the selected course. Enrollment will take place in the background and you may leave your site after confirmation. This action cannot be undone!"))&&(LLMS.Spinner.start(l),window.LLMS.Ajax.call({data:{action:"bulk_enroll_membership_into_course",course_id:a.attr("data-id")},beforeSend:function(){l.find("p.error").remove()},success:function(e){e.success?a.replaceWith('<strong style="float:right;">'+e.data.message+"&nbsp;&nbsp;</strong>"):l.prepend('<p class="error">'+e.message+"</p>"),LLMS.Spinner.stop(l)}}))})},this.bind_llms_order=function(){e('button[name="llms-refund-toggle"]').on("click",function(){var t=e(this),a=t.closest("tr"),l=a.attr("data-transaction-id"),n=t.attr("data-refundable"),i="1"===t.attr("data-gateway-supports"),s=t.attr("data-gateway"),r=e("#llms-txn-refund-model .llms-txn-refund-form").clone(),o=r.find(".gateway-btn");"remove"!==t.attr("data-action")?(t.text(LLMS.l10n.translate("Cancel")),t.attr("data-action","remove"),r.find("input").removeAttr("disabled"),r.find('input[name="llms_refund_amount"]').attr("max",n),r.find('input[name="llms_refund_txn_id"]').val(l),i&&(o.find(".llms-gateway-title").text(s),o.show()),a.after(r)):(t.text(LLMS.l10n.translate("Refund")),t.attr("data-action",""),a.next("tr").remove())}),e('button[name="llms-manual-txn-toggle"]').on("click",function(){var t=e(this),a=t.closest("tr"),l=e("#llms-manual-txn-model .llms-manual-txn-form").clone();"remove"!==t.attr("data-action")?(t.text(LLMS.l10n.translate("Cancel")),t.attr("data-action","remove"),l.find("input").removeAttr("disabled"),a.after(l)):(t.text(LLMS.l10n.translate("Record a Manual Payment")),t.attr("data-action",""),a.next("tr").remove())}),e(".llms-metabox").one("focus",'.llms-metabox-field[data-llms-editable="payment_gateway"] select',function(){e(this).attr("data-original-value")||e(this).attr("data-original-value",e(this).val())}),e(".llms-metabox").on("change",'.llms-metabox-field[data-llms-editable="payment_gateway"] select',function(){var t=e(this),a=t.val(),l=JSON.parse(t.closest(".llms-metabox-field").attr("data-gateway-fields")),n=l[a];for(var i in n){var s=e('input[name="'+n[i].name+'"]'),r=s.closest(".llms-metabox-field");s.attr("value",""),n[i].enabled?(r.show(),s.attr("required","required"),a===t.attr("data-original-value")&&s.val(r.attr("data-llms-editable-value"))):(s.removeAttr("required"),r.hide())}})},this.bind_merge_code_buttons=function(t){t=t||e(".llms-merge-code-wrapper"),t.find(".llms-merge-code-button").on("click",function(){e(this).next(".llms-merge-codes").toggleClass("active")}),t.find(".llms-merge-codes li").on("click",function(){var t=e(this),a=t.closest(".llms-merge-codes"),l=a.attr("data-target"),n=t.attr("data-code");if(-1===l.indexOf("#")){var i=window.tinymce.editors[l];i?i.insertContent(n):alert(LLMS.l10n.translate("Copy this code and paste it into the desired area")+": "+n)}else e(l).val(e(l).val()+n);a.removeClass("active")})},this.bind_tabs=function(){e(".llms-nav-tab-wrapper .tabs li").on("click",function(){var t=e(this),a=t.closest(".llms-mb-container"),l=t.attr("data-tab");t.siblings().removeClass("llms-active"),a.find(".tab-content").removeClass("llms-active"),t.addClass("llms-active"),e("#"+l).addClass("llms-active")})},this.post_select=function(t){var a="multiple"===t.attr("multiple");if(t.llmsPostsSelect2({width:a?"100%":"65%"}),!a&&!t.attr("data-no-view-button")){var l=LLMS.l10n.translate("View"),n=e('<a class="llms-button-secondary small" style="margin-left:5px;" target="_blank" href="#">'+l+' <i class="fa fa-external-link" aria-hidden="true"></i></a>');t.next(".select2").after(n),t.on("change",function(){var t=e(this).val();t?n.attr("href","/?p="+t).show():n.hide()}).trigger("change")}},this.bind_tables=function(){e('.llms-table button[name="llms-expand-table"]').on("click",function(){var t=e(this),a=t.closest(".llms-table");if(t.attr("data-text")){var l=t.text();t.text(t.attr("data-text")),t.attr("data-text",l)}a.find(".expandable").each(function(){e(this).hasClass("closed")?e(this).addClass("opened").removeClass("closed"):e(this).addClass("closed").removeClass("opened")})})},this.init()};window.llms.metaboxes=new t}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxsbXMtbWV0YWJveGVzLmpzIl0sIm5hbWVzIjpbIiQiLCJmbiIsImxsbXNDb2xsYXBzaWJsZSIsInRoaXMiLCJvbiIsIiRwYXJlbnQiLCJjbG9zZXN0IiwiJHNpYmxpbmdzIiwic2libGluZ3MiLCJ0b2dnbGVDbGFzcyIsImZpbmQiLCJzbGlkZVRvZ2dsZSIsImVhY2giLCJyZW1vdmVDbGFzcyIsInNsaWRlVXAiLCJ3aW5kb3ciLCJsbG1zIiwiTWV0YWJveGVzIiwicmVwZWF0ZXJzIiwibWV0YWJveGVzIiwiJHJlcGVhdGVycyIsImluaXQiLCJzZWxmIiwibGVuZ3RoIiwiTExNUyIsIndhaXRfZm9yIiwidGlueU1DRSIsImxvYWQiLCJiaW5kIiwiYXR0ciIsImhhbmRsZV9zdWJtaXQiLCIkcmVwZWF0ZXIiLCIkcm93cyIsIiRtb2RlbCIsIkVkaXRvck1hbmFnZXIiLCJleGVjQ29tbWFuZCIsImFkZF9yb3ciLCJzb3J0YWJsZSIsImhhbmRsZSIsIml0ZW1zIiwic3RhcnQiLCJldmVudCIsInVpIiwiYWRkQ2xhc3MiLCJzdG9wIiwiJGVkcyIsIml0ZW0iLCJlZF9pZCIsInNhdmUiLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwiJHJvdyIsImNvbmZpcm0iLCJsMTBuIiwidHJhbnNsYXRlIiwicmVtb3ZlIiwic2V0VGltZW91dCIsImRhdGEiLCJleHBhbmQiLCJjbG9uZSIsIm5ld19pbmRleCIsImVkaXRvciIsInJlaW5kZXgiLCJrZXkiLCJ2YWwiLCIkZmllbGQiLCJoYXNDbGFzcyIsImkiLCJhcHBlbmQiLCJ0aXRsZSIsInRyaWdnZXIiLCJiaW5kX3JvdyIsImJpbmRfcm93X2hlYWRlciIsImxsbXNTZWxlY3QyIiwid2lkdGgiLCJsbG1zU3R1ZGVudHNTZWxlY3QyIiwiYmluZF9kYXRlcGlja2VycyIsImJpbmRfY29udHJvbGxlcnMiLCIkdGl0bGUiLCJ0ZXh0IiwiJGJ0biIsIiRzcGlubmVyIiwicGFyZW50IiwiaXMiLCJyZW1vdmVBdHRyIiwicHJldmVudERlZmF1bHQiLCJ3YWl0Iiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwib2ZmIiwic3RvcmUiLCJvYmoiLCJpbmRleCIsInJlcGxhY2VfYXR0ciIsIiRlbCIsInN0ciIsInJlcGxhY2UiLCJvbGRfaW5kZXgiLCIkZWQiLCJzZXJpYWxpemUiLCJyb3dzIiwibmFtZSIsImVkaXRvcnMiLCJnZXRDb250ZW50IiwicHVzaCIsImFjdGlvbiIsImNiIiwic3RvcmVfYWN0aW9uIiwiQWpheCIsImNhbGwiLCJiZWZvcmVTZW5kIiwiU3Bpbm5lciIsInN1Y2Nlc3MiLCJyIiwicG9zdF9zZWxlY3QiLCJiaW5kX3RhYnMiLCJiaW5kaW5ncyIsInNlbGVjdG9yIiwiZnVuYyIsIiRzZWxlY3RvciIsInJlZHVjZWQiLCJmaWx0ZXIiLCJwb3N0IiwicG9zdF90eXBlIiwiYmluZF9jYl9jb250cm9sbGVycyIsIiRjb250cm9sbGVycyIsIiRjYiIsIiRjb250cm9sbGVkIiwic2xpZGVEb3duIiwicG9zc2libGUiLCJ2YWxzIiwiaW5kZXhPZiIsInNwbGl0IiwiYmluZF9kYXRlcGlja2VyIiwiZm9ybWF0IiwibWF4RGF0ZSIsIm1pbkRhdGUiLCJkYXRlcGlja2VyIiwiZGF0ZUZvcm1hdCIsIiRkYXRlcGlja2VycyIsImJpbmRfZWRpdGFibGVzIiwibWFrZV9lZGl0YWJsZSIsIiRpbnB1dCIsIiRsYWJlbCIsInR5cGUiLCJyZXF1aXJlZCIsInNlbGVjdGVkIiwib3B0aW9ucyIsIkpTT04iLCJwYXJzZSIsIm1pbl9kYXRlIiwibWF4X2RhdGUiLCIkcGlja2VyIiwiZGF0ZSIsImhvdXIiLCJtaW51dGUiLCJlbXB0eSIsIiRmaWVsZHMiLCJiaW5kX2xsbXNfZW5nYWdlbWVudCIsImVuZ2FnZW1lbnRfdHlwZSIsIiRzZWxlY3QiLCJjcHQiLCJiaW5kX2xsbXNfbWVtYmVyc2hpcCIsIiRjb250YWluZXIiLCJjb3Vyc2VfaWQiLCJmYWRlT3V0IiwicHJlcGVuZCIsIm1lc3NhZ2UiLCJyZXBsYWNlV2l0aCIsImJpbmRfbGxtc19vcmRlciIsInR4bl9pZCIsInJlZnVuZGFibGVfYW1vdW50IiwiZ2F0ZXdheV9zdXBwb3J0cyIsImdhdGV3YXlfdGl0bGUiLCIkbmV3X3JvdyIsIiRnYXRld2F5X2J0biIsInNob3ciLCJhZnRlciIsIm5leHQiLCJvbmUiLCJnYXRld2F5IiwiZ2F0ZXdheV9kYXRhIiwiZmllbGQiLCIkd3JhcCIsImVuYWJsZWQiLCJoaWRlIiwiYmluZF9tZXJnZV9jb2RlX2J1dHRvbnMiLCIkd3JhcHBlcnMiLCJ0YXJnZXQiLCJjb2RlIiwidGlueW1jZSIsImluc2VydENvbnRlbnQiLCJhbGVydCIsIiRtZXRhYm94IiwidGFiX2lkIiwibXVsdGkiLCJsbG1zUG9zdHNTZWxlY3QyIiwibXNnIiwiaWQiLCJiaW5kX3RhYmxlcyIsIiR0YWJsZSIsImpRdWVyeSJdLCJtYXBwaW5ncyI6IkNBS0EsU0FBQUEsR0FFQUEsRUFBQUMsR0FBQUMsZ0JBQUEsV0FvQkEsTUFoQkFDLE1BQUFDLEdBQUEsUUFBQSwyQkFBQSxXQUVBLEdBQUFDLEdBQUFMLEVBQUFHLE1BQUFHLFFBQUEscUJBQ0FDLEVBQUFGLEVBQUFHLFNBQUEsb0JBRUFILEdBQUFJLFlBQUEsVUFFQUosRUFBQUssS0FBQSwwQkFBQUMsWUFBQSxLQUVBSixFQUFBSyxLQUFBLFdBQ0FaLEVBQUFHLE1BQUFVLFlBQUEsVUFDQWIsRUFBQUcsTUFBQU8sS0FBQSwwQkFBQUksUUFBQSxTQUtBWCxNQUlBWSxPQUFBQyxLQUFBRCxPQUFBQyxRQUVBLElBQUFDLEdBQUEsV0FVQWQsS0FBQWUsV0FNQUMsVUFBQWhCLEtBTUFpQixXQUFBLEtBUUFDLEtBQUEsV0FFQSxHQUFBQyxHQUFBbkIsSUFFQW1CLEdBQUFGLFdBQUFwQixFQUFBLDBCQUVBc0IsRUFBQUYsV0FBQUcsU0FHQUMsS0FBQUMsU0FBQSxXQUNBLE1BQUEsbUJBQUFDLFVBQ0EsV0FDQUosRUFBQUssT0FDQUwsRUFBQU0sU0FLQTVCLEVBQUEsNkNBQUFJLEdBQUEsUUFBQSxXQUNBSixFQUFBRyxNQUFBMEIsS0FBQSxvQkFB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LEVBQUEsZ0RBQUFJLEdBQUEsUUFBQSxXQUVBLEdBQUE0RSxHQUFBaEYsRUFBQUcsTUFDQXFNLEVBQUF4SCxFQUFBMUUsUUFBQSxjQUdBLElBQUEwRSxFQUFBbkQsS0FBQSxhQUFBLENBQ0EsR0FBQWtELEdBQUFDLEVBQUFELE1BQ0FDLEdBQUFELEtBQUFDLEVBQUFuRCxLQUFBLGNBQ0FtRCxFQUFBbkQsS0FBQSxZQUFBa0QsR0FJQXlILEVBQUE5TCxLQUFBLGVBQUFFLEtBQUEsV0FFQVosRUFBQUcsTUFBQStELFNBQUEsVUFDQWxFLEVBQUFHLE1BQUF3QyxTQUFBLFVBQUE5QixZQUFBLFVBRUFiLEVBQUFHLE1BQUF3QyxTQUFBLFVBQUE5QixZQUFBLGVBVUFWLEtBQUFrQixPQUtBTixRQUFBQyxLQUFBRyxVQUFBLEdBQUFGLElBRUF3TCIsImZpbGUiOiJsbG1zLW1ldGFib3hlcy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIExpZnRlckxNUyBBZG1pbiBQYW5lbCBNZXRhYm94IEZ1bmN0aW9uc1xuICogQHNpbmNlICAgIDMuMC4wXG4gKiBAdmVyc2lvbiAgMy4yMS4wXG4gKi9cbiggZnVuY3Rpb24oICQgKSB7XG5cblx0JC5mbi5sbG1zQ29sbGFwc2libGUgPSBmdW5jdGlvbigpIHtcblxuXHRcdHZhciAkZ3JvdXAgPSB0aGlzO1xuXG5cdFx0dGhpcy5vbiggJ2NsaWNrJywgJy5sbG1zLWNvbGxhcHNpYmxlLWhlYWRlcicsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgJHBhcmVudCA9ICQoIHRoaXMgKS5jbG9zZXN0KCAnLmxsbXMtY29sbGFwc2libGUnICksXG5cdFx0XHRcdCRzaWJsaW5ncyA9ICRwYXJlbnQuc2libGluZ3MoICcubGxtcy1jb2xsYXBzaWJsZScgKTtcblxuXHRcdFx0JHBhcmVudC50b2dnbGVDbGFzcyggJ29wZW5lZCcgKTtcblxuXHRcdFx0JHBhcmVudC5maW5kKCAnLmxsbXMtY29sbGFwc2libGUtYm9keScgKS5zbGlkZVRvZ2dsZSggNDAwICk7XG5cblx0XHRcdCRzaWJsaW5ncy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0JCggdGhpcyApLnJlbW92ZUNsYXNzKCAnb3BlbmVkJyApO1xuXHRcdFx0XHQkKCB0aGlzICkuZmluZCggJy5sbG1zLWNvbGxhcHNpYmxlLWJvZHknICkuc2xpZGVVcCggNDAwICk7XG5cdFx0XHR9ICk7XG5cblx0XHR9ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9O1xuXG5cdHdpbmRvdy5sbG1zID0gd2luZG93LmxsbXMgfHwge307XG5cblx0dmFyIE1ldGFib3hlcyA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0LyoqXG5cdFx0ICogbG9hZCBhbGwgcGFydGlhbHNcblx0XHQgKi9cblx0XHQvLz0gaW5jbHVkZSAuLi9wYXJ0aWFscy8qLmpzXG5cblx0XHQvKipcblx0XHQgKiBJbml0aWFsaXplXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4xMy4wXG5cdFx0ICovXG5cdFx0dGhpcy5pbml0ID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdFx0JCggJy5sbG1zLXNlbGVjdDItcG9zdCcgKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0c2VsZi5wb3N0X3NlbGVjdCggJCggdGhpcyApICk7XG5cdFx0XHR9ICk7XG5cblx0XHRcdCQoICcubGxtcy1jb2xsYXBzaWJsZS1ncm91cCcgKS5sbG1zQ29sbGFwc2libGUoKTtcblxuXHRcdFx0dGhpcy5iaW5kX3RhYnMoKTtcblxuXHRcdFx0Ly8gYmluZCBldmVyeXRoaW5nIGJldHRlciBhbmQgbGVzcyByZXBldGF0aXZlbHkuLi5cblx0XHRcdHZhciBiaW5kaW5ncyA9IFtcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHNlbGVjdG9yOiAkKCAnLmxsbXMtZGF0ZXBpY2tlcicgKSxcblx0XHRcdFx0XHRmdW5jOiAnYmluZF9kYXRlcGlja2VycycsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRzZWxlY3RvcjogJCggJy5sbG1zLXNlbGVjdDInICksXG5cdFx0XHRcdFx0ZnVuYzogZnVuY3Rpb24oICRzZWxlY3RvciApIHtcblx0XHRcdFx0XHRcdCRzZWxlY3Rvci5sbG1zU2VsZWN0Migge1xuXHRcdFx0XHRcdFx0XHR3aWR0aDogJzEwMCUnLFxuXHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRzZWxlY3RvcjogJCggJy5sbG1zLXNlbGVjdDItc3R1ZGVudCcgKSxcblx0XHRcdFx0XHRmdW5jOiBmdW5jdGlvbiggJHNlbGVjdG9yICkge1xuXHRcdFx0XHRcdFx0JHNlbGVjdG9yLmxsbXNTdHVkZW50c1NlbGVjdDIoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRzZWxlY3RvcjogJCggJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXVtkYXRhLWNvbnRyb2xzXScgKSxcblx0XHRcdFx0XHRmdW5jOiAnYmluZF9jYl9jb250cm9sbGVycycsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRzZWxlY3RvcjogJCggJ1tkYXRhLWlzLWNvbnRyb2xsZXJdJyApLFxuXHRcdFx0XHRcdGZ1bmM6ICdiaW5kX2NvbnRyb2xsZXJzJyxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHNlbGVjdG9yOiAkKCAnLmxsbXMtdGFibGUnICksXG5cdFx0XHRcdFx0ZnVuYzogJ2JpbmRfdGFibGVzJyxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHNlbGVjdG9yOiAkKCAnLmxsbXMtbWVyZ2UtY29kZS13cmFwcGVyJyApLFxuXHRcdFx0XHRcdGZ1bmM6ICdiaW5kX21lcmdlX2NvZGVfYnV0dG9ucycsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRzZWxlY3RvcjogJCggJ2EubGxtcy1lZGl0YWJsZScgKSxcblx0XHRcdFx0XHRmdW5jOiAnYmluZF9lZGl0YWJsZXMnLFxuXHRcdFx0XHR9LFxuXHRcdFx0XTtcblxuXHRcdFx0Ly8gYmluZCBhbGwgdGhlIGJpbmRhYmxlcyBidXQgZG9uJ3QgYmluZCB0aGluZ3MgaW4gcmVwZWF0ZXJzXG5cdFx0XHQkLmVhY2goIGJpbmRpbmdzLCBmdW5jdGlvbiggaW5kZXgsIG9iaiApIHtcblxuXHRcdFx0XHRpZiAoIG9iai5zZWxlY3Rvci5sZW5ndGggKSB7XG5cblx0XHRcdFx0XHQvLyByZWR1Y2UgdGhlIHNlbGVjdG9yIHRvIGV4Y2x1ZGUgaXRlbXMgaW4gYSByZXBlYXRlclxuXHRcdFx0XHRcdHZhciByZWR1Y2VkID0gb2JqLnNlbGVjdG9yLmZpbHRlciggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gKCAwID09PSAkKCB0aGlzICkuY2xvc2VzdCggJy5sbG1zLXJlcGVhdGVyLW1vZGVsJyApLmxlbmd0aCApO1xuXHRcdFx0XHRcdH0gKTtcblxuXHRcdFx0XHRcdC8vIGJpbmQgYnkgc3RyaW5nXG5cdFx0XHRcdFx0aWYgKCAnc3RyaW5nJyA9PT0gdHlwZW9mIG9iai5mdW5jICkge1xuXHRcdFx0XHRcdFx0c2VsZlsgb2JqLmZ1bmMgXSggcmVkdWNlZCApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQvLyBiaW5kIGJ5IGFuIGFub255bW91cyBmdW5jdGlvblxuXHRcdFx0XHRcdGVsc2UgaWYgKCAnZnVuY3Rpb24nID09PSB0eXBlb2Ygb2JqLmZ1bmMgKSB7XG5cdFx0XHRcdFx0XHRvYmouZnVuYyggcmVkdWNlZCApO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9XG5cblx0XHRcdH0gKTtcblxuXHRcdFx0Ly8gaWYgYSBwb3N0IHR5cGUgaXMgc2V0ICYgYSBiaW5kIGV4aXN0cyBmb3IgaXQsIGJpbmQgaXRcblx0XHRcdGlmICggd2luZG93LmxsbXMucG9zdC5wb3N0X3R5cGUgKSB7XG5cblx0XHRcdFx0dmFyIGZ1bmMgPSAnYmluZF8nICsgd2luZG93LmxsbXMucG9zdC5wb3N0X3R5cGU7XG5cblx0XHRcdFx0aWYgKCAnZnVuY3Rpb24nID09PSB0eXBlb2YgdGhpc1tmdW5jXSApIHtcblxuXHRcdFx0XHRcdHRoaXNbZnVuY10oKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBCaW5kIGNoZWNrYm94ZXMgdGhhdCBjb250cm9sIHRoZSBkaXNwbGF5IG9mIG90aGVyIGVsZW1lbnRzXG5cdFx0ICogQHBhcmFtICAgIG9iaiAgICRjb250cm9sbGVyc3MgIGpRdWVyeSBzZWxjdG9yIGZvciBjaGVja2JveGVzIHRvIGJlIGJvdW5kIGFzIGNoZWNrYm94IGNvbnRyb2xsZXJzXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4xMS4wXG5cdFx0ICovXG5cdFx0dGhpcy5iaW5kX2NiX2NvbnRyb2xsZXJzID0gZnVuY3Rpb24oICRjb250cm9sbGVycyApIHtcblxuXHRcdFx0JGNvbnRyb2xsZXJzID0gJGNvbnRyb2xsZXJzIHx8ICQoICdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl1bZGF0YS1jb250cm9sc10nICk7XG5cblx0XHRcdCRjb250cm9sbGVycy5lYWNoKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHR2YXIgJGNiID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdCRjb250cm9sbGVkID0gJCggJGNiLmF0dHIoICdkYXRhLWNvbnRyb2xzJyApICkuY2xvc2VzdCggJy5sbG1zLW1iLWxpc3QnICk7XG5cblx0XHRcdFx0JGNiLm9uKCAnY2hhbmdlJywgZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0XHRpZiAoICQoIHRoaXMgKS5pcyggJzpjaGVja2VkJyApICkge1xuXG5cdFx0XHRcdFx0XHQkY29udHJvbGxlZC5zbGlkZURvd24oIDIwMCApO1xuXG5cdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0JGNvbnRyb2xsZWQuc2xpZGVVcCggMjAwICk7XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fSApO1xuXG5cdFx0XHRcdCRjYi50cmlnZ2VyKCAnY2hhbmdlJyApO1xuXG5cdFx0XHR9ICk7XG5cblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogQmluZCBlbGVtZW50cyB0aGF0IGNvbnRyb2wgdGhlIGRpc3BsYXkgb2Ygb3RoZXIgZWxlbWVudHNcblx0XHQgKiBAcGFyYW0gICAgb2JqICAgJGNvbnRyb2xsZXJzcyAgalF1ZXJ5IHNlbGN0b3IgZm9yIGVsZW1lbnRzIHRvIGJlIGJvdW5kIGFzIGNoZWNrYm94IGNvbnRyb2xsZXJzXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4xMS4wXG5cdFx0ICovXG5cdFx0dGhpcy5iaW5kX2NvbnRyb2xsZXJzID0gZnVuY3Rpb24oICRjb250cm9sbGVycyApIHtcblxuXHRcdFx0JGNvbnRyb2xsZXJzID0gJGNvbnRyb2xsZXJzIHx8ICQoICdbZGF0YS1pcy1jb250cm9sbGVyXScgKTtcblxuXHRcdFx0JGNvbnRyb2xsZXJzLmVhY2goIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdHZhciAkZWwgPSAkKCB0aGlzICksXG5cdFx0XHRcdFx0JGNvbnRyb2xsZWQgPSAkKCAnW2RhdGEtY29udHJvbGxlcj1cIiMnICsgJGVsLmF0dHIoICdpZCcgKSArICdcIl0nICksXG5cdFx0XHRcdFx0dmFsO1xuXG5cdFx0XHRcdCRlbC5vbiggJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdFx0aWYgKCAnY2hlY2tib3gnID09PSAkZWwuYXR0ciggJ3R5cGUnICkgKSB7XG5cblx0XHRcdFx0XHRcdHZhbCA9ICRlbC5pcyggJzpjaGVja2VkJyApID8gJGVsLnZhbCgpIDogJ2ZhbHNlJztcblxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdHZhbCA9ICRlbC52YWwoKTtcblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdCRjb250cm9sbGVkLmVhY2goIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdFx0XHR2YXIgcG9zc2libGUgPSAkKCB0aGlzICkuYXR0ciggJ2RhdGEtY29udHJvbGxlci12YWx1ZScgKSxcblx0XHRcdFx0XHRcdFx0dmFscyA9IFtdO1xuXG5cdFx0XHRcdFx0XHRpZiAoIC0xICE9PSBwb3NzaWJsZS5pbmRleE9mKCAnLCcgKSApIHtcblxuXHRcdFx0XHRcdFx0XHR2YWxzID0gcG9zc2libGUuc3BsaXQoICcsJyApO1xuXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHRcdHZhbHMucHVzaCggcG9zc2libGUgKTtcblxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRpZiAoIC0xICE9PSB2YWxzLmluZGV4T2YoIHZhbCApICkge1xuXG5cdFx0XHRcdFx0XHRcdCQoIHRoaXMgKS5zbGlkZURvd24oIDIwMCApO1xuXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHRcdCQoIHRoaXMgKS5zbGlkZVVwKCAyMDAgKTtcblxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0fSApO1xuXG5cblx0XHRcdFx0fSApO1xuXG5cdFx0XHRcdCRlbC50cmlnZ2VyKCAnY2hhbmdlJyApO1xuXG5cdFx0XHR9ICk7XG5cblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogQmluZCBhIHNpbmdsZSBkYXRlcGlja2VyIGVsZW1lbnRcblx0XHQgKiBAcGFyYW0gICAgb2JqICAgJGVsICBqUXVlcnkgc2VsZWN0b3IgZm9yIHRoZSBpbnB1dCB0byBiaW5kIHRoZSBkYXRlcGlja2VyIHRvXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4xMC4wXG5cdFx0ICovXG5cdFx0dGhpcy5iaW5kX2RhdGVwaWNrZXIgPSBmdW5jdGlvbiggJGVsICkge1xuXHRcdFx0dmFyIGZvcm1hdCA9ICRlbC5hdHRyKCAnZGF0YS1mb3JtYXQnICkgfHwgJ21tL2RkL3l5Jyxcblx0XHRcdFx0bWF4RGF0ZSA9ICRlbC5hdHRyKCAnZGF0YS1tYXgtZGF0ZScgKSB8fCBudWxsLFxuXHRcdFx0XHRtaW5EYXRlID0gJGVsLmF0dHIoICdkYXRhLW1pbi1kYXRlJyApIHx8IG51bGw7XG5cdFx0XHQkZWwuZGF0ZXBpY2tlcigge1xuXHRcdFx0XHRkYXRlRm9ybWF0OiBmb3JtYXQsXG5cdFx0XHRcdG1heERhdGU6IG1heERhdGUsXG5cdFx0XHRcdG1pbkRhdGU6IG1pbkRhdGUsXG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogQmluZCBhbGwgTGlmdGVyTE1TIGRhdGVwaWNrZXJzXG5cdFx0ICogQHBhcmFtICAgIG9iaiAgICRkYXRlcGlja2VycyAgalF1ZXJ5IHNlbGVjdG9yIGZvciB0aGUgZWxlbWVudHMgdG8gYmluZFxuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMTEuMFxuXHRcdCAqL1xuXHRcdHRoaXMuYmluZF9kYXRlcGlja2VycyA9IGZ1bmN0aW9uKCAkZGF0ZXBpY2tlcnMgKSB7XG5cblx0XHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdFx0JGRhdGVwaWNrZXJzID0gJGRhdGVwaWNrZXJzIHx8ICQoJy5sbG1zLWRhdGVwaWNrZXInKTtcblxuXHRcdFx0JGRhdGVwaWNrZXJzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzZWxmLmJpbmRfZGF0ZXBpY2tlciggJCggdGhpcyApICk7XG5cdFx0XHR9ICk7XG5cblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogQmluZCBsbG1zLWVkaXRhYmxlIG1ldGFib3ggZmllbGRzIGFuZCByZWxhdGVkIGRvbSBpbnRlcmFjdGlvbnNcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjEwLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4xMC4wXG5cdFx0ICovXG5cdFx0dGhpcy5iaW5kX2VkaXRhYmxlcyA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdGZ1bmN0aW9uIG1ha2VfZWRpdGFibGUoICRmaWVsZCApIHtcblxuXHRcdFx0XHR2YXIgJGxhYmVsID0gJGZpZWxkLmZpbmQoICdsYWJlbCcgKS5jbG9uZSgpLFxuXHRcdFx0XHRcdG5hbWUgPSAkZmllbGQuYXR0ciggJ2RhdGEtbGxtcy1lZGl0YWJsZScgKSxcblx0XHRcdFx0XHR0eXBlID0gJGZpZWxkLmF0dHIoICdkYXRhLWxsbXMtZWRpdGFibGUtdHlwZScgKSxcblx0XHRcdFx0XHRyZXF1aXJlZCA9ICRmaWVsZC5hdHRyKCAnZGF0YS1sbG1zLWVkaXRhYmxlLXJlcXVpcmVkJyApIHx8ICdubycsXG5cdFx0XHRcdFx0dmFsID0gJGZpZWxkLmF0dHIoICdkYXRhLWxsbXMtZWRpdGFibGUtdmFsdWUnICksXG5cdFx0XHRcdFx0JGlucHV0O1xuXG5cdFx0XHRcdHJlcXVpcmVkID0gKCAneWVzJyA9PT0gcmVxdWlyZWQgKSA/ICcgcmVxdWlyZWQ9XCJyZXF1aXJlZFwiJyA6ICcnO1xuXG5cdFx0XHRcdGlmICggJ3NlbGVjdCcgPT09IHR5cGUgKSB7XG5cblx0XHRcdFx0XHR2YXIgb3B0aW9ucyA9IEpTT04ucGFyc2UoICRmaWVsZC5hdHRyKCAnZGF0YS1sbG1zLWVkaXRhYmxlLW9wdGlvbnMnICkgKSxcblx0XHRcdFx0XHRcdHNlbGVjdGVkO1xuXG5cdFx0XHRcdFx0JGlucHV0ID0gJCggJzxzZWxlY3QgbmFtZT1cIicgKyBuYW1lICsgJ1wiJyArIHJlcXVpcmVkICsgJyAvPicpO1xuXHRcdFx0XHRcdGZvciAoIHZhciBrZXkgaW4gb3B0aW9ucyApIHtcblx0XHRcdFx0XHRcdHNlbGVjdGVkID0gdmFsID09PSBrZXkgPyAnIHNlbGVjdGVkPVwic2VsZWN0ZWRcIicgOiAnJztcblx0XHRcdFx0XHRcdCRpbnB1dC5hcHBlbmQoICc8b3B0aW9uIHZhbHVlPVwiJyArIGtleSArICdcIicgKyBzZWxlY3RlZCArICc+JyArIG9wdGlvbnNbIGtleSBdICsgJzwvb3B0aW9uPicgKTtcblx0XHRcdFx0XHR9XG5cblxuXHRcdFx0XHR9IGVsc2UgaWYgKCAnZGF0ZXRpbWUnID09PSB0eXBlICkge1xuXG5cdFx0XHRcdFx0JGlucHV0ID0gJCggJzxkaXYgY2xhc3M9XCJsbG1zLWRhdGV0aW1lLWZpZWxkXCIgLz4nICk7XG5cblx0XHRcdFx0XHR2YWwgPSBKU09OLnBhcnNlKCB2YWwgKTtcblx0XHRcdFx0XHR2YXIgZm9ybWF0ID0gJGZpZWxkLmF0dHIoICdkYXRhLWxsbXMtZWRpdGFibGUtZGF0ZS1mb3JtYXQnICkgfHwgJycsXG5cdFx0XHRcdFx0XHRtaW5fZGF0ZSA9ICRmaWVsZC5hdHRyKCAnZGF0YS1sbG1zLWVkaXRhYmxlLWRhdGUtbWluJyApIHx8ICcnLFxuXHRcdFx0XHRcdFx0bWF4X2RhdGUgPSAkZmllbGQuYXR0ciggJ2RhdGEtbGxtcy1lZGl0YWJsZS1kYXRlLW1heCcgKSB8fCAnJztcblxuXHRcdFx0XHRcdCRwaWNrZXIgPSAkKCAnPGlucHV0IGNsYXNzPVwibGxtcy1kYXRlLWlucHV0IGxsbXMtZGF0ZXBpY2tlclwiIGRhdGEtZm9ybWF0PVwiJyArIGZvcm1hdCArICdcIiBkYXRhLW1heC1kYXRlPVwiJyArIG1heF9kYXRlICsgJ1wiIGRhdGEtbWluLWRhdGU9XCInICsgbWluX2RhdGUgKyAnXCIgbmFtZT1cIicgKyBuYW1lICsgJ1tkYXRlXVwiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCInICsgIHZhbC5kYXRlICsgJ1wiPicgKTtcblx0XHRcdFx0XHRzZWxmLmJpbmRfZGF0ZXBpY2tlciggJHBpY2tlciApO1xuXHRcdFx0XHRcdCRpbnB1dC5hcHBlbmQoICRwaWNrZXIgKTtcblx0XHRcdFx0XHQkaW5wdXQuYXBwZW5kKCAnPGVtPkA8L2VtPicpO1xuXG5cdFx0XHRcdFx0JGlucHV0LmFwcGVuZCggJzxpbnB1dCBjbGFzcz1cImxsbXMtdGltZS1pbnB1dFwiIG1heD1cIjIzXCIgbWluPVwiMFwiIG5hbWU9XCInICsgbmFtZSArICdbaG91cl1cIiB0eXBlPVwibnVtYmVyXCIgdmFsdWU9XCInICsgIHZhbC5ob3VyICsgJ1wiPicgKTtcblx0XHRcdFx0XHQkaW5wdXQuYXBwZW5kKCAnPGVtPjo8L2VtPicpO1xuXHRcdFx0XHRcdCRpbnB1dC5hcHBlbmQoICc8aW5wdXQgY2xhc3M9XCJsbG1zLXRpbWUtaW5wdXRcIiBtYXg9XCI1OVwiIG1pbj1cIjBcIiBuYW1lPVwiJyArIG5hbWUgKyAnW21pbnV0ZV1cIiB0eXBlPVwibnVtYmVyXCIgdmFsdWU9XCInICsgIHZhbC5taW51dGUgKyAnXCI+JyApO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHQkaW5wdXQgPSAkKCAnPGlucHV0IG5hbWU9XCInICsgbmFtZSArICdcIiB0eXBlPVwiJyArIHR5cGUgKyAnXCIgdmFsdWU9XCInICsgdmFsICsgJ1wiJyArIHJlcXVpcmVkICsgJz4nKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdCRmaWVsZC5lbXB0eSgpLmFwcGVuZCggJGxhYmVsICkuYXBwZW5kKCAkaW5wdXQgKTtcblxuXHRcdFx0fTtcblxuXHRcdFx0JCggJ2EubGxtcy1lZGl0YWJsZScgKS5vbiggJ2NsaWNrJywgZnVuY3Rpb24oIGUgKSB7XG5cblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHRcdHZhciAkYnRuID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdCRmaWVsZHM7XG5cblx0XHRcdFx0aWYgKCAkYnRuLmF0dHIoICdkYXRhLWZpZWxkcycgKSApIHtcblx0XHRcdFx0XHQkZmllbGRzID0gJCggJGJ0bi5hdHRyKCAnZGF0YS1maWVsZHMnICkgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQkZmllbGRzID0gJGJ0bi5jbG9zZXN0KCAnLmxsbXMtbWV0YWJveC1zZWN0aW9uJyApLmZpbmQoICdbZGF0YS1sbG1zLWVkaXRhYmxlXScgKTtcblx0XHRcdFx0fVxuXG5cblx0XHRcdFx0JGJ0bi5yZW1vdmUoKTtcblxuXHRcdFx0XHQkZmllbGRzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdG1ha2VfZWRpdGFibGUoICQoIHRoaXMgKSApO1xuXHRcdFx0XHR9ICk7XG5cblx0XHRcdH0gKTtcblxuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBCaW5kIEVuZ2FnZW1lbnQgcG9zdCB0eXBlIEpTXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4xLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4xLjBcblx0XHQgKi9cblx0XHR0aGlzLmJpbmRfbGxtc19lbmdhZ2VtZW50ID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdFx0Ly8gd2hlbiB0aGUgZW5nYWdlbWVudCB0eXBlIGNoYW5nZXMgd2UgbmVlZCB0byBkbyBzb21lIHRoaW5ncyB0byB0aGUgVUlcblx0XHRcdCQoICcjX2xsbXNfZW5nYWdlbWVudF90eXBlJyApLm9uKCAnY2hhbmdlJywgZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0JCggJyNfbGxtc19lbmdhZ2VtZW50JyApLnRyaWdnZXIoICdsbG1zLWVuZ2FnZW1lbnQtdHlwZS1jaGFuZ2UnLCAkKCB0aGlzICkudmFsKCkgKTtcblxuXHRcdFx0fSApO1xuXG5cdFx0XHQvLyBjdXN0b20gdHJpZ2dlciB3aGVuIGNhbGxlZCB3aGVuIHRoZSBlbmdhZ2VtZW50IHR5cGUgY2hhbmdzXG5cdFx0XHQkKCAnI19sbG1zX2VuZ2FnZW1lbnQnICkub24oICdsbG1zLWVuZ2FnZW1lbnQtdHlwZS1jaGFuZ2UnLCBmdW5jdGlvbiggZSwgZW5nYWdlbWVudF90eXBlICkge1xuXG5cdFx0XHRcdHZhciAkc2VsZWN0ID0gJCggdGhpcyApO1xuXG5cdFx0XHRcdHN3aXRjaCAoIGVuZ2FnZW1lbnRfdHlwZSApIHtcblxuXHRcdFx0XHRcdC8qKlxuXHRcdFx0XHRcdCAqIGNvcmUgZW5nYWdlbWVudHMgcmVsYXRlZCB0byBhIENQVFxuXHRcdFx0XHRcdCAqL1xuXHRcdFx0XHRcdGNhc2UgJ2FjaGlldmVtZW50Jzpcblx0XHRcdFx0XHRjYXNlICdjZXJ0aWZpY2F0ZSc6XG5cdFx0XHRcdFx0Y2FzZSAnZW1haWwnOlxuXG5cdFx0XHRcdFx0XHR2YXIgY3B0ID0gJ2xsbXNfJyArIGVuZ2FnZW1lbnRfdHlwZTtcblxuXHRcdFx0XHRcdFx0JHNlbGVjdC52YWwoIG51bGwgKS5hdHRyKCAnZGF0YS1wb3N0LXR5cGUnLCBjcHQgKS50cmlnZ2VyKCAnY2hhbmdlJyApO1xuXHRcdFx0XHRcdFx0c2VsZi5wb3N0X3NlbGVjdCggJHNlbGVjdCApO1xuXG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHQvKipcblx0XHRcdFx0XHQgKiBBbGxvdyBvdGhlciBwbHVnaW5zIGFuZCBkZXZlbG9wZXJzIHRvIGhvb2sgaW50byB0aGUgZW5nYWdlbWVudCB0eXBlIGNoYW5nZSBhY3Rpb25cblx0XHRcdFx0XHQgKi9cblx0XHRcdFx0XHRkZWZhdWx0OlxuXG5cdFx0XHRcdFx0XHQkc2VsZWN0LnRyaWdnZXIoICdsbG1zLWVuZ2FnZW1lbnQtdHlwZS1jaGFuZ2UtZXh0ZXJuYWwnLCBlbmdhZ2VtZW50X3R5cGUgKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdH0gKTtcblxuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBBY3Rpb25zIGZvciBtZW1iZXJzaGlwc1xuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMTguMlxuXHRcdCAqL1xuXHRcdHRoaXMuYmluZF9sbG1zX21lbWJlcnNoaXAgPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gcmVtb3ZlIGF1dG8tZW5yb2xsIGNvdXJzZVxuXHRcdFx0JCggJ2FbaHJlZj1cIiNsbG1zLWNvdXJzZS1yZW1vdmVcIl0nICkub24oICdjbGljaycsIGZ1bmN0aW9uKCBlICkge1xuXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0XHR2YXIgJGVsID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdCRyb3cgPSAkZWwuY2xvc2VzdCggJ3RyJyApLFxuXHRcdFx0XHRcdCRjb250YWluZXIgPSAkZWwuY2xvc2VzdCggJy5sbG1zLW1iLWxpc3QnICk7XG5cblx0XHRcdFx0TExNUy5TcGlubmVyLnN0YXJ0KCAkY29udGFpbmVyICk7XG5cblx0XHRcdFx0d2luZG93LkxMTVMuQWpheC5jYWxsKCB7XG5cdFx0XHRcdFx0ZGF0YToge1xuXHRcdFx0XHRcdFx0YWN0aW9uOiAnbWVtYmVyc2hpcF9yZW1vdmVfYXV0b19lbnJvbGxfY291cnNlJyxcblx0XHRcdFx0XHRcdGNvdXJzZV9pZDogJGVsLmF0dHIoICdkYXRhLWlkJyApLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0YmVmb3JlU2VuZDogZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0XHRcdCRjb250YWluZXIuZmluZCggJ3AuZXJyb3InICkucmVtb3ZlKCk7XG5cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKCByICkge1xuXG5cdFx0XHRcdFx0XHRpZiAoIHIuc3VjY2VzcyApIHtcblxuXHRcdFx0XHRcdFx0XHQkcm93LmZhZGVPdXQoIDIwMCApO1xuXHRcdFx0XHRcdFx0XHRzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHQkcm93LnJlbW92ZSgpO1xuXHRcdFx0XHRcdFx0XHR9LCA0MDAgKTtcblxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0XHQkY29udGFpbmVyLnByZXBlbmQoICc8cCBjbGFzcz1cImVycm9yXCI+JyArIHIubWVzc2FnZSArICc8L3A+JyApO1xuXG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdExMTVMuU3Bpbm5lci5zdG9wKCAkY29udGFpbmVyICk7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fSApO1xuXG5cdFx0XHR9ICk7XG5cblx0XHRcdC8vIGJ1bGsgZW5yb2xsIGFsbCBtZW1iZXJzIGludG8gYSBjb3Vyc2Vcblx0XHRcdCQoICdhW2hyZWY9XCIjbGxtcy1jb3Vyc2UtYnVsay1lbnJvbGxcIl0nICkub24oICdjbGljaycsIGZ1bmN0aW9uKCBlICkge1xuXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0XHR2YXIgJGVsID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdCRyb3cgPSAkZWwuY2xvc2VzdCggJ3RyJyApLFxuXHRcdFx0XHRcdCRjb250YWluZXIgPSAkZWwuY2xvc2VzdCggJy5sbG1zLW1iLWxpc3QnICk7XG5cblx0XHRcdFx0aWYgKCAhIHdpbmRvdy5jb25maXJtKCBMTE1TLmwxMG4udHJhbnNsYXRlKCAnQ2xpY2sgb2theSB0byBlbnJvbGwgYWxsIGFjdGl2ZSBtZW1iZXJzIGludG8gdGhlIHNlbGVjdGVkIGNvdXJzZS4gRW5yb2xsbWVudCB3aWxsIHRha2UgcGxhY2UgaW4gdGhlIGJhY2tncm91bmQgYW5kIHlvdSBtYXkgbGVhdmUgeW91ciBzaXRlIGFmdGVyIGNvbmZpcm1hdGlvbi4gVGhpcyBhY3Rpb24gY2Fubm90IGJlIHVuZG9uZSEnICkgKSApIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRMTE1TLlNwaW5uZXIuc3RhcnQoICRjb250YWluZXIgKTtcblxuXHRcdFx0XHR3aW5kb3cuTExNUy5BamF4LmNhbGwoIHtcblx0XHRcdFx0XHRkYXRhOiB7XG5cdFx0XHRcdFx0XHRhY3Rpb246ICdidWxrX2Vucm9sbF9tZW1iZXJzaGlwX2ludG9fY291cnNlJyxcblx0XHRcdFx0XHRcdGNvdXJzZV9pZDogJGVsLmF0dHIoICdkYXRhLWlkJyApLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0YmVmb3JlU2VuZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHQkY29udGFpbmVyLmZpbmQoICdwLmVycm9yJyApLnJlbW92ZSgpO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24oIHIgKSB7XG5cblx0XHRcdFx0XHRcdGlmICggci5zdWNjZXNzICkge1xuXG5cdFx0XHRcdFx0XHRcdCRlbC5yZXBsYWNlV2l0aCggJzxzdHJvbmcgc3R5bGU9XCJmbG9hdDpyaWdodDtcIj4nICsgci5kYXRhLm1lc3NhZ2UgKyAnJm5ic3A7Jm5ic3A7PC9zdHJvbmc+JyApO1xuXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHRcdCRjb250YWluZXIucHJlcGVuZCggJzxwIGNsYXNzPVwiZXJyb3JcIj4nICsgci5tZXNzYWdlICsgJzwvcD4nICk7XG5cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0TExNUy5TcGlubmVyLnN0b3AoICRjb250YWluZXIgKTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9ICk7XG5cblx0XHRcdH0gKTtcblxuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBBY3Rpb25zIGZvciBPUkRFUlNcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjEwLjBcblx0XHQgKi9cblx0XHR0aGlzLmJpbmRfbGxtc19vcmRlciA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQkKCAnYnV0dG9uW25hbWU9XCJsbG1zLXJlZnVuZC10b2dnbGVcIl0nICkub24oICdjbGljaycsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdHZhciAkYnRuID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdCRyb3cgPSAkYnRuLmNsb3Nlc3QoICd0cicgKSxcblx0XHRcdFx0XHR0eG5faWQgPSAkcm93LmF0dHIoICdkYXRhLXRyYW5zYWN0aW9uLWlkJyApLFxuXHRcdFx0XHRcdHJlZnVuZGFibGVfYW1vdW50ID0gJGJ0bi5hdHRyKCAnZGF0YS1yZWZ1bmRhYmxlJyApLFxuXHRcdFx0XHRcdGdhdGV3YXlfc3VwcG9ydHMgPSAoICcxJyA9PT0gJGJ0bi5hdHRyKCAnZGF0YS1nYXRld2F5LXN1cHBvcnRzJyApICkgPyB0cnVlIDogZmFsc2UsXG5cdFx0XHRcdFx0Z2F0ZXdheV90aXRsZSA9ICRidG4uYXR0ciggJ2RhdGEtZ2F0ZXdheScgKSxcblx0XHRcdFx0XHQkbmV3X3JvdyA9ICQoICcjbGxtcy10eG4tcmVmdW5kLW1vZGVsIC5sbG1zLXR4bi1yZWZ1bmQtZm9ybScgKS5jbG9uZSgpLFxuXHRcdFx0XHRcdCRnYXRld2F5X2J0biA9ICRuZXdfcm93LmZpbmQoICcuZ2F0ZXdheS1idG4nICk7XG5cblx0XHRcdFx0Ly8gY29uZmlndXJlIGFuZCBhZGQgdGhlIGZvcm1cblx0XHRcdFx0aWYgKCAncmVtb3ZlJyAhPT0gJGJ0bi5hdHRyKCAnZGF0YS1hY3Rpb24nICkgKSB7XG5cblx0XHRcdFx0XHQkYnRuLnRleHQoIExMTVMubDEwbi50cmFuc2xhdGUoICdDYW5jZWwnICkgKTtcblx0XHRcdFx0XHQkYnRuLmF0dHIoICdkYXRhLWFjdGlvbicsICdyZW1vdmUnICk7XG5cdFx0XHRcdFx0JG5ld19yb3cuZmluZCggJ2lucHV0JyApLnJlbW92ZUF0dHIoICdkaXNhYmxlZCcgKTtcblx0XHRcdFx0XHQkbmV3X3Jvdy5maW5kKCAnaW5wdXRbbmFtZT1cImxsbXNfcmVmdW5kX2Ftb3VudFwiXScgKS5hdHRyKCAnbWF4JywgcmVmdW5kYWJsZV9hbW91bnQgKTtcblx0XHRcdFx0XHQkbmV3X3Jvdy5maW5kKCAnaW5wdXRbbmFtZT1cImxsbXNfcmVmdW5kX3R4bl9pZFwiXScgKS52YWwoIHR4bl9pZCApO1xuXG5cdFx0XHRcdFx0aWYgKCBnYXRld2F5X3N1cHBvcnRzICkge1xuXHRcdFx0XHRcdFx0JGdhdGV3YXlfYnRuLmZpbmQoICcubGxtcy1nYXRld2F5LXRpdGxlJyApLnRleHQoIGdhdGV3YXlfdGl0bGUgKTtcblx0XHRcdFx0XHRcdCRnYXRld2F5X2J0bi5zaG93KCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0JHJvdy5hZnRlciggJG5ld19yb3cgKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0JGJ0bi50ZXh0KCBMTE1TLmwxMG4udHJhbnNsYXRlKCAnUmVmdW5kJyApICk7XG5cdFx0XHRcdFx0JGJ0bi5hdHRyKCAnZGF0YS1hY3Rpb24nLCAnJyApO1xuXHRcdFx0XHRcdCRyb3cubmV4dCggJ3RyJyApLnJlbW92ZSgpO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0fSApO1xuXG5cdFx0XHQkKCAnYnV0dG9uW25hbWU9XCJsbG1zLW1hbnVhbC10eG4tdG9nZ2xlXCJdJyApLm9uKCAnY2xpY2snLCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHR2YXIgJGJ0biA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHQkcm93ID0gJGJ0bi5jbG9zZXN0KCAndHInICksXG5cdFx0XHRcdFx0JG5ld19yb3cgPSAkKCAnI2xsbXMtbWFudWFsLXR4bi1tb2RlbCAubGxtcy1tYW51YWwtdHhuLWZvcm0nICkuY2xvbmUoKTtcblxuXHRcdFx0XHQvLyBjb25maWd1cmUgYW5kIGFkZCB0aGUgZm9ybVxuXHRcdFx0XHRpZiAoICdyZW1vdmUnICE9PSAkYnRuLmF0dHIoICdkYXRhLWFjdGlvbicgKSApIHtcblxuXHRcdFx0XHRcdCRidG4udGV4dCggTExNUy5sMTBuLnRyYW5zbGF0ZSggJ0NhbmNlbCcgKSApO1xuXHRcdFx0XHRcdCRidG4uYXR0ciggJ2RhdGEtYWN0aW9uJywgJ3JlbW92ZScgKTtcblx0XHRcdFx0XHQkbmV3X3Jvdy5maW5kKCAnaW5wdXQnICkucmVtb3ZlQXR0ciggJ2Rpc2FibGVkJyApO1xuXG5cdFx0XHRcdFx0JHJvdy5hZnRlciggJG5ld19yb3cgKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0JGJ0bi50ZXh0KCBMTE1TLmwxMG4udHJhbnNsYXRlKCAnUmVjb3JkIGEgTWFudWFsIFBheW1lbnQnICkgKTtcblx0XHRcdFx0XHQkYnRuLmF0dHIoICdkYXRhLWFjdGlvbicsICcnICk7XG5cdFx0XHRcdFx0JHJvdy5uZXh0KCAndHInICkucmVtb3ZlKCk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9ICk7XG5cblx0XHRcdC8vIGNhY2hlIHRoZSBvcmlnaW5hbCB2YWx1ZSB3aGVuIGZvY3VzaW5nIG9uIGEgcGF5bWVudCBnYXRld2F5IHNlbGVjdFxuXHRcdFx0Ly8gdXNlZCBiZWxvdyBzbyB0aGUgb3JpZ2luYWwgZmllbGQgcmVsYXRlZCBkYXRhIGNhbiBiZSByZXN0b3JlZCB3aGVuIHN3aXRjaGluZyBiYWNrIHRvIHRoZSBvcmlnbmlhbGx5IHNlbGVjdGVkIGdhdGV3YXlcblx0XHRcdCQoICcubGxtcy1tZXRhYm94JyApLm9uZSggJ2ZvY3VzJywgJy5sbG1zLW1ldGFib3gtZmllbGRbZGF0YS1sbG1zLWVkaXRhYmxlPVwicGF5bWVudF9nYXRld2F5XCJdIHNlbGVjdCcsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdGlmICggISAkKCB0aGlzICkuYXR0ciggJ2RhdGEtb3JpZ2luYWwtdmFsdWUnICkgKSB7XG5cdFx0XHRcdFx0JCggdGhpcyApLmF0dHIoICdkYXRhLW9yaWdpbmFsLXZhbHVlJywgJCggdGhpcyApLnZhbCgpICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0fSApO1xuXG5cdFx0XHQvLyB3aGVuIHNlbGVjdGluZyBhIG5ldyBwYXltZW50IGdhdGV3YXkgZ2V0IGZpZWxkIGRhdGEgYW5kIHVwZGF0ZSB0aGUgZG9tIHRvIG9ubHkgZGlzcGxheSB0aGUgZmllbGRzXG5cdFx0XHQvLyBzdXBwb3J0ZWQvbmVlZGVkIGJ5IHRoZSBuZXdseSBzZWxlY3RlZCBnYXRld2F5XG5cdFx0XHQkKCAnLmxsbXMtbWV0YWJveCcgKS5vbiggJ2NoYW5nZScsICcubGxtcy1tZXRhYm94LWZpZWxkW2RhdGEtbGxtcy1lZGl0YWJsZT1cInBheW1lbnRfZ2F0ZXdheVwiXSBzZWxlY3QnLCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHR2YXIgJHNlbGVjdCA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHRnYXRld2F5ID0gJHNlbGVjdC52YWwoKSxcblx0XHRcdFx0XHRkYXRhID0gSlNPTi5wYXJzZSggJHNlbGVjdC5jbG9zZXN0KCAnLmxsbXMtbWV0YWJveC1maWVsZCcgKS5hdHRyKCAnZGF0YS1nYXRld2F5LWZpZWxkcycgKSApLFxuXHRcdFx0XHRcdGdhdGV3YXlfZGF0YSA9IGRhdGFbIGdhdGV3YXkgXTtcblxuXHRcdFx0XHRmb3IgKCB2YXIgZmllbGQgaW4gZ2F0ZXdheV9kYXRhICkge1xuXG5cdFx0XHRcdFx0dmFyICRmaWVsZCA9ICQoICdpbnB1dFtuYW1lPVwiJyArIGdhdGV3YXlfZGF0YVsgZmllbGQgXS5uYW1lICsgJ1wiXScgKSxcblx0XHRcdFx0XHRcdCR3cmFwID0gJGZpZWxkLmNsb3Nlc3QoICcubGxtcy1tZXRhYm94LWZpZWxkJyApO1xuXG5cdFx0XHRcdFx0Ly8gYWx3YXlzIGNsZWFyIHRoZSB2YWx1ZSB3aGVuIHN3aXRjaGluZ1xuXHRcdFx0XHRcdC8vIGVuc3VyZXMgdGhhdCBvdXRkYXRlZCBkYXRhIGlzIHJlbW92ZWQgZnJvbSB0aGUgREJcblx0XHRcdFx0XHQkZmllbGQuYXR0ciggJ3ZhbHVlJywgJycgKTtcblxuXHRcdFx0XHRcdC8vIGlmIHRoZSBmaWVsZCBpcyBlbmFibGVkIHNob3cgaXQgdGhlIGZpZWxkIGFuZCwgaWYgd2UncmUgc3dpdGNoaW5nIGJhY2sgdG8gdGhlIG9yaWdpbmFsbHkgc2VsZWN0ZWRcblx0XHRcdFx0XHQvLyBnYXRld2F5LCByZWxvYWQgdGhlIHZhbHVlIGZyb20gdGhlIGRvbVxuXHRcdFx0XHRcdGlmICggZ2F0ZXdheV9kYXRhWyBmaWVsZCBdLmVuYWJsZWQgKSB7XG5cblx0XHRcdFx0XHRcdCR3cmFwLnNob3coKTtcblx0XHRcdFx0XHRcdCRmaWVsZC5hdHRyKCAncmVxdWlyZWQnLCAncmVxdWlyZWQnICk7XG5cdFx0XHRcdFx0XHRpZiAoIGdhdGV3YXkgPT09ICRzZWxlY3QuYXR0ciggJ2RhdGEtb3JpZ2luYWwtdmFsdWUnKSApIHtcblx0XHRcdFx0XHRcdFx0JGZpZWxkLnZhbCggJHdyYXAuYXR0ciggJ2RhdGEtbGxtcy1lZGl0YWJsZS12YWx1ZScgKSApO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gb3RoZXJ3aXNlIGhpZGUgdGhlIGZpZWxkXG5cdFx0XHRcdFx0Ly8gdGhpcyB3aWxsIGVuc3VyZSBpdCBnZXRzIHVwZGF0ZWQgaW4gdGhlIGRhdGFiYXNlXG5cdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0JGZpZWxkLnJlbW92ZUF0dHIoICdyZXF1aXJlZCcgKTtcblx0XHRcdFx0XHRcdCR3cmFwLmhpZGUoKTtcblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9XG5cblx0XHRcdH0gKTtcblxuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBCaW5kcyBjdXN0b20gbGxtcyBtZXJnZSBjb2RlIGJ1dHRvbnNcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjEuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjkuMlxuXHRcdCAqL1xuXHRcdHRoaXMuYmluZF9tZXJnZV9jb2RlX2J1dHRvbnMgPSBmdW5jdGlvbiggJHdyYXBwZXJzICkge1xuXG5cdFx0XHQkd3JhcHBlcnMgPSAkd3JhcHBlcnMgfHwgJCggJy5sbG1zLW1lcmdlLWNvZGUtd3JhcHBlcicgKTtcblxuXHRcdFx0JHdyYXBwZXJzLmZpbmQoICcubGxtcy1tZXJnZS1jb2RlLWJ1dHRvbicgKS5vbiggJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0JCggdGhpcyApLm5leHQoICcubGxtcy1tZXJnZS1jb2RlcycgKS50b2dnbGVDbGFzcyggJ2FjdGl2ZScgKTtcblxuXHRcdFx0fSApO1xuXG5cdFx0XHQkd3JhcHBlcnMuZmluZCggJy5sbG1zLW1lcmdlLWNvZGVzIGxpJyApLm9uKCAnY2xpY2snLCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHR2YXIgJGVsID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdCRwYXJlbnQgPSAkZWwuY2xvc2VzdCggJy5sbG1zLW1lcmdlLWNvZGVzJyApLFxuXHRcdFx0XHRcdHRhcmdldCA9ICRwYXJlbnQuYXR0ciggJ2RhdGEtdGFyZ2V0JyApLFxuXHRcdFx0XHRcdGNvZGUgPSAkZWwuYXR0ciggJ2RhdGEtY29kZScgKTtcblxuXHRcdFx0XHQvLyBkZWFsaW5nIHdpdGggYSB0aW55bWNlIGluc3RhbmNlXG5cdFx0XHRcdGlmICggLTEgPT09IHRhcmdldC5pbmRleE9mKCAnIycgKSApIHtcblxuXHRcdFx0XHRcdHZhciBlZGl0b3IgPSB3aW5kb3cudGlueW1jZS5lZGl0b3JzWyB0YXJnZXQgXTtcblx0XHRcdFx0XHRpZiAoIGVkaXRvciApIHtcblx0XHRcdFx0XHRcdGVkaXRvci5pbnNlcnRDb250ZW50KCBjb2RlICk7XG5cdFx0XHRcdFx0fSAvLyBmYWxsYmFjayBpbiBjYXNlIHdlIGNhbid0IGFjY2VzcyB0aGUgZWRpdG9yIGRpcmVjdGx5XG5cdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHRhbGVydCggTExNUy5sMTBuLnRyYW5zbGF0ZSggJ0NvcHkgdGhpcyBjb2RlIGFuZCBwYXN0ZSBpdCBpbnRvIHRoZSBkZXNpcmVkIGFyZWEnICkgKyAnOiAnICsgY29kZSApO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIGRlYWxpbmcgd2l0aCBhIERPTSBpZFxuXHRcdFx0XHRlbHNlIHtcblxuXHRcdFx0XHRcdCQoIHRhcmdldCApLnZhbCggJCggdGFyZ2V0ICkudmFsKCkgKyBjb2RlICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdCRwYXJlbnQucmVtb3ZlQ2xhc3MoICdhY3RpdmUnICk7XG5cblx0XHRcdH0gKTtcblxuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBCaW5kIG1ldGFib3ggdGFic1xuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMC4wXG5cdFx0ICovXG5cdFx0dGhpcy5iaW5kX3RhYnMgPSBmdW5jdGlvbigpIHtcblx0XHRcdCQoICcubGxtcy1uYXYtdGFiLXdyYXBwZXIgLnRhYnMgbGknICkub24oICdjbGljaycsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdHZhciAkYnRuID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdCRtZXRhYm94ID0gJGJ0bi5jbG9zZXN0KCAnLmxsbXMtbWItY29udGFpbmVyJyApLFxuXHRcdFx0XHRcdHRhYl9pZCA9ICRidG4uYXR0ciggJ2RhdGEtdGFiJyApO1xuXG5cdFx0XHRcdCRidG4uc2libGluZ3MoKS5yZW1vdmVDbGFzcyggJ2xsbXMtYWN0aXZlJyApO1xuXG5cdFx0XHRcdCRtZXRhYm94LmZpbmQoICcudGFiLWNvbnRlbnQnICkucmVtb3ZlQ2xhc3MoICdsbG1zLWFjdGl2ZScgKTtcblxuXHRcdFx0XHQkYnRuLmFkZENsYXNzKCAnbGxtcy1hY3RpdmUnICk7XG5cdFx0XHRcdCQoICcjJyArIHRhYl9pZCApLmFkZENsYXNzKCAnbGxtcy1hY3RpdmUnICk7XG5cblx0XHRcdH0gKTtcblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogRW5hYmxlIFdQIFBvc3QgVGFibGUgc2VhcmNoZXMgZm9yIGFwcGxpY2FibGUgc2VsZWN0MiBib3hlc1xuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMjEuMFxuXHRcdCAqL1xuXHRcdHRoaXMucG9zdF9zZWxlY3QgPSBmdW5jdGlvbiggJGVsICkge1xuXG5cdFx0XHR2YXIgbXVsdGkgPSAnbXVsdGlwbGUnID09PSAkZWwuYXR0ciggJ211bHRpcGxlJyApO1xuXG5cdFx0XHQkZWwubGxtc1Bvc3RzU2VsZWN0Migge1xuXHRcdFx0XHR3aWR0aDogbXVsdGkgPyAnMTAwJScgOiAnNjUlJyxcblx0XHRcdH0gKTtcblxuXHRcdFx0aWYgKCBtdWx0aSB8fCAkZWwuYXR0ciggJ2RhdGEtbm8tdmlldy1idXR0b24nICkgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gYWRkIGEgXCJWaWV3XCIgYnV0dG9uIHRvIHNlZSB3aGF0IHRoZSBzZWxlY3RlZCBwYWdlIGxvb2tzIGxpa2Vcblx0XHRcdHZhciBtc2cgPSBMTE1TLmwxMG4udHJhbnNsYXRlKCAnVmlldycgKSxcblx0XHRcdFx0JGJ0biA9ICQoICc8YSBjbGFzcz1cImxsbXMtYnV0dG9uLXNlY29uZGFyeSBzbWFsbFwiIHN0eWxlPVwibWFyZ2luLWxlZnQ6NXB4O1wiIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCIjXCI+JyArICBtc2cgKyAnIDxpIGNsYXNzPVwiZmEgZmEtZXh0ZXJuYWwtbGlua1wiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT48L2E+JyApO1xuXHRcdFx0JGVsLm5leHQoICcuc2VsZWN0MicgKS5hZnRlciggJGJ0biApO1xuXG5cdFx0XHQkZWwub24oICdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGlkID0gJCggdGhpcyApLnZhbCgpO1xuXHRcdFx0XHRpZiAoIGlkICkge1xuXHRcdFx0XHRcdCRidG4uYXR0ciggJ2hyZWYnLCAnLz9wPScgKyBpZCApLnNob3coKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQkYnRuLmhpZGUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApLnRyaWdnZXIoICdjaGFuZ2UnICk7XG5cblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogQmluZCBkb20gZXZlbnRzIGZvciAubGxtcy10YWJsZXNcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjAuMFxuXHRcdCAqL1xuXHRcdHRoaXMuYmluZF90YWJsZXMgPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0JCggJy5sbG1zLXRhYmxlIGJ1dHRvbltuYW1lPVwibGxtcy1leHBhbmQtdGFibGVcIl0nICkub24oICdjbGljaycsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdHZhciAkYnRuID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdCR0YWJsZSA9ICRidG4uY2xvc2VzdCggJy5sbG1zLXRhYmxlJyApXG5cblx0XHRcdFx0Ly8gc3dpdGNoIHRoZSB0ZXh0IG9uIHRoZSBidXR0b24gaWYgYWx0IHRleHQgaXMgZm91bmRcblx0XHRcdFx0aWYgKCAkYnRuLmF0dHIoICdkYXRhLXRleHQnICkgKSB7XG5cdFx0XHRcdFx0dmFyIHRleHQgPSAkYnRuLnRleHQoKTtcblx0XHRcdFx0XHQkYnRuLnRleHQoICRidG4uYXR0ciggJ2RhdGEtdGV4dCcgKSApO1xuXHRcdFx0XHRcdCRidG4uYXR0ciggJ2RhdGEtdGV4dCcsIHRleHQgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIHN3aXRjaCBjbGFzc2VzIG9uIGFsbCBleHBhbmRhYmxlIGVsZW1lbnRzXG5cdFx0XHRcdCR0YWJsZS5maW5kKCAnLmV4cGFuZGFibGUnICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0XHRpZiAoICQoIHRoaXMgKS5oYXNDbGFzcyggJ2Nsb3NlZCcgKSApIHtcblx0XHRcdFx0XHRcdCQoIHRoaXMgKS5hZGRDbGFzcyggJ29wZW5lZCcgKS5yZW1vdmVDbGFzcyggJ2Nsb3NlZCcgKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0JCggdGhpcyApLmFkZENsYXNzKCAnY2xvc2VkJyApLnJlbW92ZUNsYXNzKCAnb3BlbmVkJyApO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9ICk7XG5cblx0XHRcdH0gKTtcblxuXHRcdH07XG5cblx0XHQvLyBnb1xuXHRcdHRoaXMuaW5pdCgpO1xuXG5cdH07XG5cblx0Ly8gaW5pdGFsaXplIHRoZSBvYmplY3Rcblx0d2luZG93LmxsbXMubWV0YWJveGVzID0gbmV3IE1ldGFib3hlcygpO1xuXG59ICkoIGpRdWVyeSApO1xuIl19
