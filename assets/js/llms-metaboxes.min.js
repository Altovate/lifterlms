!function(e){e.fn.llmsCollapsible=function(){return this.on("click",".llms-collapsible-header",function(){var t=e(this).closest(".llms-collapsible"),a=t.siblings(".llms-collapsible");t.toggleClass("opened"),t.find(".llms-collapsible-body").slideToggle(400),a.each(function(){e(this).removeClass("opened"),e(this).find(".llms-collapsible-body").slideUp(400)})}),this},window.llms=window.llms||{};var t=function(){this.repeaters={metaboxes:this,$repeaters:null,init:function(){var t=this;t.$repeaters=e(".llms-mb-list.repeater"),t.$repeaters.length&&(LLMS.wait_for(function(){return"undefined"!=typeof tinyMCE},function(){t.load(),t.bind()}),e('#post input[type="submit"]').on("click",function(){e(this).attr("data-llms-clicked","yes")}),e("#post").on("submit",t.handle_submit))},bind:function(){var t=this;t.$repeaters.each(function(){var a=e(this),n=a.find(".llms-repeater-rows"),l=a.find(".llms-repeater-model");tinyMCE.EditorManager.execCommand("mceRemoveEditor",!0,l.find(".llms-mb-list.editor textarea").attr("id")),a.find(".llms-repeater-new-btn").on("click",function(){t.add_row(a,null,!0)}),n.sortable({handle:".llms-drag-handle",items:".llms-repeater-row",start:function(e,t){n.addClass("dragging")},stop:function(l,i){n.removeClass("dragging");var s=i.item.find("textarea.wp-editor-area");s.each(function(){var t=e(this).attr("id");tinyMCE.EditorManager.execCommand("mceRemoveEditor",!0,t),tinyMCE.EditorManager.execCommand("mceAddEditor",!0,t)}),t.save(a)}}),a.on("click",".llms-repeater-remove",function(n){n.stopPropagation();var l=e(this).closest(".llms-repeater-row");window.confirm(LLMS.l10n.translate("Are you sure you want to delete this row? This cannot be undone."))&&(l.remove(),setTimeout(function(){t.save(a)},1))})})},add_row:function(t,a,n){var l=this,i=t.find(".llms-repeater-rows"),s=t.find(".llms-repeater-model"),r=s.find(".llms-repeater-row").clone(),o=t.find(".llms-repeater-row").length,d=l.reindex(r,o);a&&e.each(a,function(t,a){var n=r.find('[name^="'+t+'"]');n.hasClass("llms-select2-student")?(e.each(a,function(e,t){n.append('<option value="'+t.key+'" selected="selected">'+t.title+"</option>")}),n.trigger("change")):n.val(a)}),setTimeout(function(){l.bind_row(r)},1),i.append(r),n&&r.find(".llms-collapsible-header").trigger("click"),tinyMCE.EditorManager.execCommand("mceAddEditor",!0,d),t.trigger("llms-new-repeater-row",{$row:r,data:a})},bind_row:function(e){this.bind_row_header(e),e.find(".llms-select2").llmsSelect2({width:"100%"}),e.find(".llms-select2-student").llmsStudentsSelect2(),this.metaboxes.bind_datepickers(e.find(".llms-datepicker")),this.metaboxes.bind_controllers(e.find("[data-is-controller]"))},bind_row_header:function(t){var a=t.find(".llms-repeater-title"),n=t.find(".llms-collapsible-header-title-field");a.attr("data-default",a.text()),n.on("keyup focusout blur",function(){var t=e(this).val();t||(t=a.attr("data-default")),a.text(t)}).trigger("keyup")},handle_submit:function(t){t.preventDefault();var a=e('#post [data-llms-clicked="yes"]'),n=a.parent().find(".spinner");e('#post input[type="submit"]').addClass("disabled"),n.addClass("is-active");var l,i=window.llms.metaboxes.repeaters,s=0;i.$repeaters.each(function(){i.save(e(this))}),l=setInterval(function(){s>=59||!e(".llms-mb-list.repeater.processing").length?(clearInterval(l),e("#post").off("submit",this.handle_submit),n.removeClass("is-active"),a.removeClass("disabled").trigger("click")):s++},1e3)},load:function(){var t=this;t.$repeaters.each(function(){var a=e(this);a.hasClass("is-loaded")||a.hasClass("processing")||t.store(a,"load",function(n){a.addClass("is-loaded"),e.each(n.data,function(e,n){t.add_row(a,n,!1)}),a.find(".llms-repeater-rows .llms-repeater-row").each(function(){t.bind_row(e(this))})})})},reindex:function(t,a){function n(t,n){t.each(function(){var t=e(this).attr(n);e(this).attr(n,t.replace(l,a))})}var l=t.attr("data-row-order"),i=t.find(".llms-mb-list.editor textarea");return tinyMCE.EditorManager.execCommand("mceRemoveEditor",!0,i.attr("id")),t.attr("data-row-order",a),n(t,"data-row-order"),n(t.find("button.insert-media"),"data-editor"),n(t.find('input[name^="_llms"], textarea[name^="_llms"], select[name^="_llms"]'),"id"),n(t.find('input[name^="_llms"], textarea[name^="_llms"], select[name^="_llms"]'),"name"),n(t.find("[data-controller]"),"data-controller"),n(t.find("[data-controller]"),"data-controller"),n(t.find("button.wp-switch-editor"),"data-wp-editor-id"),n(t.find("button.wp-switch-editor"),"id"),n(t.find(".wp-editor-tools"),"id"),n(t.find(".wp-editor-container"),"id"),i.attr("id")},save:function(e){e.trigger("llms-repeater-before-save",{$el:e}),this.store(e,"save")},serialize:function(t){var a=[];return t.find(".llms-repeater-rows .llms-repeater-row").each(function(){var t={};e(this).find('input[name^="_llms"], select[name^="_llms"]').each(function(){t[e(this).attr("name")]=e(this).val()}),e(this).find('textarea[name^="_llms"]').each(function(){var a=e(this).attr("name");tinyMCE.editors[a]?t[a]=tinyMCE.editors[a].getContent():t[a]=e(this).val()}),a.push(t)}),a},store:function(e,t,a){a=a||function(){};var n=this,l={action:e.find(".llms-repeater-field-handler").val(),store_action:t};"save"===t&&(l.rows=n.serialize(e)),LLMS.Ajax.call({data:l,beforeSend:function(){e.addClass("processing"),LLMS.Spinner.start(e)},success:function(t){a(t),LLMS.Spinner.stop(e),e.removeClass("processing")}})}},this.repeaters.init(),this.init=function(){var t=this;e(".llms-select2-post").each(function(){t.post_select(e(this))}),e(".llms-collapsible-group").llmsCollapsible(),this.bind_tabs();var a=[{selector:e(".llms-datepicker"),func:"bind_datepickers"},{selector:e(".llms-select2"),func:function(e){e.llmsSelect2({width:"100%"})}},{selector:e(".llms-select2-student"),func:function(e){e.llmsStudentsSelect2()}},{selector:e('input[type="checkbox"][data-controls]'),func:"bind_cb_controllers"},{selector:e("[data-is-controller]"),func:"bind_controllers"},{selector:e(".llms-table"),func:"bind_tables"},{selector:e(".llms-merge-code-wrapper"),func:"bind_merge_code_buttons"},{selector:e("a.llms-editable"),func:"bind_editables"}];if(e.each(a,function(a,n){if(n.selector.length){var l=n.selector.filter(function(){return 0===e(this).closest(".llms-repeater-model").length});"string"==typeof n.func?t[n.func](l):"function"==typeof n.func&&n.func(l)}}),window.llms.post.post_type){var n="bind_"+window.llms.post.post_type;"function"==typeof this[n]&&this[n]()}},this.bind_cb_controllers=function(t){t=t||e('input[type="checkbox"][data-controls]'),t.each(function(){var t=e(this),a=e(t.attr("data-controls")).closest(".llms-mb-list");t.on("change",function(){e(this).is(":checked")?a.slideDown(200):a.slideUp(200)}),t.trigger("change")})},this.bind_controllers=function(t){t=t||e("[data-is-controller]"),t.each(function(){var t,a=e(this),n=e('[data-controller="#'+a.attr("id")+'"]');a.on("change",function(){t="checkbox"===a.attr("type")?a.is(":checked")?a.val():"false":a.val(),n.each(function(){var a=e(this).attr("data-controller-value"),n=[];-1!==a.indexOf(",")?n=a.split(","):n.push(a),-1!==n.indexOf(t)?e(this).slideDown(200):e(this).slideUp(200)})}),a.trigger("change")})},this.bind_datepicker=function(e){var t=e.attr("data-format")||"mm/dd/yy",a=e.attr("data-max-date")||null,n=e.attr("data-min-date")||null;e.datepicker({dateFormat:t,maxDate:a,minDate:n})},this.bind_datepickers=function(t){var a=this;t=t||e(".llms-datepicker"),t.each(function(){a.bind_datepicker(e(this))})},this.bind_editables=function(){function t(t){var n,l=t.find("label").clone(),i=t.attr("data-llms-editable"),s=t.attr("data-llms-editable-type"),r=t.attr("data-llms-editable-required")||"no",o=t.attr("data-llms-editable-value");if(r="yes"===r?' required="required"':"","select"===s){var d,c=JSON.parse(t.attr("data-llms-editable-options"));n=e('<select name="'+i+'"'+r+" />");for(var m in c)d=o===m?' selected="selected"':"",n.append('<option value="'+m+'"'+d+">"+c[m]+"</option>")}else if("datetime"===s){n=e('<div class="llms-datetime-field" />'),o=JSON.parse(o);var u=t.attr("data-llms-editable-date-format")||"",f=t.attr("data-llms-editable-date-min")||"",p=t.attr("data-llms-editable-date-max")||"";$picker=e('<input class="llms-date-input llms-datepicker" data-format="'+u+'" data-max-date="'+p+'" data-min-date="'+f+'" name="'+i+'[date]" type="text" value="'+o.date+'">'),a.bind_datepicker($picker),n.append($picker),n.append("<em>@</em>"),n.append('<input class="llms-time-input" max="23" min="0" name="'+i+'[hour]" type="number" value="'+o.hour+'">'),n.append("<em>:</em>"),n.append('<input class="llms-time-input" max="59" min="0" name="'+i+'[minute]" type="number" value="'+o.minute+'">')}else n=e('<input name="'+i+'" type="'+s+'" value="'+o+'"'+r+">");t.empty().append(l).append(n)}var a=this;e("a.llms-editable").on("click",function(a){a.preventDefault();var n,l=e(this);n=l.attr("data-fields")?e(l.attr("data-fields")):l.closest(".llms-metabox-section").find("[data-llms-editable]"),l.remove(),n.each(function(){t(e(this))})})},this.bind_llms_engagement=function(){var t=this;e("#_llms_engagement_type").on("change",function(){e("#_llms_engagement").trigger("llms-engagement-type-change",e(this).val())}),e("#_llms_engagement").on("llms-engagement-type-change",function(a,n){var l=e(this);switch(n){case"achievement":case"certificate":case"email":var i="llms_"+n;l.val(null).attr("data-post-type",i).trigger("change"),t.post_select(l);break;default:l.trigger("llms-engagement-type-change-external",n)}})},this.bind_llms_membership=function(){e('a[href="#llms-course-remove"]').on("click",function(t){t.preventDefault();var a=e(this),n=a.closest("tr"),l=a.closest(".llms-mb-list");LLMS.Spinner.start(l),window.LLMS.Ajax.call({data:{action:"membership_remove_auto_enroll_course",course_id:a.attr("data-id")},beforeSend:function(){l.find("p.error").remove()},success:function(e){e.success?(n.fadeOut(200),setTimeout(function(){n.remove()},400)):l.prepend('<p class="error">'+e.message+"</p>"),LLMS.Spinner.stop(l)}})}),e('a[href="#llms-course-bulk-enroll"]').on("click",function(t){t.preventDefault();var a=e(this),n=(a.closest("tr"),a.closest(".llms-mb-list"));window.confirm(LLMS.l10n.translate("membership_bulk_enrollment_warning"))&&(LLMS.Spinner.start(n),window.LLMS.Ajax.call({data:{action:"bulk_enroll_membership_into_course",course_id:a.attr("data-id")},beforeSend:function(){n.find("p.error").remove()},success:function(e){e.success?a.replaceWith('<strong style="float:right;">'+e.data.message+"&nbsp;&nbsp;</strong>"):n.prepend('<p class="error">'+e.message+"</p>"),LLMS.Spinner.stop(n)}}))})},this.bind_llms_order=function(){e('button[name="llms-refund-toggle"]').on("click",function(){var t=e(this),a=t.closest("tr"),n=a.attr("data-transaction-id"),l=t.attr("data-refundable"),i="1"===t.attr("data-gateway-supports"),s=t.attr("data-gateway"),r=e("#llms-txn-refund-model .llms-txn-refund-form").clone(),o=r.find(".gateway-btn");"remove"!==t.attr("data-action")?(t.text(LLMS.l10n.translate("Cancel")),t.attr("data-action","remove"),r.find("input").removeAttr("disabled"),r.find('input[name="llms_refund_amount"]').attr("max",l),r.find('input[name="llms_refund_txn_id"]').val(n),i&&(o.find(".llms-gateway-title").text(s),o.show()),a.after(r)):(t.text(LLMS.l10n.translate("Refund")),t.attr("data-action",""),a.next("tr").remove())}),e('button[name="llms-manual-txn-toggle"]').on("click",function(){var t=e(this),a=t.closest("tr"),n=e("#llms-manual-txn-model .llms-manual-txn-form").clone();"remove"!==t.attr("data-action")?(t.text(LLMS.l10n.translate("Cancel")),t.attr("data-action","remove"),n.find("input").removeAttr("disabled"),a.after(n)):(t.text(LLMS.l10n.translate("Record a Manual Payment")),t.attr("data-action",""),a.next("tr").remove())}),e(".llms-metabox").one("focus",'.llms-metabox-field[data-llms-editable="payment_gateway"] select',function(){e(this).attr("data-original-value")||e(this).attr("data-original-value",e(this).val())}),e(".llms-metabox").on("change",'.llms-metabox-field[data-llms-editable="payment_gateway"] select',function(){var t=e(this),a=t.val(),n=JSON.parse(t.closest(".llms-metabox-field").attr("data-gateway-fields")),l=n[a];for(var i in l){var s=e('input[name="'+l[i].name+'"]'),r=s.closest(".llms-metabox-field");s.attr("value",""),l[i].enabled?(r.show(),s.attr("required","required"),a===t.attr("data-original-value")&&s.val(r.attr("data-llms-editable-value"))):(s.removeAttr("required"),r.hide())}})},this.bind_merge_code_buttons=function(t){t=t||e(".llms-merge-code-wrapper"),t.find(".llms-merge-code-button").on("click",function(){e(this).next(".llms-merge-codes").toggleClass("active")}),t.find(".llms-merge-codes li").on("click",function(){var t=e(this),a=t.closest(".llms-merge-codes"),n=a.attr("data-target"),l=t.attr("data-code");if(-1===n.indexOf("#")){var i=window.tinymce.editors[n];i?i.insertContent(l):alert(LLMS.l10n.translate("Copy this code and paste it into the desired area")+": "+l)}else e(n).val(e(n).val()+l);a.removeClass("active")})},this.bind_tabs=function(){e(".llms-nav-tab-wrapper .tabs li").on("click",function(){var t=e(this),a=t.closest(".llms-mb-container"),n=t.attr("data-tab");t.siblings().removeClass("llms-active"),a.find(".tab-content").removeClass("llms-active"),t.addClass("llms-active"),e("#"+n).addClass("llms-active")})},this.post_select=function(t){var a=t.attr("data-post-type")||post,n=t.attr("data-post-type")||!1;t.llmsSelect2({allowClear:n,ajax:{dataType:"JSON",delay:250,method:"POST",url:window.ajaxurl,data:function(e){return{action:"select2_query_posts",page:e.page?e.page-1:0,post_type:a,term:e.term,_ajax_nonce:wp_ajax_data.nonce}},processResults:function(t,a){function n(t){return Array.isArray(t)?e.map(t,function(e){return l(e)}):e.map(t,function(e){return{text:e.label,children:n(e.items)}})}function l(e){return{text:e.name,id:e.id}}return{results:n(t.items),pagination:{more:t.more}}}},cache:!0,width:"80%"});var l=LLMS.l10n.translate("View"),i=e('<a class="llms-button-secondary small" style="margin-left:5px;" target="_blank" href="#">'+l+' <i class="fa fa-external-link" aria-hidden="true"></i></a>');t.next(".select2").after(i),t.on("change",function(){var t=e(this).val();t?i.attr("href","/?p="+t).show():i.hide()}).trigger("change")},this.bind_tables=function(){e('.llms-table button[name="llms-expand-table"]').on("click",function(){var t=e(this),a=t.closest(".llms-table");if(t.attr("data-text")){var n=t.text();t.text(t.attr("data-text")),t.attr("data-text",n)}a.find(".expandable").each(function(){e(this).hasClass("closed")?e(this).addClass("opened").removeClass("closed"):e(this).addClass("closed").removeClass("opened")})})},this.init()};window.llms.metaboxes=new t}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxsbXMtbWV0YWJveGVzLmpzIl0sIm5hbWVzIjpbIiQiLCJmbiIsImxsbXNDb2xsYXBzaWJsZSIsInRoaXMiLCJvbiIsIiRwYXJlbnQiLCJjbG9zZXN0IiwiJHNpYmxpbmdzIiwic2libGluZ3MiLCJ0b2dnbGVDbGFzcyIsImZpbmQiLCJzbGlkZVRvZ2dsZSIsImVhY2giLCJyZW1vdmVDbGFzcyIsInNsaWRlVXAiLCJ3aW5kb3ciLCJsbG1zIiwiTWV0YWJveGVzIiwicmVwZWF0ZXJzIiwibWV0YWJveGVzIiwiJHJlcGVhdGVycyIsImluaXQiLCJzZWxmIiwibGVuZ3RoIiwiTExNUyIsIndhaXRfZm9yIiwidGlueU1DRSIsImxvYWQiLCJiaW5kIiwiYXR0ciIsImhhbmRsZV9zdWJtaXQiLCIkcmVwZWF0ZXIiLCIkcm93cyIsIiRtb2RlbCIsIkVkaXRvck1hbmFnZXIiLCJleGVjQ29tbWFuZCIsImFkZF9yb3ciLCJzb3J0YWJsZSIsImhhbmRsZSIsIml0ZW1zIiwic3RhcnQiLCJldmVudCIsInVpIiwiYWRkQ2xhc3MiLCJzdG9wIiwiJGVkcyIsIml0ZW0iLCJlZF9pZCIsInNhdmUiLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwiJHJvdyIsImNvbmZpcm0iLCJsMTBuIiwidHJhbnNsYXRlIiwicmVtb3ZlIiwic2V0VGltZW91dCIsImRhdGEiLCJleHBhbmQiLCJjbG9uZSIsIm5ld19pbmRleCIsImVkaXRvciIsInJlaW5kZXgiLCJrZXkiLCJ2YWwiLCIkZmllbGQiLCJoYXNDbGFzcyIsImkiLCJhcHBlbmQiLCJ0aXRsZSIsInRyaWdnZXIiLCJiaW5kX3JvdyIsImJpbmRfcm93X2hlYWRlciIsImxsbXNTZWxlY3QyIiwid2lkdGgiLCJsbG1zU3R1ZGVudHNTZWxlY3QyIiwiYmluZF9kYXRlcGlja2VycyIsImJpbmRfY29udHJvbGxlcnMiLCIkdGl0bGUiLCJ0ZXh0IiwicHJldmVudERlZmF1bHQiLCIkYnRuIiwiJHNwaW5uZXIiLCJwYXJlbnQiLCJ3YWl0Iiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwib2ZmIiwic3RvcmUiLCJvYmoiLCJpbmRleCIsInJlcGxhY2VfYXR0ciIsIiRlbCIsInN0ciIsInJlcGxhY2UiLCJvbGRfaW5kZXgiLCIkZWQiLCJzZXJpYWxpemUiLCJyb3dzIiwibmFtZSIsImVkaXRvcnMiLCJnZXRDb250ZW50IiwicHVzaCIsImFjdGlvbiIsImNiIiwic3RvcmVfYWN0aW9uIiwiQWpheCIsImNhbGwiLCJiZWZvcmVTZW5kIiwiU3Bpbm5lciIsInN1Y2Nlc3MiLCJyIiwicG9zdF9zZWxlY3QiLCJiaW5kX3RhYnMiLCJiaW5kaW5ncyIsInNlbGVjdG9yIiwiZnVuYyIsIiRzZWxlY3RvciIsInJlZHVjZWQiLCJmaWx0ZXIiLCJwb3N0IiwicG9zdF90eXBlIiwiYmluZF9jYl9jb250cm9sbGVycyIsIiRjb250cm9sbGVycyIsIiRjYiIsIiRjb250cm9sbGVkIiwiaXMiLCJzbGlkZURvd24iLCJwb3NzaWJsZSIsInZhbHMiLCJpbmRleE9mIiwic3BsaXQiLCJiaW5kX2RhdGVwaWNrZXIiLCJmb3JtYXQiLCJtYXhEYXRlIiwibWluRGF0ZSIsImRhdGVwaWNrZXIiLCJkYXRlRm9ybWF0IiwiJGRhdGVwaWNrZXJzIiwiYmluZF9lZGl0YWJsZXMiLCJtYWtlX2VkaXRhYmxlIiwiJGlucHV0IiwiJGxhYmVsIiwidHlwZSIsInJlcXVpcmVkIiwic2VsZWN0ZWQiLCJvcHRpb25zIiwiSlNPTiIsInBhcnNlIiwibWluX2RhdGUiLCJtYXhfZGF0ZSIsIiRwaWNrZXIiLCJkYXRlIiwiaG91ciIsIm1pbnV0ZSIsImVtcHR5IiwiJGZpZWxkcyIsImJpbmRfbGxtc19lbmdhZ2VtZW50IiwiZW5nYWdlbWVudF90eXBlIiwiJHNlbGVjdCIsImNwdCIsImJpbmRfbGxtc19tZW1iZXJzaGlwIiwiJGNvbnRhaW5lciIsImNvdXJzZV9pZCIsImZhZGVPdXQiLCJwcmVwZW5kIiwibWVzc2FnZSIsInJlcGxhY2VXaXRoIiwiYmluZF9sbG1zX29yZGVyIiwidHhuX2lkIiwicmVmdW5kYWJsZV9hbW91bnQiLCJnYXRld2F5X3N1cHBvcnRzIiwiZ2F0ZXdheV90aXRsZSIsIiRuZXdfcm93IiwiJGdhdGV3YXlfYnRuIiwicmVtb3ZlQXR0ciIsInNob3ciLCJhZnRlciIsIm5leHQiLCJvbmUiLCJnYXRld2F5IiwiZ2F0ZXdheV9kYXRhIiwiZmllbGQiLCIkd3JhcCIsImVuYWJsZWQiLCJoaWRlIiwiYmluZF9tZXJnZV9jb2RlX2J1dHRvbnMiLCIkd3JhcHBlcnMiLCJ0YXJnZXQiLCJjb2RlIiwidGlueW1jZSIsImluc2VydENvbnRlbnQiLCJhbGVydCIsIiRtZXRhYm94IiwidGFiX2lkIiwiYWxsb3dfY2xlYXIiLCJhbGxvd0NsZWFyIiwiYWpheCIsImRhdGFUeXBlIiwiZGVsYXkiLCJtZXRob2QiLCJ1cmwiLCJhamF4dXJsIiwicGFyYW1zIiwicGFnZSIsInRlcm0iLCJfYWpheF9ub25jZSIsIndwX2FqYXhfZGF0YSIsIm5vbmNlIiwicHJvY2Vzc1Jlc3VsdHMiLCJtYXBfZGF0YSIsIkFycmF5IiwiaXNBcnJheSIsIm1hcCIsImZvcm1hdF9pdGVtIiwibGFiZWwiLCJjaGlsZHJlbiIsImlkIiwicmVzdWx0cyIsInBhZ2luYXRpb24iLCJtb3JlIiwiY2FjaGUiLCJtc2ciLCJiaW5kX3RhYmxlcyIsIiR0YWJsZSIsImpRdWVyeSJdLCJtYXBwaW5ncyI6IkNBY0EsU0FBWUEsR0FFWEEsRUFBRUMsR0FBR0MsZ0JBQWtCLFdBb0J0QixNQWhCQUMsTUFBS0MsR0FBSSxRQUFTLDJCQUE0QixXQUU3QyxHQUFJQyxHQUFVTCxFQUFHRyxNQUFPRyxRQUFTLHFCQUNoQ0MsRUFBWUYsRUFBUUcsU0FBVSxvQkFFL0JILEdBQVFJLFlBQWEsVUFFckJKLEVBQVFLLEtBQU0sMEJBQTJCQyxZQUFhLEtBRXRESixFQUFVSyxLQUFNLFdBQ2ZaLEVBQUdHLE1BQU9VLFlBQWEsVUFDdkJiLEVBQUdHLE1BQU9PLEtBQU0sMEJBQTJCSSxRQUFTLFNBSy9DWCxNQUlSWSxPQUFPQyxLQUFPRCxPQUFPQyxR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QUFHLDRGQUErRjhOLEVBQU0sOERBQ2hIbEksR0FBSXNGLEtBQU0sWUFBYUQsTUFBT2hHLEdBRTlCVyxFQUFJeEYsR0FBSSxTQUFVLFdBQ2pCLEdBQUlxTixHQUFLek4sRUFBR0csTUFBTzZELEtBQ2R5SixHQUNKeEksRUFBS3BELEtBQU0sT0FBUSxPQUFTNEwsR0FBS3pDLE9BRWpDL0YsRUFBS3dHLFNBRUhuSCxRQUFTLFdBVWRuRSxLQUFLNE4sWUFBYyxXQUVsQi9OLEVBQUcsZ0RBQWlESSxHQUFJLFFBQVMsV0FFaEUsR0FBSTZFLEdBQU9qRixFQUFHRyxNQUNiNk4sRUFBUy9JLEVBQUszRSxRQUFTLGNBR3hCLElBQUsyRSxFQUFLcEQsS0FBTSxhQUFnQixDQUMvQixHQUFJa0QsR0FBT0UsRUFBS0YsTUFDaEJFLEdBQUtGLEtBQU1FLEVBQUtwRCxLQUFNLGNBQ3RCb0QsRUFBS3BELEtBQU0sWUFBYWtELEdBSXpCaUosRUFBT3ROLEtBQU0sZUFBZ0JFLEtBQU0sV0FFN0JaLEVBQUdHLE1BQU8rRCxTQUFVLFVBQ3hCbEUsRUFBR0csTUFBT3dDLFNBQVUsVUFBVzlCLFlBQWEsVUFFNUNiLEVBQUdHLE1BQU93QyxTQUFVLFVBQVc5QixZQUFhLGVBVWhEVixLQUFLa0IsT0FLTk4sUUFBT0MsS0FBS0csVUFBWSxHQUFJRixJQUV4QmdOIiwiZmlsZSI6ImxsbXMtbWV0YWJveGVzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKlxuICogQ29udHJpYnV0b3IncyBOb3RpY2VcbiAqIFxuICogVGhpcyBpcyBhIGNvbXBpbGVkIGZpbGUgYW5kIHNob3VsZCBub3QgYmUgZWRpdGVkIGRpcmVjdGx5IVxuICogVGhlIHVuY29tcGlsZWQgc2NyaXB0IGlzIGxvY2F0ZWQgaW4gdGhlIFwiYXNzZXRzL3ByaXZhdGVcIiBkaXJlY3RvcnlcbiAqIFxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qKlxuICogTGlmdGVyTE1TIEFkbWluIFBhbmVsIE1ldGFib3ggRnVuY3Rpb25zXG4gKiBAc2luY2UgICAgMy4wLjBcbiAqIEB2ZXJzaW9uICAzLjE3LjVcbiAqL1xuKCBmdW5jdGlvbiggJCApIHtcblxuXHQkLmZuLmxsbXNDb2xsYXBzaWJsZSA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyICRncm91cCA9IHRoaXM7XG5cblx0XHR0aGlzLm9uKCAnY2xpY2snLCAnLmxsbXMtY29sbGFwc2libGUtaGVhZGVyJywgZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciAkcGFyZW50ID0gJCggdGhpcyApLmNsb3Nlc3QoICcubGxtcy1jb2xsYXBzaWJsZScgKSxcblx0XHRcdFx0JHNpYmxpbmdzID0gJHBhcmVudC5zaWJsaW5ncyggJy5sbG1zLWNvbGxhcHNpYmxlJyApO1xuXG5cdFx0XHQkcGFyZW50LnRvZ2dsZUNsYXNzKCAnb3BlbmVkJyApO1xuXG5cdFx0XHQkcGFyZW50LmZpbmQoICcubGxtcy1jb2xsYXBzaWJsZS1ib2R5JyApLnNsaWRlVG9nZ2xlKCA0MDAgKTtcblxuXHRcdFx0JHNpYmxpbmdzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHQkKCB0aGlzICkucmVtb3ZlQ2xhc3MoICdvcGVuZWQnICk7XG5cdFx0XHRcdCQoIHRoaXMgKS5maW5kKCAnLmxsbXMtY29sbGFwc2libGUtYm9keScgKS5zbGlkZVVwKCA0MDAgKTtcblx0XHRcdH0gKTtcblxuXHRcdH0gKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH07XG5cblx0d2luZG93LmxsbXMgPSB3aW5kb3cubGxtcyB8fCB7fTtcblxuXHR2YXIgTWV0YWJveGVzID0gZnVuY3Rpb24oKSB7XG5cblx0XHQvKipcblx0XHQgKiBsb2FkIGFsbCBwYXJ0aWFsc1xuXHRcdCAqL1xuXHRcdC8qKlxuXHRcdCAqIExpZnRlckxNUyBBZG1pbiBNZXRhYm94IFJlcGVhdGVyIEZpZWxkXG5cdFx0ICogQHNpbmNlICAgIDMuMTEuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjE3LjNcblx0XHQgKi9cblx0XHR0aGlzLnJlcGVhdGVycyA9IHtcblx0XHRcblx0XHRcdC8qKlxuXHRcdFx0ICogUmVmZXJlbmNlIHRvIHRoZSBwYXJlbnQgbWV0YWJveCBjbGFzc1xuXHRcdFx0ICogQHR5cGUgIG9ialxuXHRcdFx0ICovXG5cdFx0XHRtZXRhYm94ZXM6IHRoaXMsXG5cdFx0XG5cdFx0XHQvKipcblx0XHRcdCAqIGpRdWVyeSBzZWxlY3RvciBmb3IgYWxsIHJlcGVhdGVyIGVsZW1lbnRzIG9uIHRoZSBjdXJyZW50IHNjcmVlblxuXHRcdFx0ICogQHR5cGUgIHtbdHlwZV19XG5cdFx0XHQgKi9cblx0XHRcdCRyZXBlYXRlcnM6IG51bGwsXG5cdFx0XG5cdFx0XHQvKipcblx0XHRcdCAqIEluaXRcblx0XHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0XHQgKiBAc2luY2UgICAgMy4xMS4wXG5cdFx0XHQgKiBAdmVyc2lvbiAgMy4xNy4zXG5cdFx0XHQgKi9cblx0XHRcdGluaXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFxuXHRcdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XG5cdFx0XHRcdHNlbGYuJHJlcGVhdGVycyA9ICQoICcubGxtcy1tYi1saXN0LnJlcGVhdGVyJyApO1xuXHRcdFxuXHRcdFx0XHRpZiAoIHNlbGYuJHJlcGVhdGVycy5sZW5ndGggKSB7XG5cdFx0XG5cdFx0XHRcdFx0Ly8gd2FpdCBmb3IgdGlueU1DRSBqdXN0IGluIGNhc2UgdGhlaXIgZWRpdG9ycyBpbiB0aGUgcmVwZWF0ZXJzXG5cdFx0XHRcdFx0TExNUy53YWl0X2ZvciggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gKCAndW5kZWZpbmVkJyAhPT0gdHlwZW9mIHRpbnlNQ0UgKTtcblx0XHRcdFx0XHR9LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHNlbGYubG9hZCgpO1xuXHRcdFx0XHRcdFx0c2VsZi5iaW5kKCk7XG5cdFx0XHRcdFx0fSApO1xuXHRcdFxuXHRcdFx0XHRcdC8vIG9uIGNsaWNrIG9mIGFueSBwb3N0IHN1Ym1pdCBidXR0b25zIGFkZCBzb21lIGRhdGEgdG8gdGhlIHN1Ym1pdCBidXR0b25cblx0XHRcdFx0XHQvLyBzbyB3ZSBjYW4gc2VlIHdoaWNoIGJ1dHRvbiB0byB0cmlnZ2VyIGFmdGVyIHJlcGVhdGVycyBhcmUgZmluaXNoZWRcblx0XHRcdFx0XHQkKCAnI3Bvc3QgaW5wdXRbdHlwZT1cInN1Ym1pdFwiXScgKS5vbiggJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHQkKCB0aGlzICkuYXR0ciggJ2RhdGEtbGxtcy1jbGlja2VkJywgJ3llcycgKTtcblx0XHRcdFx0XHR9ICk7XG5cdFx0XG5cdFx0XHRcdFx0Ly8gaGFuZGxlIHBvc3Qgc3VibWlzc2lvblxuXHRcdFx0XHRcdCQoICcjcG9zdCcgKS5vbiggJ3N1Ym1pdCcsIHNlbGYuaGFuZGxlX3N1Ym1pdCApO1xuXHRcdFxuXHRcdFx0XHR9XG5cdFx0XG5cdFx0XHR9LFxuXHRcdFxuXHRcdFx0LyoqXG5cdFx0XHQgKiBCaW5kIERPTSBFdmVudHNcblx0XHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0XHQgKiBAc2luY2UgICAgMy4xMS4wXG5cdFx0XHQgKiBAdmVyc2lvbiAgMy4xMy4wXG5cdFx0XHQgKi9cblx0XHRcdGJpbmQ6IGZ1bmN0aW9uKCkge1xuXHRcdFxuXHRcdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XG5cdFx0XHRcdHNlbGYuJHJlcGVhdGVycy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcblx0XHRcdFx0XHR2YXIgJHJlcGVhdGVyID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdFx0JHJvd3MgPSAkcmVwZWF0ZXIuZmluZCggJy5sbG1zLXJlcGVhdGVyLXJvd3MnICksXG5cdFx0XHRcdFx0XHQkbW9kZWwgPSAkcmVwZWF0ZXIuZmluZCggJy5sbG1zLXJlcGVhdGVyLW1vZGVsJyApO1xuXHRcdFxuXHRcdFx0XHRcdHRpbnlNQ0UuRWRpdG9yTWFuYWdlci5leGVjQ29tbWFuZCggJ21jZVJlbW92ZUVkaXRvcicsIHRydWUsICRtb2RlbC5maW5kKCAnLmxsbXMtbWItbGlzdC5lZGl0b3IgdGV4dGFyZWEnICkuYXR0ciggJ2lkJyApICk7XG5cdFx0XG5cdFx0XHRcdFx0Ly8gZm9yIHRoZSByZXBlYXRlciArIGJ1dHRvblxuXHRcdFx0XHRcdCRyZXBlYXRlci5maW5kKCAnLmxsbXMtcmVwZWF0ZXItbmV3LWJ0bicgKS5vbiggJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRzZWxmLmFkZF9yb3coICRyZXBlYXRlciwgbnVsbCwgdHJ1ZSApO1xuXHRcdFx0XHRcdH0gKTtcblx0XHRcblx0XHRcdFx0XHQvLyBtYWtlIHJlcGVhdGVyIHJvd3Mgc29ydGFibGVcblx0XHRcdFx0XHQkcm93cy5zb3J0YWJsZSgge1xuXHRcdFx0XHRcdFx0aGFuZGxlOiAnLmxsbXMtZHJhZy1oYW5kbGUnLFxuXHRcdFx0XHRcdFx0aXRlbXM6ICcubGxtcy1yZXBlYXRlci1yb3cnLFxuXHRcdFx0XHRcdFx0c3RhcnQ6IGZ1bmN0aW9uKCBldmVudCwgdWkgKSB7XG5cdFx0XHRcdFx0XHRcdCRyb3dzLmFkZENsYXNzKCAnZHJhZ2dpbmcnICk7XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0c3RvcDogZnVuY3Rpb24oIGV2ZW50LCB1aSApIHtcblx0XHRcdFx0XHRcdFx0JHJvd3MucmVtb3ZlQ2xhc3MoICdkcmFnZ2luZycgKTtcblx0XHRcblx0XHRcdFx0XHRcdFx0dmFyICRlZHMgPSB1aS5pdGVtLmZpbmQoICd0ZXh0YXJlYS53cC1lZGl0b3ItYXJlYScgKTtcblx0XHRcdFx0XHRcdFx0JGVkcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgZWRfaWQgPSAkKCB0aGlzICkuYXR0ciggJ2lkJyApO1xuXHRcdFx0XHRcdFx0XHRcdHRpbnlNQ0UuRWRpdG9yTWFuYWdlci5leGVjQ29tbWFuZCggJ21jZVJlbW92ZUVkaXRvcicsIHRydWUsIGVkX2lkICk7XG5cdFx0XHRcdFx0XHRcdFx0dGlueU1DRS5FZGl0b3JNYW5hZ2VyLmV4ZWNDb21tYW5kKCAnbWNlQWRkRWRpdG9yJywgdHJ1ZSwgZWRfaWQgKTtcblx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFxuXHRcdFx0XHRcdFx0XHRzZWxmLnNhdmUoICRyZXBlYXRlciApO1xuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR9ICk7XG5cdFx0XG5cdFx0XHRcdFx0JHJlcGVhdGVyLm9uKCAnY2xpY2snLCAnLmxsbXMtcmVwZWF0ZXItcmVtb3ZlJywgZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRcdFx0dmFyICRyb3cgPSAkKCB0aGlzICkuY2xvc2VzdCggJy5sbG1zLXJlcGVhdGVyLXJvdycgKTtcblx0XHRcdFx0XHRcdGlmICggd2luZG93LmNvbmZpcm0oIExMTVMubDEwbi50cmFuc2xhdGUoICdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgcm93PyBUaGlzIGNhbm5vdCBiZSB1bmRvbmUuJyApICkgKSB7XG5cdFx0XHRcdFx0XHRcdCRyb3cucmVtb3ZlKCk7XG5cdFx0XHRcdFx0XHRcdHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdHNlbGYuc2F2ZSggJHJlcGVhdGVyICk7XG5cdFx0XHRcdFx0XHRcdH0sIDEgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9ICk7XG5cdFx0XG5cdFx0XHRcdH0gKTtcblx0XHRcblx0XHRcdH0sXG5cdFx0XG5cdFx0XHQvKipcblx0XHRcdCAqIEFkZCBhIG5ldyByb3cgdG8gYSByZXBlYXRlciByb3dzIGdyb3VwXG5cdFx0XHQgKiBAcGFyYW0gICAgb2JqICAgICRyZXBlYXRlciAgalF1ZXJ5IHNlbGVjdG9yIGZvciB0aGUgcmVwZWF0ZXIgdG8gYWRkIGEgcm93IHRvXG5cdFx0XHQgKiBAcGFyYW0gICAgb2JqICAgIGRhdGEgICAgICAgb3B0aW9uYWwgb2JqZWN0IG9mIGRhdGEgdG8gZmlsbCBmaWVsZHMgaW4gdGhlIHJvdyB3aXRoXG5cdFx0XHQgKiBAcGFyYW0gICAgYm9vbCAgIGV4cGFuZCAgICAgaWYgdHJ1ZSwgd2lsbCBhdXRvbWF0aWNhbGx5IG9wZW4gdGhlIHJvdyBhZnRlciBhZGRpbmcgaXQgdG8gdGhlIGRvbVxuXHRcdFx0ICogQHJldHVybiBcdCB2b2lkXG5cdFx0XHQgKiBAc2luY2UgICAgMy4xMS4wXG5cdFx0XHQgKiBAdmVyc2lvbiAgMy4xMS4wXG5cdFx0XHQgKi9cblx0XHRcdGFkZF9yb3c6IGZ1bmN0aW9uKCAkcmVwZWF0ZXIsIGRhdGEsIGV4cGFuZCApIHtcblx0XHRcblx0XHRcdFx0dmFyIHNlbGYgPSB0aGlzLFxuXHRcdFx0XHRcdCRyb3dzID0gJHJlcGVhdGVyLmZpbmQoICcubGxtcy1yZXBlYXRlci1yb3dzJyApLFxuXHRcdFx0XHRcdCRtb2RlbCA9ICRyZXBlYXRlci5maW5kKCAnLmxsbXMtcmVwZWF0ZXItbW9kZWwnICksXG5cdFx0XHRcdFx0JHJvdyA9ICRtb2RlbC5maW5kKCAnLmxsbXMtcmVwZWF0ZXItcm93JyApLmNsb25lKCksXG5cdFx0XHRcdFx0bmV3X2luZGV4ID0gJHJlcGVhdGVyLmZpbmQoICcubGxtcy1yZXBlYXRlci1yb3cnICkubGVuZ3RoLFxuXHRcdFx0XHRcdGVkaXRvciA9IHNlbGYucmVpbmRleCggJHJvdywgbmV3X2luZGV4ICk7XG5cdFx0XG5cdFx0XHRcdGlmICggZGF0YSApIHtcblx0XHRcdFx0XHQkLmVhY2goIGRhdGEsIGZ1bmN0aW9uKCBrZXksIHZhbCApIHtcblx0XHRcblx0XHRcdFx0XHRcdHZhciAkZmllbGQgPSAkcm93LmZpbmQoICdbbmFtZV49XCInICsga2V5ICsgJ1wiXScpO1xuXHRcdFxuXHRcdFx0XHRcdFx0aWYgKCAkZmllbGQuaGFzQ2xhc3MoICdsbG1zLXNlbGVjdDItc3R1ZGVudCcgKSApIHtcblx0XHRcdFx0XHRcdFx0JC5lYWNoKCB2YWwsIGZ1bmN0aW9uKCBpLCBkYXRhICkge1xuXHRcdFx0XHRcdFx0XHRcdCRmaWVsZC5hcHBlbmQoICc8b3B0aW9uIHZhbHVlPVwiJyArIGRhdGEua2V5ICsgJ1wiIHNlbGVjdGVkPVwic2VsZWN0ZWRcIj4nICsgZGF0YS50aXRsZSArICc8L29wdGlvbj4nKVxuXHRcdFx0XHRcdFx0XHR9ICkgO1xuXHRcdFx0XHRcdFx0XHQkZmllbGQudHJpZ2dlciggJ2NoYW5nZScgKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdCRmaWVsZC52YWwoIHZhbCApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFxuXHRcdFxuXHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0fVxuXHRcdFxuXHRcdFx0XHRzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRzZWxmLmJpbmRfcm93KCAkcm93ICk7XG5cdFx0XHRcdH0sIDEgKTtcblx0XHRcblx0XHRcdFx0JHJvd3MuYXBwZW5kKCAkcm93ICk7XG5cdFx0XHRcdGlmICggZXhwYW5kICkge1xuXHRcdFx0XHRcdCRyb3cuZmluZCggJy5sbG1zLWNvbGxhcHNpYmxlLWhlYWRlcicgKS50cmlnZ2VyKCAnY2xpY2snICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dGlueU1DRS5FZGl0b3JNYW5hZ2VyLmV4ZWNDb21tYW5kKCAnbWNlQWRkRWRpdG9yJywgdHJ1ZSwgZWRpdG9yICk7XG5cdFx0XG5cdFx0XHRcdCRyZXBlYXRlci50cmlnZ2VyKCAnbGxtcy1uZXctcmVwZWF0ZXItcm93Jywge1xuXHRcdFx0XHRcdCRyb3c6ICRyb3csXG5cdFx0XHRcdFx0ZGF0YTogZGF0YSxcblx0XHRcdFx0fSApO1xuXHRcdFxuXHRcdFx0fSxcblx0XHRcblx0XHRcdC8qKlxuXHRcdFx0ICogQmluZCBET00gZXZlbnRzIGZvciBhIHNpbmdsZSByZXBlYXRlciByb3dcblx0XHRcdCAqIEBwYXJhbSAgICBvYmogICAkcm93ICBqUXVlcnkgc2VsZWN0b3IgZm9yIHRoZSByb3dcblx0XHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0XHQgKiBAc2luY2UgICAgMy4xMS4wXG5cdFx0XHQgKiBAdmVyc2lvbiAgMy4xMy4wXG5cdFx0XHQgKi9cblx0XHRcdGJpbmRfcm93OiBmdW5jdGlvbiggJHJvdyApIHtcblx0XHRcblx0XHRcdFx0dGhpcy5iaW5kX3Jvd19oZWFkZXIoICRyb3cgKTtcblx0XHRcblx0XHRcdFx0JHJvdy5maW5kKCAnLmxsbXMtc2VsZWN0MicgKS5sbG1zU2VsZWN0Migge1xuXHRcdFx0XHRcdHdpZHRoOiAnMTAwJScsXG5cdFx0XHRcdH0gKTtcblx0XHRcblx0XHRcdFx0JHJvdy5maW5kKCAnLmxsbXMtc2VsZWN0Mi1zdHVkZW50JyApLmxsbXNTdHVkZW50c1NlbGVjdDIoKTtcblx0XHRcblx0XHRcdFx0dGhpcy5tZXRhYm94ZXMuYmluZF9kYXRlcGlja2VycyggJHJvdy5maW5kKCAnLmxsbXMtZGF0ZXBpY2tlcicgKSApO1xuXHRcdFx0XHR0aGlzLm1ldGFib3hlcy5iaW5kX2NvbnRyb2xsZXJzKCAkcm93LmZpbmQoICdbZGF0YS1pcy1jb250cm9sbGVyXScgKSApO1xuXHRcdFx0XHQvLyB0aGlzLm1ldGFib3hlcy5iaW5kX21lcmdlX2NvZGVfYnV0dG9ucyggJHJvdy5maW5kKCAnLmxsbXMtbWVyZ2UtY29kZS13cmFwcGVyJyApICk7XG5cdFx0XG5cdFx0XHR9LFxuXHRcdFxuXHRcdFx0LyoqXG5cdFx0XHQgKiBCaW5kIHJvdyBoZWFkZXIgZXZlbnRzXG5cdFx0XHQgKiBAcGFyYW0gICAgb2JqICAgJHJvdyAgalF1ZXJ5IHNlbGVjdG9yIGZvciB0aGUgcm93XG5cdFx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdFx0ICogQHNpbmNlICAgIDMuMTEuMFxuXHRcdFx0ICogQHZlcnNpb24gIDMuMTEuMFxuXHRcdFx0ICovXG5cdFx0XHRiaW5kX3Jvd19oZWFkZXI6IGZ1bmN0aW9uKCAkcm93ICkge1xuXHRcdFxuXHRcdFx0XHQvLyBoYW5kbGUgdGhlIHRpdGxlIGZpZWxkIGJpbmRpbmdcblx0XHRcdFx0dmFyICR0aXRsZSA9ICRyb3cuZmluZCggJy5sbG1zLXJlcGVhdGVyLXRpdGxlJyApLFxuXHRcdFx0XHRcdCRmaWVsZCA9ICRyb3cuZmluZCggJy5sbG1zLWNvbGxhcHNpYmxlLWhlYWRlci10aXRsZS1maWVsZCcgKTtcblx0XHRcblx0XHRcdFx0JHRpdGxlLmF0dHIoICdkYXRhLWRlZmF1bHQnLCAkdGl0bGUudGV4dCgpICk7XG5cdFx0XG5cdFx0XHRcdCRmaWVsZC5vbiggJ2tleXVwIGZvY3Vzb3V0IGJsdXInLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR2YXIgdmFsID0gJCggdGhpcyApLnZhbCgpO1xuXHRcdFx0XHRcdGlmICggISB2YWwgKSB7XG5cdFx0XHRcdFx0XHR2YWwgPSAkdGl0bGUuYXR0ciggJ2RhdGEtZGVmYXVsdCcgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0JHRpdGxlLnRleHQoIHZhbCApO1xuXHRcdFx0XHR9ICkudHJpZ2dlciggJ2tleXVwJyApO1xuXHRcdFxuXHRcdFx0fSxcblx0XHRcblx0XHRcdC8qKlxuXHRcdFx0ICogSGFuZGxlIFdQIFBvc3QgZm9ybSBzdWJtaXNzaW9uIHRvIGVuc3VyZSByZXBlYXRlcnMgYXJlIHNhdmVkIGJlZm9yZSBzdWJtaXR0aW5nIHRoZSBmb3JtIHRvIHNhdmUvcHVibGlzaCB0aGUgcG9zdFxuXHRcdFx0ICogQHBhcmFtICAgIG9iaiAgIGUgIEpTIGV2ZW50IG9iamVjdFxuXHRcdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHRcdCAqIEBzaW5jZSAgICAzLjExLjBcblx0XHRcdCAqIEB2ZXJzaW9uICAzLjE3LjNcblx0XHRcdCAqL1xuXHRcdFx0aGFuZGxlX3N1Ym1pdDogZnVuY3Rpb24oIGUgKSB7XG5cdFx0XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcblx0XHRcdFx0Ly8gZ2V0IHRoZSBidXR0b24gdXNlZCB0byBzdWJtaXQgdGhlIGZvcm1cblx0XHRcdFx0dmFyICRidG4gPSAkKCAnI3Bvc3QgW2RhdGEtbGxtcy1jbGlja2VkPVwieWVzXCJdJyApLFxuXHRcdFx0XHRcdCRzcGlubmVyID0gJGJ0bi5wYXJlbnQoKS5maW5kKCAnLnNwaW5uZXInICk7XG5cdFx0XG5cdFx0XHRcdC8vIGNvcmUgVVggdG8gcHJldmVudCBtdWx0aS1jbGljay9vciB0aGUgYXBwZWFyYW5jZSBvZiBhIGRlbGF5XG5cdFx0XHRcdCQoICcjcG9zdCBpbnB1dFt0eXBlPVwic3VibWl0XCJdJyApLmFkZENsYXNzKCAnZGlzYWJsZWQnICk7XG5cdFx0XHRcdCRzcGlubmVyLmFkZENsYXNzKCAnaXMtYWN0aXZlJyApO1xuXHRcdFxuXHRcdFx0XHR2YXIgc2VsZiA9IHdpbmRvdy5sbG1zLm1ldGFib3hlcy5yZXBlYXRlcnMsXG5cdFx0XHRcdFx0aSA9IDAsXG5cdFx0XHRcdFx0d2FpdDtcblx0XHRcblx0XHRcdFx0c2VsZi4kcmVwZWF0ZXJzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHNlbGYuc2F2ZSggJCggdGhpcyApICk7XG5cdFx0XHRcdH0gKTtcblx0XHRcblx0XHRcdFx0d2FpdCA9IHNldEludGVydmFsKCBmdW5jdGlvbigpIHtcblx0XHRcblx0XHRcdFx0XHRpZiAoIGkgPj0gNTkgfHwgISAkKCAnLmxsbXMtbWItbGlzdC5yZXBlYXRlci5wcm9jZXNzaW5nJyApLmxlbmd0aCApIHtcblx0XHRcblx0XHRcdFx0XHRcdGNsZWFySW50ZXJ2YWwoIHdhaXQgKTtcblx0XHRcdFx0XHRcdCQoICcjcG9zdCcgKS5vZmYoICdzdWJtaXQnLCB0aGlzLmhhbmRsZV9zdWJtaXQgKTtcblx0XHRcdFx0XHRcdCRzcGlubmVyLnJlbW92ZUNsYXNzKCAnaXMtYWN0aXZlJyApO1xuXHRcdFx0XHRcdFx0JGJ0bi5yZW1vdmVDbGFzcyggJ2Rpc2FibGVkJyApLnRyaWdnZXIoICdjbGljaycgKTtcblx0XHRcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFxuXHRcdFx0XHRcdFx0aSsrO1xuXHRcdFxuXHRcdFx0XHRcdH1cblx0XHRcblx0XHRcdFx0fSwgMTAwMCApO1xuXHRcdFxuXHRcdFxuXHRcdFx0fSxcblx0XHRcblx0XHRcdC8qKlxuXHRcdFx0ICogTG9hZCByZXBlcmVhdGVyIGRhdGEgZnJvbSB0aGUgc2VydmVyIGFuZCBjcmVhdGUgcm93cyBpbiB0aGUgRE9NXG5cdFx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdFx0ICogQHNpbmNlICAgIDMuMTEuMFxuXHRcdFx0ICogQHZlcnNpb24gIDMuMTIuMVxuXHRcdFx0ICovXG5cdFx0XHRsb2FkOiBmdW5jdGlvbigpIHtcblx0XHRcblx0XHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFxuXHRcdFx0XHRzZWxmLiRyZXBlYXRlcnMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XG5cdFx0XHRcdFx0dmFyICRyZXBlYXRlciA9ICQoIHRoaXMgKTtcblx0XHRcblx0XHRcdFx0XHQvLyBlbnN1cmUgdGhlIHJlcGVhdGVyIGlzIG9ubHkgbG9hZGVkIG9uY2UgdG8gcHJldmVudCBkdXBsaWNhdGVzIHJlc3VsdGluZyBmcm9tIGR1cGxpY2F0aW5nIGJpbmRpbmdcblx0XHRcdFx0XHQvLyBvbiBjZXJ0YWluIHNpdGVzIHdoaWNoIEkgY2Fubm90IHF1aXRlIGV4cGxhaW4uLi5cblx0XHRcdFx0XHRpZiAoICRyZXBlYXRlci5oYXNDbGFzcyggJ2lzLWxvYWRlZCcgKSB8fCAkcmVwZWF0ZXIuaGFzQ2xhc3MoICdwcm9jZXNzaW5nJyApICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcblx0XHRcdFx0XHRzZWxmLnN0b3JlKCAkcmVwZWF0ZXIsICdsb2FkJywgZnVuY3Rpb24oIGRhdGEgKSB7XG5cdFx0XG5cdFx0XHRcdFx0XHQkcmVwZWF0ZXIuYWRkQ2xhc3MoICdpcy1sb2FkZWQnICk7XG5cdFx0XG5cdFx0XHRcdFx0XHQkLmVhY2goIGRhdGEuZGF0YSwgZnVuY3Rpb24oIGksIG9iaiApIHtcblx0XHRcdFx0XHRcdFx0c2VsZi5hZGRfcm93KCAkcmVwZWF0ZXIsIG9iaiwgZmFsc2UgKTtcblx0XHRcdFx0XHRcdH0gKTtcblx0XHRcblx0XHRcdFx0XHRcdC8vIGZvciBlYWNoIHJvdyB3aXRoaW4gdGhlIHJlcGVhdGVyXG5cdFx0XHRcdFx0XHQkcmVwZWF0ZXIuZmluZCggJy5sbG1zLXJlcGVhdGVyLXJvd3MgLmxsbXMtcmVwZWF0ZXItcm93JyApLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRzZWxmLmJpbmRfcm93KCAkKCB0aGlzICkgKTtcblx0XHRcdFx0XHRcdH0gKTtcblx0XHRcblx0XHRcdFx0XHR9ICk7XG5cdFx0XG5cdFx0XG5cdFx0XG5cdFx0XHRcdH0gKTtcblx0XHRcblx0XHRcdH0sXG5cdFx0XG5cdFx0XHQvKipcblx0XHRcdCAqIFJlaW5kZXggYSByb3dcblx0XHRcdCAqIHJlbmFtZXMgaWRzLCBhdHRycywgYW5kIGV0Yy4uLlxuXHRcdFx0ICogVXNlZCB3aGVuIGNsb25pbmcgdGhlIG1vZGVsIGZvciBuZXcgcm93c1xuXHRcdFx0ICogQHBhcmFtICAgIG9iaiAgICAgICAgICAkcm93ICBqUXVlcnkgc2VsZWN0b3IgZm9yIHRoZSByb3dcblx0XHRcdCAqIEBwYXJhbSAgICBpbnR8c3RyaW5nICAgaW5kZXggIGluZGV4IChvciBpZCkgdG8gdXNlIHdoZW4gcmVuYW1pbmdcblx0XHRcdCAqIEByZXR1cm4gICBzdHJpbmdcblx0XHRcdCAqIEBzaW5jZSAgICAzLjExLjBcblx0XHRcdCAqIEB2ZXJzaW9uICAzLjExLjBcblx0XHRcdCAqL1xuXHRcdFx0cmVpbmRleDogZnVuY3Rpb24oICRyb3csIGluZGV4ICkge1xuXHRcdFxuXHRcdFx0XHR2YXIgb2xkX2luZGV4ID0gJHJvdy5hdHRyKCAnZGF0YS1yb3ctb3JkZXInICksXG5cdFx0XHRcdFx0JGVkID0gJHJvdy5maW5kKCAnLmxsbXMtbWItbGlzdC5lZGl0b3IgdGV4dGFyZWEnICk7XG5cdFx0XG5cdFx0XHRcdHRpbnlNQ0UuRWRpdG9yTWFuYWdlci5leGVjQ29tbWFuZCggJ21jZVJlbW92ZUVkaXRvcicsIHRydWUsICRlZC5hdHRyKCAnaWQnICkgKTtcblx0XHRcblx0XHRcdFx0ZnVuY3Rpb24gcmVwbGFjZV9hdHRyKCAkZWwsIGF0dHIgKSB7XG5cdFx0XHRcdFx0JGVsLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0dmFyIHN0ciA9ICQoIHRoaXMgKS5hdHRyKCBhdHRyICk7XG5cdFx0XHRcdFx0XHQkKCB0aGlzICkuYXR0ciggYXR0ciwgc3RyLnJlcGxhY2UoIG9sZF9pbmRleCwgaW5kZXggKSApO1xuXHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0fTtcblx0XHRcblx0XHRcdFx0JHJvdy5hdHRyKCAnZGF0YS1yb3ctb3JkZXInLCBpbmRleCApO1xuXHRcdFxuXHRcdFx0XHRyZXBsYWNlX2F0dHIoICRyb3csICdkYXRhLXJvdy1vcmRlcicgKTtcblx0XHRcblx0XHRcdFx0cmVwbGFjZV9hdHRyKCAkcm93LmZpbmQoICdidXR0b24uaW5zZXJ0LW1lZGlhJyApLCAnZGF0YS1lZGl0b3InICk7XG5cdFx0XG5cdFx0XHRcdHJlcGxhY2VfYXR0ciggJHJvdy5maW5kKCAnaW5wdXRbbmFtZV49XCJfbGxtc1wiXSwgdGV4dGFyZWFbbmFtZV49XCJfbGxtc1wiXSwgc2VsZWN0W25hbWVePVwiX2xsbXNcIl0nICksICdpZCcgKTtcblx0XHRcdFx0cmVwbGFjZV9hdHRyKCAkcm93LmZpbmQoICdpbnB1dFtuYW1lXj1cIl9sbG1zXCJdLCB0ZXh0YXJlYVtuYW1lXj1cIl9sbG1zXCJdLCBzZWxlY3RbbmFtZV49XCJfbGxtc1wiXScgKSwgJ25hbWUnICk7XG5cdFx0XHRcdHJlcGxhY2VfYXR0ciggJHJvdy5maW5kKCAnW2RhdGEtY29udHJvbGxlcl0nICksICdkYXRhLWNvbnRyb2xsZXInICk7XG5cdFx0XHRcdHJlcGxhY2VfYXR0ciggJHJvdy5maW5kKCAnW2RhdGEtY29udHJvbGxlcl0nICksICdkYXRhLWNvbnRyb2xsZXInICk7XG5cdFx0XHRcdHJlcGxhY2VfYXR0ciggJHJvdy5maW5kKCAnYnV0dG9uLndwLXN3aXRjaC1lZGl0b3InICksICdkYXRhLXdwLWVkaXRvci1pZCcgKTtcblx0XHRcdFx0cmVwbGFjZV9hdHRyKCAkcm93LmZpbmQoICdidXR0b24ud3Atc3dpdGNoLWVkaXRvcicgKSwgJ2lkJyApO1xuXHRcdFx0XHRyZXBsYWNlX2F0dHIoICRyb3cuZmluZCggJy53cC1lZGl0b3ItdG9vbHMnICksICdpZCcgKTtcblx0XHRcdFx0cmVwbGFjZV9hdHRyKCAkcm93LmZpbmQoICcud3AtZWRpdG9yLWNvbnRhaW5lcicgKSwgJ2lkJyApO1xuXHRcdFxuXHRcdFxuXHRcdFx0XHRyZXR1cm4gJGVkLmF0dHIoICdpZCcgKTtcblx0XHRcblx0XHRcdH0sXG5cdFx0XG5cdFx0XHQvKipcblx0XHRcdCAqIFNhdmUgYSBzaW5nbGUgcmVwZWF0ZXJzIGRhdGEgdG8gdGhlIHNlcnZlclxuXHRcdFx0ICogQHBhcmFtICAgIG9iaiAgICRyZXBlYXRlciAgalF1ZXJ5IHNlbGVjdG9yIGZvciBhIHJlcGVhdGVyIGVsZW1lbnRcblx0XHRcdCAqIEByZXR1cm4gICB2b2lzXG5cdFx0XHQgKiBAc2luY2UgICAgMy4xMS4wXG5cdFx0XHQgKiBAdmVyc2lvbiAgMy4xMy4wXG5cdFx0XHQgKi9cblx0XHRcdHNhdmU6IGZ1bmN0aW9uKCAkcmVwZWF0ZXIgKSB7XG5cdFx0XHRcdCRyZXBlYXRlci50cmlnZ2VyKCAnbGxtcy1yZXBlYXRlci1iZWZvcmUtc2F2ZScsIHsgJGVsOiAkcmVwZWF0ZXIgfSApO1xuXHRcdFx0XHR0aGlzLnN0b3JlKCAkcmVwZWF0ZXIsICdzYXZlJyApO1xuXHRcdFx0fSxcblx0XHRcblx0XHRcdC8qKlxuXHRcdFx0ICogQ29udmVydCBhIHJlcGVhdGVyIGVsZW1lbnQgaW50byBhbiBhcnJheSBvZiBvYmplY3RzIHRoYXQgY2FuIGJlIHNhdmVkIHRvIHRoZSBkYXRhYmFzZVxuXHRcdFx0ICogQHBhcmFtICAgIG9iaiAgICRyZXBlYXRlciAgalF1ZXJ5IHNlbGVjdG9yIGZvciBhIHJlcGVhdGVyIGVsZW1lbnRcblx0XHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0XHQgKiBAc2luY2UgICAgMy4xMS4wXG5cdFx0XHQgKiBAdmVyc2lvbiAgMy4xMS4wXG5cdFx0XHQgKi9cblx0XHRcdHNlcmlhbGl6ZTogZnVuY3Rpb24oICRyZXBlYXRlciApIHtcblx0XHRcblx0XHRcdFx0dmFyIHJvd3MgPSBbXTtcblx0XHRcblx0XHRcdFx0JHJlcGVhdGVyLmZpbmQoICcubGxtcy1yZXBlYXRlci1yb3dzIC5sbG1zLXJlcGVhdGVyLXJvdycgKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcblx0XHRcdFx0XHR2YXIgb2JqID0ge307XG5cdFx0XG5cdFx0XHRcdFx0Ly8gZWFzeS4uLlxuXHRcdFx0XHRcdCQoIHRoaXMgKS5maW5kKCAnaW5wdXRbbmFtZV49XCJfbGxtc1wiXSwgc2VsZWN0W25hbWVePVwiX2xsbXNcIl0nICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRvYmpbICQoIHRoaXMgKS5hdHRyKCAnbmFtZScgKSBdID0gJCggdGhpcyApLnZhbCgpO1xuXHRcdFx0XHRcdH0gKTtcblx0XHRcblx0XHRcdFx0XHQvLyBjaGVjayBpZiB0aGUgdGV4dGFyZWEgaXMgYSB0aW55TUNFIGluc3RhbmNlXG5cdFx0XHRcdFx0JCggdGhpcyApLmZpbmQoICd0ZXh0YXJlYVtuYW1lXj1cIl9sbG1zXCJdJyApLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFxuXHRcdFx0XHRcdFx0dmFyIG5hbWUgPSAkKCB0aGlzICkuYXR0ciggJ25hbWUnICk7XG5cdFx0XG5cdFx0XHRcdFx0XHQvLyBpZiBpdCBpcyBhbiBlZGl0b3Jcblx0XHRcdFx0XHRcdGlmICggdGlueU1DRS5lZGl0b3JzWyBuYW1lIF0gKSB7XG5cdFx0XHRcdFx0XHRcdG9ialsgbmFtZSBdID0gdGlueU1DRS5lZGl0b3JzWyBuYW1lIF0uZ2V0Q29udGVudCgpO1xuXHRcdFx0XHRcdFx0Ly8gZ3JhYiB0aGUgdmFsIG9mIHRoZSB0ZXh0YXJlYVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0b2JqWyBuYW1lIF0gPSAkKCB0aGlzICkudmFsKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XG5cdFx0XHRcdFx0fSApO1xuXHRcdFxuXHRcdFx0XHRcdHJvd3MucHVzaCggb2JqICk7XG5cdFx0XG5cdFx0XHRcdH0gKTtcblx0XHRcblx0XHRcdFx0cmV0dXJuIHJvd3M7XG5cdFx0XG5cdFx0XHR9LFxuXHRcdFxuXHRcdFx0LyoqXG5cdFx0XHQgKiBBSkFYIG1ldGhvZCBmb3IgaW50ZXJhY3Rpbmcgd2l0aCB0aGUgcmVwZWF0ZXIncyBoYW5kbGVyIG9uIHRoZSBzZXJ2ZXJcblx0XHRcdCAqIEBwYXJhbSAgICBvYmogICAgICAgJHJlcGVhdGVyICBqUXVlcnkgc2VsZWN0b3IgZm9yIHRoZSByZXBlYXRlciBlbGVtZW50XG5cdFx0XHQgKiBAcGFyYW0gICAgc3RyaW5nICAgIGFjdGlvbiAgICAgYWN0aW9uIHRvIGNhbGwgW3NhdmV8bG9hZF1cblx0XHRcdCAqIEBwYXJhbSAgICBmdW5jdGlvbiAgY2IgICAgICAgICBjYWxsYmFjayBmdW5jdGlvblxuXHRcdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHRcdCAqIEBzaW5jZSAgICAzLjExLjBcblx0XHRcdCAqIEB2ZXJzaW9uICAzLjExLjBcblx0XHRcdCAqL1xuXHRcdFx0c3RvcmU6IGZ1bmN0aW9uKCAkcmVwZWF0ZXIsIGFjdGlvbiwgY2IgKSB7XG5cdFx0XG5cdFx0XHRcdGNiID0gY2IgfHwgZnVuY3Rpb24oKXt9O1xuXHRcdFx0XHR2YXIgc2VsZiA9IHRoaXMsXG5cdFx0XHRcdFx0ZGF0YSA9IHtcblx0XHRcdFx0XHRcdGFjdGlvbjogJHJlcGVhdGVyLmZpbmQoICcubGxtcy1yZXBlYXRlci1maWVsZC1oYW5kbGVyJyApLnZhbCgpLFxuXHRcdFx0XHRcdFx0c3RvcmVfYWN0aW9uOiBhY3Rpb24sXG5cdFx0XHRcdFx0fTtcblx0XHRcblx0XHRcdFx0aWYgKCAnc2F2ZScgPT09IGFjdGlvbiApIHtcblx0XHRcdFx0XHRkYXRhLnJvd3MgPSBzZWxmLnNlcmlhbGl6ZSggJHJlcGVhdGVyICk7XG5cdFx0XHRcdH1cblx0XHRcblx0XHRcdFx0TExNUy5BamF4LmNhbGwoIHtcblx0XHRcdFx0XHRkYXRhOiBkYXRhLFxuXHRcdFx0XHRcdGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKCkge1xuXHRcdFxuXHRcdFx0XHRcdFx0JHJlcGVhdGVyLmFkZENsYXNzKCAncHJvY2Vzc2luZycgKTtcblx0XHRcdFx0XHRcdExMTVMuU3Bpbm5lci5zdGFydCggJHJlcGVhdGVyICk7XG5cdFx0XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbiggciApIHtcblx0XHRcblx0XHRcdFx0XHRcdGNiKCByICk7XG5cdFx0XHRcdFx0XHRMTE1TLlNwaW5uZXIuc3RvcCggJHJlcGVhdGVyICk7XG5cdFx0XHRcdFx0XHQkcmVwZWF0ZXIucmVtb3ZlQ2xhc3MoICdwcm9jZXNzaW5nJyApO1xuXHRcdFxuXHRcdFx0XHRcdH1cblx0XHRcblx0XHRcdFx0fSApO1xuXHRcdFxuXHRcdFx0fSxcblx0XHRcblx0XHR9O1xuXHRcdHRoaXMucmVwZWF0ZXJzLmluaXQoKTtcblx0XHRcblxuXG5cdFx0LyoqXG5cdFx0ICogSW5pdGlhbGl6ZVxuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMTMuMFxuXHRcdCAqL1xuXHRcdHRoaXMuaW5pdCA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdCQoICcubGxtcy1zZWxlY3QyLXBvc3QnICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHNlbGYucG9zdF9zZWxlY3QoICQoIHRoaXMgKSApO1xuXHRcdFx0fSApO1xuXG5cdFx0XHQkKCAnLmxsbXMtY29sbGFwc2libGUtZ3JvdXAnICkubGxtc0NvbGxhcHNpYmxlKCk7XG5cblx0XHRcdHRoaXMuYmluZF90YWJzKCk7XG5cblx0XHRcdC8vIGJpbmQgZXZlcnl0aGluZyBiZXR0ZXIgYW5kIGxlc3MgcmVwZXRhdGl2ZWx5Li4uXG5cdFx0XHR2YXIgYmluZGluZ3MgPSBbXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRzZWxlY3RvcjogJCggJy5sbG1zLWRhdGVwaWNrZXInICksXG5cdFx0XHRcdFx0ZnVuYzogJ2JpbmRfZGF0ZXBpY2tlcnMnLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0c2VsZWN0b3I6ICQoICcubGxtcy1zZWxlY3QyJyApLFxuXHRcdFx0XHRcdGZ1bmM6IGZ1bmN0aW9uKCAkc2VsZWN0b3IgKSB7XG5cdFx0XHRcdFx0XHQkc2VsZWN0b3IubGxtc1NlbGVjdDIoIHtcblx0XHRcdFx0XHRcdFx0d2lkdGg6ICcxMDAlJyxcblx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0c2VsZWN0b3I6ICQoICcubGxtcy1zZWxlY3QyLXN0dWRlbnQnICksXG5cdFx0XHRcdFx0ZnVuYzogZnVuY3Rpb24oICRzZWxlY3RvciApIHtcblx0XHRcdFx0XHRcdCRzZWxlY3Rvci5sbG1zU3R1ZGVudHNTZWxlY3QyKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0c2VsZWN0b3I6ICQoICdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl1bZGF0YS1jb250cm9sc10nICksXG5cdFx0XHRcdFx0ZnVuYzogJ2JpbmRfY2JfY29udHJvbGxlcnMnLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0c2VsZWN0b3I6ICQoICdbZGF0YS1pcy1jb250cm9sbGVyXScgKSxcblx0XHRcdFx0XHRmdW5jOiAnYmluZF9jb250cm9sbGVycycsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRzZWxlY3RvcjogJCggJy5sbG1zLXRhYmxlJyApLFxuXHRcdFx0XHRcdGZ1bmM6ICdiaW5kX3RhYmxlcycsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRzZWxlY3RvcjogJCggJy5sbG1zLW1lcmdlLWNvZGUtd3JhcHBlcicgKSxcblx0XHRcdFx0XHRmdW5jOiAnYmluZF9tZXJnZV9jb2RlX2J1dHRvbnMnLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0c2VsZWN0b3I6ICQoICdhLmxsbXMtZWRpdGFibGUnICksXG5cdFx0XHRcdFx0ZnVuYzogJ2JpbmRfZWRpdGFibGVzJyxcblx0XHRcdFx0fSxcblx0XHRcdF07XG5cblx0XHRcdC8vIGJpbmQgYWxsIHRoZSBiaW5kYWJsZXMgYnV0IGRvbid0IGJpbmQgdGhpbmdzIGluIHJlcGVhdGVyc1xuXHRcdFx0JC5lYWNoKCBiaW5kaW5ncywgZnVuY3Rpb24oIGluZGV4LCBvYmogKSB7XG5cblx0XHRcdFx0aWYgKCBvYmouc2VsZWN0b3IubGVuZ3RoICkge1xuXG5cdFx0XHRcdFx0Ly8gcmVkdWNlIHRoZSBzZWxlY3RvciB0byBleGNsdWRlIGl0ZW1zIGluIGEgcmVwZWF0ZXJcblx0XHRcdFx0XHR2YXIgcmVkdWNlZCA9IG9iai5zZWxlY3Rvci5maWx0ZXIoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuICggMCA9PT0gJCggdGhpcyApLmNsb3Nlc3QoICcubGxtcy1yZXBlYXRlci1tb2RlbCcgKS5sZW5ndGggKTtcblx0XHRcdFx0XHR9ICk7XG5cblx0XHRcdFx0XHQvLyBiaW5kIGJ5IHN0cmluZ1xuXHRcdFx0XHRcdGlmICggJ3N0cmluZycgPT09IHR5cGVvZiBvYmouZnVuYyApIHtcblx0XHRcdFx0XHRcdHNlbGZbIG9iai5mdW5jIF0oIHJlZHVjZWQgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8gYmluZCBieSBhbiBhbm9ueW1vdXMgZnVuY3Rpb25cblx0XHRcdFx0XHRlbHNlIGlmICggJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIG9iai5mdW5jICkge1xuXHRcdFx0XHRcdFx0b2JqLmZ1bmMoIHJlZHVjZWQgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9ICk7XG5cblx0XHRcdC8vIGlmIGEgcG9zdCB0eXBlIGlzIHNldCAmIGEgYmluZCBleGlzdHMgZm9yIGl0LCBiaW5kIGl0XG5cdFx0XHRpZiAoIHdpbmRvdy5sbG1zLnBvc3QucG9zdF90eXBlICkge1xuXG5cdFx0XHRcdHZhciBmdW5jID0gJ2JpbmRfJyArIHdpbmRvdy5sbG1zLnBvc3QucG9zdF90eXBlO1xuXG5cdFx0XHRcdGlmICggJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIHRoaXNbZnVuY10gKSB7XG5cblx0XHRcdFx0XHR0aGlzW2Z1bmNdKCk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogQmluZCBjaGVja2JveGVzIHRoYXQgY29udHJvbCB0aGUgZGlzcGxheSBvZiBvdGhlciBlbGVtZW50c1xuXHRcdCAqIEBwYXJhbSAgICBvYmogICAkY29udHJvbGxlcnNzICBqUXVlcnkgc2VsY3RvciBmb3IgY2hlY2tib3hlcyB0byBiZSBib3VuZCBhcyBjaGVja2JveCBjb250cm9sbGVyc1xuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMTEuMFxuXHRcdCAqL1xuXHRcdHRoaXMuYmluZF9jYl9jb250cm9sbGVycyA9IGZ1bmN0aW9uKCAkY29udHJvbGxlcnMgKSB7XG5cblx0XHRcdCRjb250cm9sbGVycyA9ICRjb250cm9sbGVycyB8fCAkKCAnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdW2RhdGEtY29udHJvbHNdJyApO1xuXG5cdFx0XHQkY29udHJvbGxlcnMuZWFjaCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0dmFyICRjYiA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHQkY29udHJvbGxlZCA9ICQoICRjYi5hdHRyKCAnZGF0YS1jb250cm9scycgKSApLmNsb3Nlc3QoICcubGxtcy1tYi1saXN0JyApO1xuXG5cdFx0XHRcdCRjYi5vbiggJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdFx0aWYgKCAkKCB0aGlzICkuaXMoICc6Y2hlY2tlZCcgKSApIHtcblxuXHRcdFx0XHRcdFx0JGNvbnRyb2xsZWQuc2xpZGVEb3duKCAyMDAgKTtcblxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdCRjb250cm9sbGVkLnNsaWRlVXAoIDIwMCApO1xuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH0gKTtcblxuXHRcdFx0XHQkY2IudHJpZ2dlciggJ2NoYW5nZScgKTtcblxuXHRcdFx0fSApO1xuXG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIEJpbmQgZWxlbWVudHMgdGhhdCBjb250cm9sIHRoZSBkaXNwbGF5IG9mIG90aGVyIGVsZW1lbnRzXG5cdFx0ICogQHBhcmFtICAgIG9iaiAgICRjb250cm9sbGVyc3MgIGpRdWVyeSBzZWxjdG9yIGZvciBlbGVtZW50cyB0byBiZSBib3VuZCBhcyBjaGVja2JveCBjb250cm9sbGVyc1xuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMTEuMFxuXHRcdCAqL1xuXHRcdHRoaXMuYmluZF9jb250cm9sbGVycyA9IGZ1bmN0aW9uKCAkY29udHJvbGxlcnMgKSB7XG5cblx0XHRcdCRjb250cm9sbGVycyA9ICRjb250cm9sbGVycyB8fCAkKCAnW2RhdGEtaXMtY29udHJvbGxlcl0nICk7XG5cblx0XHRcdCRjb250cm9sbGVycy5lYWNoKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHR2YXIgJGVsID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdCRjb250cm9sbGVkID0gJCggJ1tkYXRhLWNvbnRyb2xsZXI9XCIjJyArICRlbC5hdHRyKCAnaWQnICkgKyAnXCJdJyApLFxuXHRcdFx0XHRcdHZhbDtcblxuXHRcdFx0XHQkZWwub24oICdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRcdGlmICggJ2NoZWNrYm94JyA9PT0gJGVsLmF0dHIoICd0eXBlJyApICkge1xuXG5cdFx0XHRcdFx0XHR2YWwgPSAkZWwuaXMoICc6Y2hlY2tlZCcgKSA/ICRlbC52YWwoKSA6ICdmYWxzZSc7XG5cblx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHR2YWwgPSAkZWwudmFsKCk7XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQkY29udHJvbGxlZC5lYWNoKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRcdFx0dmFyIHBvc3NpYmxlID0gJCggdGhpcyApLmF0dHIoICdkYXRhLWNvbnRyb2xsZXItdmFsdWUnICksXG5cdFx0XHRcdFx0XHRcdHZhbHMgPSBbXTtcblxuXHRcdFx0XHRcdFx0aWYgKCAtMSAhPT0gcG9zc2libGUuaW5kZXhPZiggJywnICkgKSB7XG5cblx0XHRcdFx0XHRcdFx0dmFscyA9IHBvc3NpYmxlLnNwbGl0KCAnLCcgKTtcblxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0XHR2YWxzLnB1c2goIHBvc3NpYmxlICk7XG5cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0aWYgKCAtMSAhPT0gdmFscy5pbmRleE9mKCB2YWwgKSApIHtcblxuXHRcdFx0XHRcdFx0XHQkKCB0aGlzICkuc2xpZGVEb3duKCAyMDAgKTtcblxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0XHQkKCB0aGlzICkuc2xpZGVVcCggMjAwICk7XG5cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdH0gKTtcblxuXG5cdFx0XHRcdH0gKTtcblxuXHRcdFx0XHQkZWwudHJpZ2dlciggJ2NoYW5nZScgKTtcblxuXHRcdFx0fSApO1xuXG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIEJpbmQgYSBzaW5nbGUgZGF0ZXBpY2tlciBlbGVtZW50XG5cdFx0ICogQHBhcmFtICAgIG9iaiAgICRlbCAgalF1ZXJ5IHNlbGVjdG9yIGZvciB0aGUgaW5wdXQgdG8gYmluZCB0aGUgZGF0ZXBpY2tlciB0b1xuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMTAuMFxuXHRcdCAqL1xuXHRcdHRoaXMuYmluZF9kYXRlcGlja2VyID0gZnVuY3Rpb24oICRlbCApIHtcblx0XHRcdHZhciBmb3JtYXQgPSAkZWwuYXR0ciggJ2RhdGEtZm9ybWF0JyApIHx8ICdtbS9kZC95eScsXG5cdFx0XHRcdG1heERhdGUgPSAkZWwuYXR0ciggJ2RhdGEtbWF4LWRhdGUnICkgfHwgbnVsbCxcblx0XHRcdFx0bWluRGF0ZSA9ICRlbC5hdHRyKCAnZGF0YS1taW4tZGF0ZScgKSB8fCBudWxsO1xuXHRcdFx0JGVsLmRhdGVwaWNrZXIoIHtcblx0XHRcdFx0ZGF0ZUZvcm1hdDogZm9ybWF0LFxuXHRcdFx0XHRtYXhEYXRlOiBtYXhEYXRlLFxuXHRcdFx0XHRtaW5EYXRlOiBtaW5EYXRlLFxuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIEJpbmQgYWxsIExpZnRlckxNUyBkYXRlcGlja2Vyc1xuXHRcdCAqIEBwYXJhbSAgICBvYmogICAkZGF0ZXBpY2tlcnMgIGpRdWVyeSBzZWxlY3RvciBmb3IgdGhlIGVsZW1lbnRzIHRvIGJpbmRcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjExLjBcblx0XHQgKi9cblx0XHR0aGlzLmJpbmRfZGF0ZXBpY2tlcnMgPSBmdW5jdGlvbiggJGRhdGVwaWNrZXJzICkge1xuXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdCRkYXRlcGlja2VycyA9ICRkYXRlcGlja2VycyB8fCAkKCcubGxtcy1kYXRlcGlja2VyJyk7XG5cblx0XHRcdCRkYXRlcGlja2Vycy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0c2VsZi5iaW5kX2RhdGVwaWNrZXIoICQoIHRoaXMgKSApO1xuXHRcdFx0fSApO1xuXG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIEJpbmQgbGxtcy1lZGl0YWJsZSBtZXRhYm94IGZpZWxkcyBhbmQgcmVsYXRlZCBkb20gaW50ZXJhY3Rpb25zXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4xMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMTAuMFxuXHRcdCAqL1xuXHRcdHRoaXMuYmluZF9lZGl0YWJsZXMgPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0XHRmdW5jdGlvbiBtYWtlX2VkaXRhYmxlKCAkZmllbGQgKSB7XG5cblx0XHRcdFx0dmFyICRsYWJlbCA9ICRmaWVsZC5maW5kKCAnbGFiZWwnICkuY2xvbmUoKSxcblx0XHRcdFx0XHRuYW1lID0gJGZpZWxkLmF0dHIoICdkYXRhLWxsbXMtZWRpdGFibGUnICksXG5cdFx0XHRcdFx0dHlwZSA9ICRmaWVsZC5hdHRyKCAnZGF0YS1sbG1zLWVkaXRhYmxlLXR5cGUnICksXG5cdFx0XHRcdFx0cmVxdWlyZWQgPSAkZmllbGQuYXR0ciggJ2RhdGEtbGxtcy1lZGl0YWJsZS1yZXF1aXJlZCcgKSB8fCAnbm8nLFxuXHRcdFx0XHRcdHZhbCA9ICRmaWVsZC5hdHRyKCAnZGF0YS1sbG1zLWVkaXRhYmxlLXZhbHVlJyApLFxuXHRcdFx0XHRcdCRpbnB1dDtcblxuXHRcdFx0XHRyZXF1aXJlZCA9ICggJ3llcycgPT09IHJlcXVpcmVkICkgPyAnIHJlcXVpcmVkPVwicmVxdWlyZWRcIicgOiAnJztcblxuXHRcdFx0XHRpZiAoICdzZWxlY3QnID09PSB0eXBlICkge1xuXG5cdFx0XHRcdFx0dmFyIG9wdGlvbnMgPSBKU09OLnBhcnNlKCAkZmllbGQuYXR0ciggJ2RhdGEtbGxtcy1lZGl0YWJsZS1vcHRpb25zJyApICksXG5cdFx0XHRcdFx0XHRzZWxlY3RlZDtcblxuXHRcdFx0XHRcdCRpbnB1dCA9ICQoICc8c2VsZWN0IG5hbWU9XCInICsgbmFtZSArICdcIicgKyByZXF1aXJlZCArICcgLz4nKTtcblx0XHRcdFx0XHRmb3IgKCB2YXIga2V5IGluIG9wdGlvbnMgKSB7XG5cdFx0XHRcdFx0XHRzZWxlY3RlZCA9IHZhbCA9PT0ga2V5ID8gJyBzZWxlY3RlZD1cInNlbGVjdGVkXCInIDogJyc7XG5cdFx0XHRcdFx0XHQkaW5wdXQuYXBwZW5kKCAnPG9wdGlvbiB2YWx1ZT1cIicgKyBrZXkgKyAnXCInICsgc2VsZWN0ZWQgKyAnPicgKyBvcHRpb25zWyBrZXkgXSArICc8L29wdGlvbj4nICk7XG5cdFx0XHRcdFx0fVxuXG5cblx0XHRcdFx0fSBlbHNlIGlmICggJ2RhdGV0aW1lJyA9PT0gdHlwZSApIHtcblxuXHRcdFx0XHRcdCRpbnB1dCA9ICQoICc8ZGl2IGNsYXNzPVwibGxtcy1kYXRldGltZS1maWVsZFwiIC8+JyApO1xuXG5cdFx0XHRcdFx0dmFsID0gSlNPTi5wYXJzZSggdmFsICk7XG5cdFx0XHRcdFx0dmFyIGZvcm1hdCA9ICRmaWVsZC5hdHRyKCAnZGF0YS1sbG1zLWVkaXRhYmxlLWRhdGUtZm9ybWF0JyApIHx8ICcnLFxuXHRcdFx0XHRcdFx0bWluX2RhdGUgPSAkZmllbGQuYXR0ciggJ2RhdGEtbGxtcy1lZGl0YWJsZS1kYXRlLW1pbicgKSB8fCAnJyxcblx0XHRcdFx0XHRcdG1heF9kYXRlID0gJGZpZWxkLmF0dHIoICdkYXRhLWxsbXMtZWRpdGFibGUtZGF0ZS1tYXgnICkgfHwgJyc7XG5cblx0XHRcdFx0XHQkcGlja2VyID0gJCggJzxpbnB1dCBjbGFzcz1cImxsbXMtZGF0ZS1pbnB1dCBsbG1zLWRhdGVwaWNrZXJcIiBkYXRhLWZvcm1hdD1cIicgKyBmb3JtYXQgKyAnXCIgZGF0YS1tYXgtZGF0ZT1cIicgKyBtYXhfZGF0ZSArICdcIiBkYXRhLW1pbi1kYXRlPVwiJyArIG1pbl9kYXRlICsgJ1wiIG5hbWU9XCInICsgbmFtZSArICdbZGF0ZV1cIiB0eXBlPVwidGV4dFwiIHZhbHVlPVwiJyArICB2YWwuZGF0ZSArICdcIj4nICk7XG5cdFx0XHRcdFx0c2VsZi5iaW5kX2RhdGVwaWNrZXIoICRwaWNrZXIgKTtcblx0XHRcdFx0XHQkaW5wdXQuYXBwZW5kKCAkcGlja2VyICk7XG5cdFx0XHRcdFx0JGlucHV0LmFwcGVuZCggJzxlbT5APC9lbT4nKTtcblxuXHRcdFx0XHRcdCRpbnB1dC5hcHBlbmQoICc8aW5wdXQgY2xhc3M9XCJsbG1zLXRpbWUtaW5wdXRcIiBtYXg9XCIyM1wiIG1pbj1cIjBcIiBuYW1lPVwiJyArIG5hbWUgKyAnW2hvdXJdXCIgdHlwZT1cIm51bWJlclwiIHZhbHVlPVwiJyArICB2YWwuaG91ciArICdcIj4nICk7XG5cdFx0XHRcdFx0JGlucHV0LmFwcGVuZCggJzxlbT46PC9lbT4nKTtcblx0XHRcdFx0XHQkaW5wdXQuYXBwZW5kKCAnPGlucHV0IGNsYXNzPVwibGxtcy10aW1lLWlucHV0XCIgbWF4PVwiNTlcIiBtaW49XCIwXCIgbmFtZT1cIicgKyBuYW1lICsgJ1ttaW51dGVdXCIgdHlwZT1cIm51bWJlclwiIHZhbHVlPVwiJyArICB2YWwubWludXRlICsgJ1wiPicgKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0JGlucHV0ID0gJCggJzxpbnB1dCBuYW1lPVwiJyArIG5hbWUgKyAnXCIgdHlwZT1cIicgKyB0eXBlICsgJ1wiIHZhbHVlPVwiJyArIHZhbCArICdcIicgKyByZXF1aXJlZCArICc+Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQkZmllbGQuZW1wdHkoKS5hcHBlbmQoICRsYWJlbCApLmFwcGVuZCggJGlucHV0ICk7XG5cblx0XHRcdH07XG5cblx0XHRcdCQoICdhLmxsbXMtZWRpdGFibGUnICkub24oICdjbGljaycsIGZ1bmN0aW9uKCBlICkge1xuXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0XHR2YXIgJGJ0biA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHQkZmllbGRzO1xuXG5cdFx0XHRcdGlmICggJGJ0bi5hdHRyKCAnZGF0YS1maWVsZHMnICkgKSB7XG5cdFx0XHRcdFx0JGZpZWxkcyA9ICQoICRidG4uYXR0ciggJ2RhdGEtZmllbGRzJyApICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0JGZpZWxkcyA9ICRidG4uY2xvc2VzdCggJy5sbG1zLW1ldGFib3gtc2VjdGlvbicgKS5maW5kKCAnW2RhdGEtbGxtcy1lZGl0YWJsZV0nICk7XG5cdFx0XHRcdH1cblxuXG5cdFx0XHRcdCRidG4ucmVtb3ZlKCk7XG5cblx0XHRcdFx0JGZpZWxkcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRtYWtlX2VkaXRhYmxlKCAkKCB0aGlzICkgKTtcblx0XHRcdFx0fSApO1xuXG5cdFx0XHR9ICk7XG5cblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogQmluZCBFbmdhZ2VtZW50IHBvc3QgdHlwZSBKU1xuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMS4wXG5cdFx0ICogQHZlcnNpb24gIDMuMS4wXG5cdFx0ICovXG5cdFx0dGhpcy5iaW5kX2xsbXNfZW5nYWdlbWVudCA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdC8vIHdoZW4gdGhlIGVuZ2FnZW1lbnQgdHlwZSBjaGFuZ2VzIHdlIG5lZWQgdG8gZG8gc29tZSB0aGluZ3MgdG8gdGhlIFVJXG5cdFx0XHQkKCAnI19sbG1zX2VuZ2FnZW1lbnRfdHlwZScgKS5vbiggJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdCQoICcjX2xsbXNfZW5nYWdlbWVudCcgKS50cmlnZ2VyKCAnbGxtcy1lbmdhZ2VtZW50LXR5cGUtY2hhbmdlJywgJCggdGhpcyApLnZhbCgpICk7XG5cblx0XHRcdH0gKTtcblxuXHRcdFx0Ly8gY3VzdG9tIHRyaWdnZXIgd2hlbiBjYWxsZWQgd2hlbiB0aGUgZW5nYWdlbWVudCB0eXBlIGNoYW5nc1xuXHRcdFx0JCggJyNfbGxtc19lbmdhZ2VtZW50JyApLm9uKCAnbGxtcy1lbmdhZ2VtZW50LXR5cGUtY2hhbmdlJywgZnVuY3Rpb24oIGUsIGVuZ2FnZW1lbnRfdHlwZSApIHtcblxuXHRcdFx0XHR2YXIgJHNlbGVjdCA9ICQoIHRoaXMgKTtcblxuXHRcdFx0XHRzd2l0Y2ggKCBlbmdhZ2VtZW50X3R5cGUgKSB7XG5cblx0XHRcdFx0XHQvKipcblx0XHRcdFx0XHQgKiBjb3JlIGVuZ2FnZW1lbnRzIHJlbGF0ZWQgdG8gYSBDUFRcblx0XHRcdFx0XHQgKi9cblx0XHRcdFx0XHRjYXNlICdhY2hpZXZlbWVudCc6XG5cdFx0XHRcdFx0Y2FzZSAnY2VydGlmaWNhdGUnOlxuXHRcdFx0XHRcdGNhc2UgJ2VtYWlsJzpcblxuXHRcdFx0XHRcdFx0dmFyIGNwdCA9ICdsbG1zXycgKyBlbmdhZ2VtZW50X3R5cGU7XG5cblx0XHRcdFx0XHRcdCRzZWxlY3QudmFsKCBudWxsICkuYXR0ciggJ2RhdGEtcG9zdC10eXBlJywgY3B0ICkudHJpZ2dlciggJ2NoYW5nZScgKTtcblx0XHRcdFx0XHRcdHNlbGYucG9zdF9zZWxlY3QoICRzZWxlY3QgKTtcblxuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0LyoqXG5cdFx0XHRcdFx0ICogQWxsb3cgb3RoZXIgcGx1Z2lucyBhbmQgZGV2ZWxvcGVycyB0byBob29rIGludG8gdGhlIGVuZ2FnZW1lbnQgdHlwZSBjaGFuZ2UgYWN0aW9uXG5cdFx0XHRcdFx0ICovXG5cdFx0XHRcdFx0ZGVmYXVsdDpcblxuXHRcdFx0XHRcdFx0JHNlbGVjdC50cmlnZ2VyKCAnbGxtcy1lbmdhZ2VtZW50LXR5cGUtY2hhbmdlLWV4dGVybmFsJywgZW5nYWdlbWVudF90eXBlICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9ICk7XG5cblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogQWN0aW9ucyBmb3IgbWVtYmVyc2hpcHNcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjQuMFxuXHRcdCAqL1xuXHRcdHRoaXMuYmluZF9sbG1zX21lbWJlcnNoaXAgPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gcmVtb3ZlIGF1dG8tZW5yb2xsIGNvdXJzZVxuXHRcdFx0JCggJ2FbaHJlZj1cIiNsbG1zLWNvdXJzZS1yZW1vdmVcIl0nICkub24oICdjbGljaycsIGZ1bmN0aW9uKCBlICkge1xuXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0XHR2YXIgJGVsID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdCRyb3cgPSAkZWwuY2xvc2VzdCggJ3RyJyApLFxuXHRcdFx0XHRcdCRjb250YWluZXIgPSAkZWwuY2xvc2VzdCggJy5sbG1zLW1iLWxpc3QnICk7XG5cblx0XHRcdFx0TExNUy5TcGlubmVyLnN0YXJ0KCAkY29udGFpbmVyICk7XG5cblx0XHRcdFx0d2luZG93LkxMTVMuQWpheC5jYWxsKCB7XG5cdFx0XHRcdFx0ZGF0YToge1xuXHRcdFx0XHRcdFx0YWN0aW9uOiAnbWVtYmVyc2hpcF9yZW1vdmVfYXV0b19lbnJvbGxfY291cnNlJyxcblx0XHRcdFx0XHRcdGNvdXJzZV9pZDogJGVsLmF0dHIoICdkYXRhLWlkJyApLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0YmVmb3JlU2VuZDogZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0XHRcdCRjb250YWluZXIuZmluZCggJ3AuZXJyb3InICkucmVtb3ZlKCk7XG5cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKCByICkge1xuXG5cdFx0XHRcdFx0XHRpZiAoIHIuc3VjY2VzcyApIHtcblxuXHRcdFx0XHRcdFx0XHQkcm93LmZhZGVPdXQoIDIwMCApO1xuXHRcdFx0XHRcdFx0XHRzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHQkcm93LnJlbW92ZSgpO1xuXHRcdFx0XHRcdFx0XHR9LCA0MDAgKTtcblxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0XHQkY29udGFpbmVyLnByZXBlbmQoICc8cCBjbGFzcz1cImVycm9yXCI+JyArIHIubWVzc2FnZSArICc8L3A+JyApO1xuXG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdExMTVMuU3Bpbm5lci5zdG9wKCAkY29udGFpbmVyICk7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fSApO1xuXG5cdFx0XHR9ICk7XG5cblx0XHRcdC8vIGJ1bGsgZW5yb2xsIGFsbCBtZW1iZXJzIGludG8gYSBjb3Vyc2Vcblx0XHRcdCQoICdhW2hyZWY9XCIjbGxtcy1jb3Vyc2UtYnVsay1lbnJvbGxcIl0nICkub24oICdjbGljaycsIGZ1bmN0aW9uKCBlICkge1xuXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0XHR2YXIgJGVsID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdCRyb3cgPSAkZWwuY2xvc2VzdCggJ3RyJyApLFxuXHRcdFx0XHRcdCRjb250YWluZXIgPSAkZWwuY2xvc2VzdCggJy5sbG1zLW1iLWxpc3QnICk7XG5cblx0XHRcdFx0aWYgKCAhIHdpbmRvdy5jb25maXJtKCBMTE1TLmwxMG4udHJhbnNsYXRlKCAnbWVtYmVyc2hpcF9idWxrX2Vucm9sbG1lbnRfd2FybmluZycgKSApICkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdExMTVMuU3Bpbm5lci5zdGFydCggJGNvbnRhaW5lciApO1xuXG5cdFx0XHRcdHdpbmRvdy5MTE1TLkFqYXguY2FsbCgge1xuXHRcdFx0XHRcdGRhdGE6IHtcblx0XHRcdFx0XHRcdGFjdGlvbjogJ2J1bGtfZW5yb2xsX21lbWJlcnNoaXBfaW50b19jb3Vyc2UnLFxuXHRcdFx0XHRcdFx0Y291cnNlX2lkOiAkZWwuYXR0ciggJ2RhdGEtaWQnICksXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRiZWZvcmVTZW5kOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdCRjb250YWluZXIuZmluZCggJ3AuZXJyb3InICkucmVtb3ZlKCk7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbiggciApIHtcblxuXHRcdFx0XHRcdFx0aWYgKCByLnN1Y2Nlc3MgKSB7XG5cblx0XHRcdFx0XHRcdFx0JGVsLnJlcGxhY2VXaXRoKCAnPHN0cm9uZyBzdHlsZT1cImZsb2F0OnJpZ2h0O1wiPicgKyByLmRhdGEubWVzc2FnZSArICcmbmJzcDsmbmJzcDs8L3N0cm9uZz4nICk7XG5cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0JGNvbnRhaW5lci5wcmVwZW5kKCAnPHAgY2xhc3M9XCJlcnJvclwiPicgKyByLm1lc3NhZ2UgKyAnPC9wPicgKTtcblxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRMTE1TLlNwaW5uZXIuc3RvcCggJGNvbnRhaW5lciApO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH0gKTtcblxuXHRcdFx0fSApO1xuXG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIEFjdGlvbnMgZm9yIE9SREVSU1xuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMTAuMFxuXHRcdCAqL1xuXHRcdHRoaXMuYmluZF9sbG1zX29yZGVyID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdCQoICdidXR0b25bbmFtZT1cImxsbXMtcmVmdW5kLXRvZ2dsZVwiXScgKS5vbiggJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0dmFyICRidG4gPSAkKCB0aGlzICksXG5cdFx0XHRcdFx0JHJvdyA9ICRidG4uY2xvc2VzdCggJ3RyJyApLFxuXHRcdFx0XHRcdHR4bl9pZCA9ICRyb3cuYXR0ciggJ2RhdGEtdHJhbnNhY3Rpb24taWQnICksXG5cdFx0XHRcdFx0cmVmdW5kYWJsZV9hbW91bnQgPSAkYnRuLmF0dHIoICdkYXRhLXJlZnVuZGFibGUnICksXG5cdFx0XHRcdFx0Z2F0ZXdheV9zdXBwb3J0cyA9ICggJzEnID09PSAkYnRuLmF0dHIoICdkYXRhLWdhdGV3YXktc3VwcG9ydHMnICkgKSA/IHRydWUgOiBmYWxzZSxcblx0XHRcdFx0XHRnYXRld2F5X3RpdGxlID0gJGJ0bi5hdHRyKCAnZGF0YS1nYXRld2F5JyApLFxuXHRcdFx0XHRcdCRuZXdfcm93ID0gJCggJyNsbG1zLXR4bi1yZWZ1bmQtbW9kZWwgLmxsbXMtdHhuLXJlZnVuZC1mb3JtJyApLmNsb25lKCksXG5cdFx0XHRcdFx0JGdhdGV3YXlfYnRuID0gJG5ld19yb3cuZmluZCggJy5nYXRld2F5LWJ0bicgKTtcblxuXHRcdFx0XHQvLyBjb25maWd1cmUgYW5kIGFkZCB0aGUgZm9ybVxuXHRcdFx0XHRpZiAoICdyZW1vdmUnICE9PSAkYnRuLmF0dHIoICdkYXRhLWFjdGlvbicgKSApIHtcblxuXHRcdFx0XHRcdCRidG4udGV4dCggTExNUy5sMTBuLnRyYW5zbGF0ZSggJ0NhbmNlbCcgKSApO1xuXHRcdFx0XHRcdCRidG4uYXR0ciggJ2RhdGEtYWN0aW9uJywgJ3JlbW92ZScgKTtcblx0XHRcdFx0XHQkbmV3X3Jvdy5maW5kKCAnaW5wdXQnICkucmVtb3ZlQXR0ciggJ2Rpc2FibGVkJyApO1xuXHRcdFx0XHRcdCRuZXdfcm93LmZpbmQoICdpbnB1dFtuYW1lPVwibGxtc19yZWZ1bmRfYW1vdW50XCJdJyApLmF0dHIoICdtYXgnLCByZWZ1bmRhYmxlX2Ftb3VudCApO1xuXHRcdFx0XHRcdCRuZXdfcm93LmZpbmQoICdpbnB1dFtuYW1lPVwibGxtc19yZWZ1bmRfdHhuX2lkXCJdJyApLnZhbCggdHhuX2lkICk7XG5cblx0XHRcdFx0XHRpZiAoIGdhdGV3YXlfc3VwcG9ydHMgKSB7XG5cdFx0XHRcdFx0XHQkZ2F0ZXdheV9idG4uZmluZCggJy5sbG1zLWdhdGV3YXktdGl0bGUnICkudGV4dCggZ2F0ZXdheV90aXRsZSApO1xuXHRcdFx0XHRcdFx0JGdhdGV3YXlfYnRuLnNob3coKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQkcm93LmFmdGVyKCAkbmV3X3JvdyApO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHQkYnRuLnRleHQoIExMTVMubDEwbi50cmFuc2xhdGUoICdSZWZ1bmQnICkgKTtcblx0XHRcdFx0XHQkYnRuLmF0dHIoICdkYXRhLWFjdGlvbicsICcnICk7XG5cdFx0XHRcdFx0JHJvdy5uZXh0KCAndHInICkucmVtb3ZlKCk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9ICk7XG5cblx0XHRcdCQoICdidXR0b25bbmFtZT1cImxsbXMtbWFudWFsLXR4bi10b2dnbGVcIl0nICkub24oICdjbGljaycsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdHZhciAkYnRuID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdCRyb3cgPSAkYnRuLmNsb3Nlc3QoICd0cicgKSxcblx0XHRcdFx0XHQkbmV3X3JvdyA9ICQoICcjbGxtcy1tYW51YWwtdHhuLW1vZGVsIC5sbG1zLW1hbnVhbC10eG4tZm9ybScgKS5jbG9uZSgpO1xuXG5cdFx0XHRcdC8vIGNvbmZpZ3VyZSBhbmQgYWRkIHRoZSBmb3JtXG5cdFx0XHRcdGlmICggJ3JlbW92ZScgIT09ICRidG4uYXR0ciggJ2RhdGEtYWN0aW9uJyApICkge1xuXG5cdFx0XHRcdFx0JGJ0bi50ZXh0KCBMTE1TLmwxMG4udHJhbnNsYXRlKCAnQ2FuY2VsJyApICk7XG5cdFx0XHRcdFx0JGJ0bi5hdHRyKCAnZGF0YS1hY3Rpb24nLCAncmVtb3ZlJyApO1xuXHRcdFx0XHRcdCRuZXdfcm93LmZpbmQoICdpbnB1dCcgKS5yZW1vdmVBdHRyKCAnZGlzYWJsZWQnICk7XG5cblx0XHRcdFx0XHQkcm93LmFmdGVyKCAkbmV3X3JvdyApO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHQkYnRuLnRleHQoIExMTVMubDEwbi50cmFuc2xhdGUoICdSZWNvcmQgYSBNYW51YWwgUGF5bWVudCcgKSApO1xuXHRcdFx0XHRcdCRidG4uYXR0ciggJ2RhdGEtYWN0aW9uJywgJycgKTtcblx0XHRcdFx0XHQkcm93Lm5leHQoICd0cicgKS5yZW1vdmUoKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdH0gKTtcblxuXHRcdFx0Ly8gY2FjaGUgdGhlIG9yaWdpbmFsIHZhbHVlIHdoZW4gZm9jdXNpbmcgb24gYSBwYXltZW50IGdhdGV3YXkgc2VsZWN0XG5cdFx0XHQvLyB1c2VkIGJlbG93IHNvIHRoZSBvcmlnaW5hbCBmaWVsZCByZWxhdGVkIGRhdGEgY2FuIGJlIHJlc3RvcmVkIHdoZW4gc3dpdGNoaW5nIGJhY2sgdG8gdGhlIG9yaWduaWFsbHkgc2VsZWN0ZWQgZ2F0ZXdheVxuXHRcdFx0JCggJy5sbG1zLW1ldGFib3gnICkub25lKCAnZm9jdXMnLCAnLmxsbXMtbWV0YWJveC1maWVsZFtkYXRhLWxsbXMtZWRpdGFibGU9XCJwYXltZW50X2dhdGV3YXlcIl0gc2VsZWN0JywgZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0aWYgKCAhICQoIHRoaXMgKS5hdHRyKCAnZGF0YS1vcmlnaW5hbC12YWx1ZScgKSApIHtcblx0XHRcdFx0XHQkKCB0aGlzICkuYXR0ciggJ2RhdGEtb3JpZ2luYWwtdmFsdWUnLCAkKCB0aGlzICkudmFsKCkgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHR9ICk7XG5cblx0XHRcdC8vIHdoZW4gc2VsZWN0aW5nIGEgbmV3IHBheW1lbnQgZ2F0ZXdheSBnZXQgZmllbGQgZGF0YSBhbmQgdXBkYXRlIHRoZSBkb20gdG8gb25seSBkaXNwbGF5IHRoZSBmaWVsZHNcblx0XHRcdC8vIHN1cHBvcnRlZC9uZWVkZWQgYnkgdGhlIG5ld2x5IHNlbGVjdGVkIGdhdGV3YXlcblx0XHRcdCQoICcubGxtcy1tZXRhYm94JyApLm9uKCAnY2hhbmdlJywgJy5sbG1zLW1ldGFib3gtZmllbGRbZGF0YS1sbG1zLWVkaXRhYmxlPVwicGF5bWVudF9nYXRld2F5XCJdIHNlbGVjdCcsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdHZhciAkc2VsZWN0ID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdGdhdGV3YXkgPSAkc2VsZWN0LnZhbCgpLFxuXHRcdFx0XHRcdGRhdGEgPSBKU09OLnBhcnNlKCAkc2VsZWN0LmNsb3Nlc3QoICcubGxtcy1tZXRhYm94LWZpZWxkJyApLmF0dHIoICdkYXRhLWdhdGV3YXktZmllbGRzJyApICksXG5cdFx0XHRcdFx0Z2F0ZXdheV9kYXRhID0gZGF0YVsgZ2F0ZXdheSBdO1xuXG5cdFx0XHRcdGZvciAoIHZhciBmaWVsZCBpbiBnYXRld2F5X2RhdGEgKSB7XG5cblx0XHRcdFx0XHR2YXIgJGZpZWxkID0gJCggJ2lucHV0W25hbWU9XCInICsgZ2F0ZXdheV9kYXRhWyBmaWVsZCBdLm5hbWUgKyAnXCJdJyApLFxuXHRcdFx0XHRcdFx0JHdyYXAgPSAkZmllbGQuY2xvc2VzdCggJy5sbG1zLW1ldGFib3gtZmllbGQnICk7XG5cblx0XHRcdFx0XHQvLyBhbHdheXMgY2xlYXIgdGhlIHZhbHVlIHdoZW4gc3dpdGNoaW5nXG5cdFx0XHRcdFx0Ly8gZW5zdXJlcyB0aGF0IG91dGRhdGVkIGRhdGEgaXMgcmVtb3ZlZCBmcm9tIHRoZSBEQlxuXHRcdFx0XHRcdCRmaWVsZC5hdHRyKCAndmFsdWUnLCAnJyApO1xuXG5cdFx0XHRcdFx0Ly8gaWYgdGhlIGZpZWxkIGlzIGVuYWJsZWQgc2hvdyBpdCB0aGUgZmllbGQgYW5kLCBpZiB3ZSdyZSBzd2l0Y2hpbmcgYmFjayB0byB0aGUgb3JpZ2luYWxseSBzZWxlY3RlZFxuXHRcdFx0XHRcdC8vIGdhdGV3YXksIHJlbG9hZCB0aGUgdmFsdWUgZnJvbSB0aGUgZG9tXG5cdFx0XHRcdFx0aWYgKCBnYXRld2F5X2RhdGFbIGZpZWxkIF0uZW5hYmxlZCApIHtcblxuXHRcdFx0XHRcdFx0JHdyYXAuc2hvdygpO1xuXHRcdFx0XHRcdFx0JGZpZWxkLmF0dHIoICdyZXF1aXJlZCcsICdyZXF1aXJlZCcgKTtcblx0XHRcdFx0XHRcdGlmICggZ2F0ZXdheSA9PT0gJHNlbGVjdC5hdHRyKCAnZGF0YS1vcmlnaW5hbC12YWx1ZScpICkge1xuXHRcdFx0XHRcdFx0XHQkZmllbGQudmFsKCAkd3JhcC5hdHRyKCAnZGF0YS1sbG1zLWVkaXRhYmxlLXZhbHVlJyApICk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBvdGhlcndpc2UgaGlkZSB0aGUgZmllbGRcblx0XHRcdFx0XHQvLyB0aGlzIHdpbGwgZW5zdXJlIGl0IGdldHMgdXBkYXRlZCBpbiB0aGUgZGF0YWJhc2Vcblx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHQkZmllbGQucmVtb3ZlQXR0ciggJ3JlcXVpcmVkJyApO1xuXHRcdFx0XHRcdFx0JHdyYXAuaGlkZSgpO1xuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH1cblxuXHRcdFx0fSApO1xuXG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIEJpbmRzIGN1c3RvbSBsbG1zIG1lcmdlIGNvZGUgYnV0dG9uc1xuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMS4wXG5cdFx0ICogQHZlcnNpb24gIDMuOS4yXG5cdFx0ICovXG5cdFx0dGhpcy5iaW5kX21lcmdlX2NvZGVfYnV0dG9ucyA9IGZ1bmN0aW9uKCAkd3JhcHBlcnMgKSB7XG5cblx0XHRcdCR3cmFwcGVycyA9ICR3cmFwcGVycyB8fCAkKCAnLmxsbXMtbWVyZ2UtY29kZS13cmFwcGVyJyApO1xuXG5cdFx0XHQkd3JhcHBlcnMuZmluZCggJy5sbG1zLW1lcmdlLWNvZGUtYnV0dG9uJyApLm9uKCAnY2xpY2snLCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHQkKCB0aGlzICkubmV4dCggJy5sbG1zLW1lcmdlLWNvZGVzJyApLnRvZ2dsZUNsYXNzKCAnYWN0aXZlJyApO1xuXG5cdFx0XHR9ICk7XG5cblx0XHRcdCR3cmFwcGVycy5maW5kKCAnLmxsbXMtbWVyZ2UtY29kZXMgbGknICkub24oICdjbGljaycsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdHZhciAkZWwgPSAkKCB0aGlzICksXG5cdFx0XHRcdFx0JHBhcmVudCA9ICRlbC5jbG9zZXN0KCAnLmxsbXMtbWVyZ2UtY29kZXMnICksXG5cdFx0XHRcdFx0dGFyZ2V0ID0gJHBhcmVudC5hdHRyKCAnZGF0YS10YXJnZXQnICksXG5cdFx0XHRcdFx0Y29kZSA9ICRlbC5hdHRyKCAnZGF0YS1jb2RlJyApO1xuXG5cdFx0XHRcdC8vIGRlYWxpbmcgd2l0aCBhIHRpbnltY2UgaW5zdGFuY2Vcblx0XHRcdFx0aWYgKCAtMSA9PT0gdGFyZ2V0LmluZGV4T2YoICcjJyApICkge1xuXG5cdFx0XHRcdFx0dmFyIGVkaXRvciA9IHdpbmRvdy50aW55bWNlLmVkaXRvcnNbIHRhcmdldCBdO1xuXHRcdFx0XHRcdGlmICggZWRpdG9yICkge1xuXHRcdFx0XHRcdFx0ZWRpdG9yLmluc2VydENvbnRlbnQoIGNvZGUgKTtcblx0XHRcdFx0XHR9IC8vIGZhbGxiYWNrIGluIGNhc2Ugd2UgY2FuJ3QgYWNjZXNzIHRoZSBlZGl0b3IgZGlyZWN0bHlcblx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdGFsZXJ0KCBMTE1TLmwxMG4udHJhbnNsYXRlKCAnQ29weSB0aGlzIGNvZGUgYW5kIHBhc3RlIGl0IGludG8gdGhlIGRlc2lyZWQgYXJlYScgKSArICc6ICcgKyBjb2RlICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gZGVhbGluZyB3aXRoIGEgRE9NIGlkXG5cdFx0XHRcdGVsc2Uge1xuXG5cdFx0XHRcdFx0JCggdGFyZ2V0ICkudmFsKCAkKCB0YXJnZXQgKS52YWwoKSArIGNvZGUgKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0JHBhcmVudC5yZW1vdmVDbGFzcyggJ2FjdGl2ZScgKTtcblxuXHRcdFx0fSApO1xuXG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIEJpbmQgbWV0YWJveCB0YWJzXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4wLjBcblx0XHQgKi9cblx0XHR0aGlzLmJpbmRfdGFicyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0JCggJy5sbG1zLW5hdi10YWItd3JhcHBlciAudGFicyBsaScgKS5vbiggJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0dmFyICRidG4gPSAkKCB0aGlzICksXG5cdFx0XHRcdFx0JG1ldGFib3ggPSAkYnRuLmNsb3Nlc3QoICcubGxtcy1tYi1jb250YWluZXInICksXG5cdFx0XHRcdFx0dGFiX2lkID0gJGJ0bi5hdHRyKCAnZGF0YS10YWInICk7XG5cblx0XHRcdFx0JGJ0bi5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCAnbGxtcy1hY3RpdmUnICk7XG5cblx0XHRcdFx0JG1ldGFib3guZmluZCggJy50YWItY29udGVudCcgKS5yZW1vdmVDbGFzcyggJ2xsbXMtYWN0aXZlJyApO1xuXG5cdFx0XHRcdCRidG4uYWRkQ2xhc3MoICdsbG1zLWFjdGl2ZScgKTtcblx0XHRcdFx0JCggJyMnICsgdGFiX2lkICkuYWRkQ2xhc3MoICdsbG1zLWFjdGl2ZScgKTtcblxuXHRcdFx0fSApO1xuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBFbmFibGUgV1AgUG9zdCBUYWJsZSBzZWFyY2hlcyBmb3IgYXBwbGljYWJsZSBzZWxlY3QyIGJveGVzXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4xNy41XG5cdFx0ICovXG5cdFx0dGhpcy5wb3N0X3NlbGVjdCA9IGZ1bmN0aW9uKCAkZWwgKSB7XG5cblx0XHRcdHZhciBwb3N0X3R5cGUgPSAkZWwuYXR0ciggJ2RhdGEtcG9zdC10eXBlJyApIHx8IHBvc3QsXG5cdFx0XHRcdGFsbG93X2NsZWFyID0gJGVsLmF0dHIoICdkYXRhLXBvc3QtdHlwZScgKSB8fCBmYWxzZTtcblxuXHRcdFx0JGVsLmxsbXNTZWxlY3QyKCB7XG5cdFx0XHRcdGFsbG93Q2xlYXI6IGFsbG93X2NsZWFyLFxuXHRcdFx0XHRhamF4OiB7XG5cdFx0XHRcdFx0ZGF0YVR5cGU6ICdKU09OJyxcblx0XHRcdFx0XHRkZWxheTogMjUwLFxuXHRcdFx0XHRcdG1ldGhvZDogJ1BPU1QnLFxuXHRcdFx0XHRcdHVybDogd2luZG93LmFqYXh1cmwsXG5cdFx0XHRcdFx0ZGF0YTogZnVuY3Rpb24oIHBhcmFtcyApIHtcblx0XHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdGFjdGlvbjogJ3NlbGVjdDJfcXVlcnlfcG9zdHMnLFxuXHRcdFx0XHRcdFx0XHRwYWdlOiAoIHBhcmFtcy5wYWdlICkgPyBwYXJhbXMucGFnZSAtIDEgOiAwLCAvLyAwIGluZGV4IHRoZSBwYWdlcyB0byBtYWtlIGl0IHNpbXBsZXIgZm9yIHRoZSBkYXRhYmFzZSBxdWVyeVxuXHRcdFx0XHRcdFx0XHRwb3N0X3R5cGU6IHBvc3RfdHlwZSxcblx0XHRcdFx0XHRcdFx0dGVybTogcGFyYW1zLnRlcm0sXG5cdFx0XHRcdFx0XHRcdF9hamF4X25vbmNlOiB3cF9hamF4X2RhdGEubm9uY2UsXG5cdFx0XHRcdFx0XHRcdC8vIHBvc3RfaWQ6IGxsbXMucG9zdC5pZCxcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRwcm9jZXNzUmVzdWx0czogZnVuY3Rpb24oIGRhdGEsIHBhcmFtcyApIHtcblxuXHRcdFx0XHRcdFx0Ly8gcmVjdXJzaXZlIGZ1bmN0aW9uIGZvciBjcmVhdGluZ1xuXHRcdFx0XHRcdFx0ZnVuY3Rpb24gbWFwX2RhdGEoIGl0ZW1zICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIHRoaXMgaXMgYSBmbGF0IGFycmF5IG9mIHJlc3VsdHNcblx0XHRcdFx0XHRcdFx0Ly8gdXNlZCB3aGVuIG9ubHkgb25lIHBvc3QgdHlwZSBpcyBzZWxlY3RlZFxuXHRcdFx0XHRcdFx0XHQvLyBhbmQgdG8gZm9ybWF0IGNoaWxkcmVuIHdoZW4gdXNpbmcgb3B0Z3JvdXBzIHdpdGggbXVsdGlwbGUgcG9zdCB0eXBlc1xuXHRcdFx0XHRcdFx0XHRpZiAoIEFycmF5LmlzQXJyYXkoIGl0ZW1zICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuICQubWFwKCBpdGVtcywgZnVuY3Rpb24oIGl0ZW0gKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZm9ybWF0X2l0ZW0oIGl0ZW0gKTtcblx0XHRcdFx0XHRcdFx0XHR9ICk7XG5cblx0XHRcdFx0XHRcdFx0Ly8gdGhpcyBzZXRzIHVwIHRoZSB0b3AgbGV2ZWwgb3B0Z3JvdXBzIHdoZW4gdXNpbmcgbXVsdGlwbGUgcG9zdCB0eXBlc1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiAkLm1hcCggaXRlbXMsIGZ1bmN0aW9uKCBpdGVtICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGV4dDogaXRlbS5sYWJlbCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hpbGRyZW46IG1hcF9kYXRhKCBpdGVtLml0ZW1zICksXG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIGZvcm1hdCBhIHNpbmdsZSByZXN1bHQgKG9wdGlvbilcblx0XHRcdFx0XHRcdGZ1bmN0aW9uIGZvcm1hdF9pdGVtKCBpdGVtICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHRcdHRleHQ6IGl0ZW0ubmFtZSxcblx0XHRcdFx0XHRcdFx0XHRpZDogaXRlbS5pZCxcblx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdFx0cmVzdWx0czogbWFwX2RhdGEoIGRhdGEuaXRlbXMgKSxcblx0XHRcdFx0XHRcdFx0cGFnaW5hdGlvbjoge1xuXHRcdFx0XHRcdFx0XHRcdG1vcmU6IGRhdGEubW9yZVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fSxcblx0XHRcdFx0Y2FjaGU6IHRydWUsXG5cdFx0XHRcdHdpZHRoOiAnODAlJyxcblx0XHRcdH0gKTtcblxuXHRcdFx0Ly8gYWRkIGEgXCJWaWV3XCIgYnV0dG9uIHRvIHNlZSB3aGF0IHRoZSBzZWxlY3RlZCBwYWdlIGxvb2tzIGxpa2Vcblx0XHRcdHZhciBtc2cgPSBMTE1TLmwxMG4udHJhbnNsYXRlKCAnVmlldycgKSxcblx0XHRcdFx0JGJ0biA9ICQoICc8YSBjbGFzcz1cImxsbXMtYnV0dG9uLXNlY29uZGFyeSBzbWFsbFwiIHN0eWxlPVwibWFyZ2luLWxlZnQ6NXB4O1wiIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCIjXCI+JyArICBtc2cgKyAnIDxpIGNsYXNzPVwiZmEgZmEtZXh0ZXJuYWwtbGlua1wiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT48L2E+JyApO1xuXHRcdFx0JGVsLm5leHQoICcuc2VsZWN0MicgKS5hZnRlciggJGJ0biApO1xuXG5cdFx0XHQkZWwub24oICdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGlkID0gJCggdGhpcyApLnZhbCgpO1xuXHRcdFx0XHRpZiAoIGlkICkge1xuXHRcdFx0XHRcdCRidG4uYXR0ciggJ2hyZWYnLCAnLz9wPScgKyBpZCApLnNob3coKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQkYnRuLmhpZGUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApLnRyaWdnZXIoICdjaGFuZ2UnICk7XG5cblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogQmluZCBkb20gZXZlbnRzIGZvciAubGxtcy10YWJsZXNcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjAuMFxuXHRcdCAqL1xuXHRcdHRoaXMuYmluZF90YWJsZXMgPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0JCggJy5sbG1zLXRhYmxlIGJ1dHRvbltuYW1lPVwibGxtcy1leHBhbmQtdGFibGVcIl0nICkub24oICdjbGljaycsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdHZhciAkYnRuID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdCR0YWJsZSA9ICRidG4uY2xvc2VzdCggJy5sbG1zLXRhYmxlJyApXG5cblx0XHRcdFx0Ly8gc3dpdGNoIHRoZSB0ZXh0IG9uIHRoZSBidXR0b24gaWYgYWx0IHRleHQgaXMgZm91bmRcblx0XHRcdFx0aWYgKCAkYnRuLmF0dHIoICdkYXRhLXRleHQnICkgKSB7XG5cdFx0XHRcdFx0dmFyIHRleHQgPSAkYnRuLnRleHQoKTtcblx0XHRcdFx0XHQkYnRuLnRleHQoICRidG4uYXR0ciggJ2RhdGEtdGV4dCcgKSApO1xuXHRcdFx0XHRcdCRidG4uYXR0ciggJ2RhdGEtdGV4dCcsIHRleHQgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIHN3aXRjaCBjbGFzc2VzIG9uIGFsbCBleHBhbmRhYmxlIGVsZW1lbnRzXG5cdFx0XHRcdCR0YWJsZS5maW5kKCAnLmV4cGFuZGFibGUnICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0XHRpZiAoICQoIHRoaXMgKS5oYXNDbGFzcyggJ2Nsb3NlZCcgKSApIHtcblx0XHRcdFx0XHRcdCQoIHRoaXMgKS5hZGRDbGFzcyggJ29wZW5lZCcgKS5yZW1vdmVDbGFzcyggJ2Nsb3NlZCcgKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0JCggdGhpcyApLmFkZENsYXNzKCAnY2xvc2VkJyApLnJlbW92ZUNsYXNzKCAnb3BlbmVkJyApO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9ICk7XG5cblx0XHRcdH0gKTtcblxuXHRcdH07XG5cblx0XHQvLyBnb1xuXHRcdHRoaXMuaW5pdCgpO1xuXG5cdH07XG5cblx0Ly8gaW5pdGFsaXplIHRoZSBvYmplY3Rcblx0d2luZG93LmxsbXMubWV0YWJveGVzID0gbmV3IE1ldGFib3hlcygpO1xuXG59ICkoIGpRdWVyeSApO1xuIl19
