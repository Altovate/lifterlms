!function(p){p.fn.llmsCollapsible=function(){return this.on("click",".llms-collapsible-header",function(){var e=p(this).closest(".llms-collapsible"),t=e.siblings(".llms-collapsible");e.toggleClass("opened").trigger("llms-collapsible-toggled"),e.find(".llms-collapsible-body").slideToggle(400),t.each(function(){p(this).removeClass("opened"),p(this).find(".llms-collapsible-body").slideUp(400)})}),this},window.llms=window.llms||{};window.llms.metaboxes=new function(){this.repeaters={metaboxes:this,$repeaters:null,init:function(){var e=this;e.$repeaters=p(".llms-mb-list.repeater"),e.$repeaters.length&&(LLMS.wait_for(function(){return"undefined"!=typeof tinyMCE},function(){e.load(),e.bind()}),p('#post input[type="submit"], #post-preview').on("click",function(){p(this).attr("data-llms-clicked","yes")}),p("#post").on("submit",e.handle_submit))},bind:function(){var n=this;n.$repeaters.each(function(){var a=p(this),l=a.find(".llms-repeater-rows"),e=a.find(".llms-repeater-model");tinyMCE.EditorManager.execCommand("mceRemoveEditor",!0,e.find(".llms-mb-list.editor textarea").attr("id")),a.find(".llms-repeater-new-btn").on("click",function(){n.add_row(a,null,!0)}),l.sortable({handle:".llms-drag-handle",items:".llms-repeater-row",start:function(e,t){l.addClass("dragging")},stop:function(e,t){l.removeClass("dragging"),t.item.find("textarea.wp-editor-area").each(function(){var e=p(this).attr("id");tinyMCE.EditorManager.execCommand("mceRemoveEditor",!0,e),tinyMCE.EditorManager.execCommand("mceAddEditor",!0,e)}),n.save(a)}}),a.on("click",".llms-repeater-remove",function(e){e.stopPropagation();var t=p(this).closest(".llms-repeater-row");window.confirm(LLMS.l10n.translate("Are you sure you want to delete this row? This cannot be undone."))&&(t.remove(),setTimeout(function(){n.save(a)},1))})})},add_row:function(e,t,a){var l=this,n=e.find(".llms-repeater-rows"),s=e.find(".llms-repeater-model").find(".llms-repeater-row").clone(),i=e.find(".llms-repeater-row").length,r=l.reindex(s,i);t&&p.each(t,function(e,t){var a=s.find('[name^="'+e+'"]');a.hasClass("llms-select2-student")?(p.each(t,function(e,t){a.append('<option value="'+t.key+'" selected="selected">'+t.title+"</option>")}),a.trigger("change")):a.val(t)}),setTimeout(function(){l.bind_row(s)},1),n.append(s),a&&s.find(".llms-collapsible-header").trigger("click"),tinyMCE.EditorManager.execCommand("mceAddEditor",!0,r),e.trigger("llms-new-repeater-row",{$row:s,data:t})},bind_row:function(e){this.bind_row_header(e),e.find(".llms-select2").llmsSelect2({width:"100%"}),e.find(".llms-select2-student").llmsStudentsSelect2(),this.metaboxes.bind_datepickers(e.find(".llms-datepicker")),this.metaboxes.bind_controllers(e.find("[data-is-controller]"))},bind_row_header:function(e){var t=e.find(".llms-repeater-title"),a=e.find(".llms-collapsible-header-title-field");t.attr("data-default",t.text()),a.on("keyup focusout blur",function(){var e=p(this).val();e=e||t.attr("data-default"),t.text(e)}).trigger("keyup")},handle_submit:function(e){var t=p('#post [data-llms-clicked="yes"]'),a=t.parent().find(".spinner");if(t.is("#post-preview"))t.removeAttr("data-llms-clicked");else{e.preventDefault(),p('#post input[type="submit"]').addClass("disabled").attr("disabled","disabled"),a.addClass("is-active");var l,n=window.llms.metaboxes.repeaters,s=0;n.$repeaters.each(function(){n.save(p(this))}),l=setInterval(function(){59<=s||!p(".llms-mb-list.repeater.processing").length?(clearInterval(l),p("#post").off("submit",this.handle_submit),a.removeClass("is-active"),t.removeClass("disabled").removeAttr("disabled").trigger("click")):s++},1e3)}},load:function(){var l=this;l.$repeaters.each(function(){var a=p(this);a.hasClass("is-loaded")||a.hasClass("processing")||l.store(a,"load",function(e){a.addClass("is-loaded"),p.each(e.data,function(e,t){l.add_row(a,t,!1)}),a.find(".llms-repeater-rows .llms-repeater-row").each(function(){l.bind_row(p(this))})})})},reindex:function(e,a){var l=e.attr("data-row-order"),t=e.find(".llms-mb-list.editor textarea");function n(e,t){e.each(function(){var e=p(this).attr(t);p(this).attr(t,e.replace(l,a))})}return tinyMCE.EditorManager.execCommand("mceRemoveEditor",!0,t.attr("id")),e.attr("data-row-order",a),n(e,"data-row-order"),n(e.find("button.insert-media"),"data-editor"),n(e.find('input[name^="_llms"], textarea[name^="_llms"], select[name^="_llms"]'),"id"),n(e.find('input[name^="_llms"], textarea[name^="_llms"], select[name^="_llms"]'),"name"),n(e.find("[data-controller]"),"data-controller"),n(e.find("[data-controller]"),"data-controller"),n(e.find("button.wp-switch-editor"),"data-wp-editor-id"),n(e.find("button.wp-switch-editor"),"id"),n(e.find(".wp-editor-tools"),"id"),n(e.find(".wp-editor-container"),"id"),t.attr("id")},save:function(e){e.trigger("llms-repeater-before-save",{$el:e}),this.store(e,"save")},serialize:function(e){var a=[];return e.find(".llms-repeater-rows .llms-repeater-row").each(function(){var t={};p(this).find('input[name^="_llms"], select[name^="_llms"]').each(function(){t[p(this).attr("name")]=p(this).val()}),p(this).find('textarea[name^="_llms"]').each(function(){var e=p(this).attr("name");tinyMCE.editors[e]?t[e]=tinyMCE.editors[e].getContent():t[e]=p(this).val()}),a.push(t)}),a},store:function(t,e,a){a=a||function(){};var l={action:t.find(".llms-repeater-field-handler").val(),store_action:e};"save"===e&&(l.rows=this.serialize(t)),LLMS.Ajax.call({data:l,beforeSend:function(){t.addClass("processing"),LLMS.Spinner.start(t)},success:function(e){a(e),LLMS.Spinner.stop(t),t.removeClass("processing")}})}},this.repeaters.init(),this.init=function(){var l=this;p(".llms-select2-post").each(function(){l.post_select(p(this))}),p(".llms-collapsible-group").llmsCollapsible(),this.bind_tabs();var e=[{selector:p(".llms-datepicker"),func:"bind_datepickers"},{selector:p(".llms-select2"),func:function(e){e.llmsSelect2({width:"100%"})}},{selector:p(".llms-select2-student"),func:function(e){e.llmsStudentsSelect2()}},{selector:p('input[type="checkbox"][data-controls]'),func:"bind_cb_controllers"},{selector:p("[data-is-controller]"),func:"bind_controllers"},{selector:p(".llms-table"),func:"bind_tables"},{selector:p(".llms-merge-code-wrapper"),func:"bind_merge_code_buttons"},{selector:p("a.llms-editable"),func:"bind_editables"}];if(p.each(e,function(e,t){if(t.selector.length){var a=t.selector.filter(function(){return 0===p(this).closest(".llms-repeater-model").length});"string"==typeof t.func?l[t.func](a):"function"==typeof t.func&&t.func(a)}}),window.llms.post.post_type){var t="bind_"+window.llms.post.post_type;"function"==typeof this[t]&&this[t]()}},this.bind_cb_controllers=function(e){(e=e||p('input[type="checkbox"][data-controls]')).each(function(){var e=p(this),t=p(e.attr("data-controls")).closest(".llms-mb-list");e.on("change",function(){p(this).is(":checked")?t.slideDown(200):t.slideUp(200)}),e.trigger("change")})},this.bind_controllers=function(e){(e=e||p("[data-is-controller]")).each(function(){var a,e=p(this),t=p('[data-controller="#'+e.attr("id")+'"]');e.on("change",function(){a="checkbox"===e.attr("type")?e.is(":checked")?e.val():"false":e.val(),t.each(function(){var e=p(this).attr("data-controller-value"),t=[];-1!==e.indexOf(",")?t=e.split(","):t.push(e),-1!==t.indexOf(a)?p(this).slideDown(200):p(this).slideUp(200)})}),e.trigger("change")})},this.bind_datepicker=function(e){var t=e.attr("data-format")||"mm/dd/yy",a=e.attr("data-max-date")||null,l=e.attr("data-min-date")||null;e.datepicker({dateFormat:t,maxDate:a,minDate:l})},this.bind_datepickers=function(e){var t=this;(e=e||p(".llms-datepicker")).each(function(){t.bind_datepicker(p(this))})},this.bind_editables=function(){var f=this;p("a.llms-editable").on("click",function(e){e.preventDefault();var t,a=p(this);t=a.attr("data-fields")?p(a.attr("data-fields")):a.closest(".llms-metabox-section").find("[data-llms-editable]"),a.remove(),t.each(function(){!function(e){var t,a=e.find("label").clone(),l=e.attr("data-llms-editable"),n=e.attr("data-llms-editable-type"),s=e.attr("data-llms-editable-required")||"no",i=e.attr("data-llms-editable-value");if(s="yes"===s?' required="required"':"","select"===n){var r,o=JSON.parse(e.attr("data-llms-editable-options"));for(var d in t=p('<select name="'+l+'"'+s+" />"),o)r=i===d?' selected="selected"':"",t.append('<option value="'+d+'"'+r+">"+o[d]+"</option>")}else if("datetime"===n){t=p('<div class="llms-datetime-field" />'),i=JSON.parse(i);var c=e.attr("data-llms-editable-date-format")||"",m=e.attr("data-llms-editable-date-min")||"",u=e.attr("data-llms-editable-date-max")||"";$picker=p('<input class="llms-date-input llms-datepicker" data-format="'+c+'" data-max-date="'+u+'" data-min-date="'+m+'" name="'+l+'[date]" type="text" value="'+i.date+'">'),f.bind_datepicker($picker),t.append($picker),t.append("<em>@</em>"),t.append('<input class="llms-time-input" max="23" min="0" name="'+l+'[hour]" type="number" value="'+i.hour+'">'),t.append("<em>:</em>"),t.append('<input class="llms-time-input" max="59" min="0" name="'+l+'[minute]" type="number" value="'+i.minute+'">')}else t=p('<input name="'+l+'" type="'+n+'" value="'+i+'"'+s+">");e.empty().append(a).append(t),"select"===n&&setTimeout(function(){t.trigger("change")},100)}(p(this))})})},this.bind_llms_engagement=function(){var n=this;p("#_llms_engagement_type").on("change",function(){p("#_llms_engagement").trigger("llms-engagement-type-change",p(this).val())}),p("#_llms_engagement").on("llms-engagement-type-change",function(e,t){var a=p(this);switch(t){case"achievement":case"certificate":case"email":var l="llms_"+t;a.val(null).attr("data-post-type",l).trigger("change"),n.post_select(a);break;default:a.trigger("llms-engagement-type-change-external",t)}})},this.bind_llms_membership=function(){var t=p(".llms-mb-list._llms_content_table");function n(){var e=t.find("tbody tr");1===e.length?e.first().show():e.first().hide()}function l(){var e=[];return t.find('tbody tr a[href="#llms-course-remove"]').each(function(){e.push(p(this).attr("data-id"))}),e}n(),t.on("click",'a[href="#llms-course-remove"]',function(e){e.preventDefault();var t=p(this),a=t.closest("tr"),l=t.closest(".llms-mb-list");LLMS.Spinner.start(l),window.LLMS.Ajax.call({data:{action:"membership_remove_auto_enroll_course",course_id:t.attr("data-id")},beforeSend:function(){l.find("p.error").remove()},success:function(e){e.success?(a.fadeOut(200),setTimeout(function(){a.remove(),n()},400)):l.prepend('<p class="error">'+e.message+"</p>"),LLMS.Spinner.stop(l)}})}),t.on("click",'a[href="#llms-course-bulk-enroll"]',function(e){e.preventDefault();var t=p(this),a=(t.closest("tr"),t.closest(".llms-mb-list"));window.confirm(LLMS.l10n.translate("Click okay to enroll all active members into the selected course. Enrollment will take place in the background and you may leave your site after confirmation. This action cannot be undone!"))&&(LLMS.Spinner.start(a),window.LLMS.Ajax.call({data:{action:"bulk_enroll_membership_into_course",course_id:t.attr("data-id")},beforeSend:function(){a.find("p.error").remove()},success:function(e){e.success?t.replaceWith('<strong style="float:right;">'+e.data.message+"&nbsp;&nbsp;</strong>"):a.prepend('<p class="error">'+e.message+"</p>"),LLMS.Spinner.stop(a)}}))}),p("#_llms_auto_enroll").on("change",function(){var e=p(this).val(),t=p(this).find('option[value="'+p(this).val()+'"]').text();if(e){if(-1!==l().indexOf(e))return alert(LLMS.l10n.replace('"%s" is already in the course list.',{"%s":t})),void p(this).val("").trigger("change");var a=p(".llms-mb-list._llms_content_table");$tr=p("<tr />"),$tr.append('<td><span class="llms-drag-handle" style="color:#999;"><i class="fa fa-ellipsis-v" aria-hidden="true" style="margin-right:2px;"></i><i class="fa fa-ellipsis-v" aria-hidden="true"></i></span></td>'),$tr.append('<td><a href="'+window.llms.admin_url+"post.php?action=edit&post="+e+'">'+t+"</a></td>"),$tr.append('<td><a class="llms-button-danger small" data-id="'+e+'" href="#llms-course-remove" style="float:right;">'+LLMS.l10n.translate("Remove course")+'</a><a class="llms-button-secondary small" data-id="'+e+'" href="#llms-course-bulk-enroll" style="float:right;">'+LLMS.l10n.translate("Enroll All Members")+"</a></td>"),a.find("table tbody").append($tr),p(this).val("").trigger("change"),n(),a.trigger("llms-save-autoenroll-courses")}}),t.find("table tbody").sortable({handle:".llms-drag-handle",stop:function(e,t){t.item.closest(".llms-mb-list").trigger("llms-save-autoenroll-courses")}}),t.on("llms-save-autoenroll-courses",function(){var e=p(this);LLMS.Spinner.start(e),window.LLMS.Ajax.call({data:{action:"llms_save_membership_autoenroll_courses",courses:l()},error:function(e,t,a){alert(a)},complete:function(){LLMS.Spinner.stop(e)}})})},this.bind_llms_order=function(){p('button[name="llms-refund-toggle"]').on("click",function(){var e=p(this),t=e.closest("tr"),a=t.attr("data-transaction-id"),l=e.attr("data-refundable"),n="1"===e.attr("data-gateway-supports"),s=e.attr("data-gateway"),i=p("#llms-txn-refund-model .llms-txn-refund-form").clone(),r=i.find(".gateway-btn");"remove"!==e.attr("data-action")?(e.text(LLMS.l10n.translate("Cancel")),e.attr("data-action","remove"),i.find("input").removeAttr("disabled"),i.find('input[name="llms_refund_amount"]').attr("max",l),i.find('input[name="llms_refund_txn_id"]').val(a),n&&(r.find(".llms-gateway-title").text(s),r.show()),t.after(i)):(e.text(LLMS.l10n.translate("Refund")),e.attr("data-action",""),t.next("tr").remove())}),p('button[name="llms-manual-txn-toggle"]').on("click",function(){var e=p(this),t=e.closest("tr"),a=p("#llms-manual-txn-model .llms-manual-txn-form").clone();"remove"!==e.attr("data-action")?(e.text(LLMS.l10n.translate("Cancel")),e.attr("data-action","remove"),a.find("input").removeAttr("disabled"),t.after(a)):(e.text(LLMS.l10n.translate("Record a Manual Payment")),e.attr("data-action",""),t.next("tr").remove())}),p(".llms-metabox").one("focus",'.llms-metabox-field[data-llms-editable="payment_gateway"] select',function(){p(this).attr("data-original-value")||p(this).attr("data-original-value",p(this).val())}),p(".llms-metabox").on("change",'.llms-metabox-field[data-llms-editable="payment_gateway"] select',function(){var e=p(this),t=e.val(),a=JSON.parse(e.closest(".llms-metabox-field").attr("data-gateway-fields"))[t];for(var l in a){var n=p('input[name="'+a[l].name+'"]'),s=n.closest(".llms-metabox-field");a[l].enabled?(s.show(),n.attr("required","required"),n.removeAttr("disabled"),t===e.attr("data-original-value")&&n.val(s.attr("data-llms-editable-value"))):(n.attr("value",""),n.removeAttr("required"),s.hide())}})},this.bind_merge_code_buttons=function(e){(e=e||p(".llms-merge-code-wrapper")).find(".llms-merge-code-button").on("click",function(){p(this).next(".llms-merge-codes").toggleClass("active")}),e.find(".llms-merge-codes li").on("click",function(){var e=p(this),t=e.closest(".llms-merge-codes"),a=t.attr("data-target"),l=e.attr("data-code");if(-1===a.indexOf("#")){var n=window.tinymce.editors[a];n?n.insertContent(l):alert(LLMS.l10n.translate("Copy this code and paste it into the desired area")+": "+l)}else p(a).val(p(a).val()+l);t.removeClass("active")})},this.bind_tabs=function(){p(".llms-nav-tab-wrapper .tabs li").on("click",function(){var e=p(this),t=e.closest(".llms-mb-container"),a=e.attr("data-tab");e.siblings().removeClass("llms-active"),t.find(".tab-content").removeClass("llms-active"),e.addClass("llms-active"),p("#"+a).addClass("llms-active")})},this.post_select=function(e){var t="multiple"===e.attr("multiple");if(e.llmsPostsSelect2({width:t?"100%":"65%"}),!t&&!e.attr("data-no-view-button")){var a=LLMS.l10n.translate("View"),l=p('<a class="llms-button-secondary small" style="margin-left:5px;" target="_blank" href="#">'+a+' <i class="fa fa-external-link" aria-hidden="true"></i></a>');e.next(".select2").after(l),e.on("change",function(){var e=p(this).val();e?l.attr("href","/?p="+e).show():l.hide()}).trigger("change")}},this.bind_tables=function(){p('.llms-table button[name="llms-expand-table"]').on("click",function(){var e=p(this),t=e.closest(".llms-table");if(e.attr("data-text")){var a=e.text();e.text(e.attr("data-text")),e.attr("data-text",a)}t.find(".expandable").each(function(){p(this).hasClass("closed")?p(this).addClass("opened").removeClass("closed"):p(this).addClass("closed").removeClass("opened")})})},this.init()}}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxsbXMtbWV0YWJveGVzLmpzIl0sIm5hbWVzIjpbIiQiLCJmbiIsImxsbXNDb2xsYXBzaWJsZSIsInRoaXMiLCJvbiIsIiRwYXJlbnQiLCJjbG9zZXN0IiwiJHNpYmxpbmdzIiwic2libGluZ3MiLCJ0b2dnbGVDbGFzcyIsInRyaWdnZXIiLCJmaW5kIiwic2xpZGVUb2dnbGUiLCJlYWNoIiwicmVtb3ZlQ2xhc3MiLCJzbGlkZVVwIiwid2luZG93IiwibGxtcyIsIm1ldGFib3hlcyIsInJlcGVhdGVycyIsIiRyZXBlYXRlcnMiLCJpbml0Iiwic2VsZiIsImxlbmd0aCIsIkxMTVMiLCJ3YWl0X2ZvciIsInRpbnlNQ0UiLCJsb2FkIiwiYmluZCIsImF0dHIiLCJoYW5kbGVfc3VibWl0IiwiJHJlcGVhdGVyIiwiJHJvd3MiLCIkbW9kZWwiLCJFZGl0b3JNYW5hZ2VyIiwiZXhlY0NvbW1hbmQiLCJhZGRfcm93Iiwic29ydGFibGUiLCJoYW5kbGUiLCJpdGVtcyIsInN0YXJ0IiwiZXZlbnQiLCJ1aSIsImFkZENsYXNzIiwic3RvcCIsIml0ZW0iLCJlZF9pZCIsInNhdmUiLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwiJHJvdyIsImNvbmZpcm0iLCJsMTBuIiwidHJhbnNsYXRlIiwicmVtb3ZlIiwic2V0VGltZW91dCIsImRhdGEiLCJleHBhbmQiLCJjbG9uZSIsIm5ld19pbmRleCIsImVkaXRvciIsInJlaW5kZXgiLCJrZXkiLCJ2YWwiLCIkZmllbGQiLCJoYXNDbGFzcyIsImkiLCJhcHBlbmQiLCJ0aXRsZSIsImJpbmRfcm93IiwiYmluZF9yb3dfaGVhZGVyIiwibGxtc1NlbGVjdDIiLCJ3aWR0aCIsImxsbXNTdHVkZW50c1NlbGVjdDIiLCJiaW5kX2RhdGVwaWNrZXJzIiwiYmluZF9jb250cm9sbGVycyIsIiR0aXRsZSIsInRleHQiLCIkYnRuIiwiJHNwaW5uZXIiLCJwYXJlbnQiLCJpcyIsInJlbW92ZUF0dHIiLCJwcmV2ZW50RGVmYXVsdCIsIndhaXQiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJvZmYiLCJzdG9yZSIsIm9iaiIsImluZGV4Iiwib2xkX2luZGV4IiwiJGVkIiwicmVwbGFjZV9hdHRyIiwiJGVsIiwic3RyIiwicmVwbGFjZSIsInNlcmlhbGl6ZSIsInJvd3MiLCJuYW1lIiwiZWRpdG9ycyIsImdldENvbnRlbnQiLCJwdXNoIiwiYWN0aW9uIiwiY2IiLCJzdG9yZV9hY3Rpb24iLCJBamF4IiwiY2FsbCIsImJlZm9yZVNlbmQiLCJTcGlubmVyIiwic3VjY2VzcyIsInIiLCJwb3N0X3NlbGVjdCIsImJpbmRfdGFicyIsImJpbmRpbmdzIiwic2VsZWN0b3IiLCJmdW5jIiwiJHNlbGVjdG9yIiwicmVkdWNlZCIsImZpbHRlciIsInBvc3QiLCJwb3N0X3R5cGUiLCJiaW5kX2NiX2NvbnRyb2xsZXJzIiwiJGNvbnRyb2xsZXJzIiwiJGNiIiwiJGNvbnRyb2xsZWQiLCJzbGlkZURvd24iLCJwb3NzaWJsZSIsInZhbHMiLCJpbmRleE9mIiwic3BsaXQiLCJiaW5kX2RhdGVwaWNrZXIiLCJmb3JtYXQiLCJtYXhEYXRlIiwibWluRGF0ZSIsImRhdGVwaWNrZXIiLCJkYXRlRm9ybWF0IiwiJGRhdGVwaWNrZXJzIiwiYmluZF9lZGl0YWJsZXMiLCIkZmllbGRzIiwiJGlucHV0IiwiJGxhYmVsIiwidHlwZSIsInJlcXVpcmVkIiwic2VsZWN0ZWQiLCJvcHRpb25zIiwiSlNPTiIsInBhcnNlIiwibWluX2RhdGUiLCJtYXhfZGF0ZSIsIiRwaWNrZXIiLCJkYXRlIiwiaG91ciIsIm1pbnV0ZSIsImVtcHR5IiwibWFrZV9lZGl0YWJsZSIsImJpbmRfbGxtc19lbmdhZ2VtZW50IiwiZW5nYWdlbWVudF90eXBlIiwiJHNlbGVjdCIsImNwdCIsImJpbmRfbGxtc19tZW1iZXJzaGlwIiwiJHRhYmxlIiwidG9nZ2xlX2hlYWRlcl9yb3ciLCJmaXJzdCIsInNob3ciLCJoaWRlIiwiZ2V0X2NvdXJzZV9pZHMiLCJjb3Vyc2VzIiwiJGNvbnRhaW5lciIsImNvdXJzZV9pZCIsImZhZGVPdXQiLCJwcmVwZW5kIiwibWVzc2FnZSIsInJlcGxhY2VXaXRoIiwiaWQiLCJhbGVydCIsIiVzIiwiJHRyIiwiYWRtaW5fdXJsIiwiZXJyb3IiLCJqcXhociIsImNvZGUiLCJlcnJvcl9tc2ciLCJjb21wbGV0ZSIsImJpbmRfbGxtc19vcmRlciIsInR4bl9pZCIsInJlZnVuZGFibGVfYW1vdW50IiwiZ2F0ZXdheV9zdXBwb3J0cyIsImdhdGV3YXlfdGl0bGUiLCIkbmV3X3JvdyIsIiRnYXRld2F5X2J0biIsImFmdGVyIiwibmV4dCIsIm9uZSIsImdhdGV3YXkiLCJnYXRld2F5X2RhdGEiLCJmaWVsZCIsIiR3cmFwIiwiZW5hYmxlZCIsImJpbmRfbWVyZ2VfY29kZV9idXR0b25zIiwiJHdyYXBwZXJzIiwidGFyZ2V0IiwidGlueW1jZSIsImluc2VydENvbnRlbnQiLCIkbWV0YWJveCIsInRhYl9pZCIsIm11bHRpIiwibGxtc1Bvc3RzU2VsZWN0MiIsIm1zZyIsImJpbmRfdGFibGVzIiwialF1ZXJ5Il0sIm1hcHBpbmdzIjoiQ0FnQkEsU0FBWUEsR0FTWEEsRUFBRUMsR0FBR0MsZ0JBQWtCLFdBb0J0QixPQWhCQUMsS0FBS0MsR0FBSSxRQUFTLDJCQUE0QixXQUU3QyxJQUFJQyxFQUFZTCxFQUFHRyxNQUFPRyxRQUFTLHFCQUNsQ0MsRUFBWUYsRUFBUUcsU0FBVSxxQkFFL0JILEVBQVFJLFlBQWEsVUFBV0MsUUFBUyw0QkFFekNMLEVBQVFNLEtBQU0sMEJBQTJCQyxZQUFhLEtBRXRETCxFQUFVTSxLQUFNLFdBQ2ZiLEVBQUdHLE1BQU9XLFlBQWEsVUFDdkJkLEVBQUdHLE1BQU9RLEtBQU0sMEJBQTJCSSxRQUFTLFNBSy9DWixNQUlSYSxPQUFPQyxLQUFPRCxPQUFPQyxNQUFRLEdBOHpDN0JELE9BQU9DLEtBQUtDLFVBQVksSUE1ekNSLFdBY2ZmLEtBQUtnQixVQUFZLENBT2hCRCxVQUFXZixLQU9YaUIsV0FBWSxLQVVaQyxLQUFNLFdBRUwsSUFBSUMsRUFBT25CLEtBRVhtQixFQUFLRixX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R0csTUFBTzRELE1BQ2QrRyxFQUNKaEcsRUFBS2pELEtBQU0sT0FBUSxPQUFTaUosR0FBS1YsT0FFakN0RixFQUFLdUYsU0FFSDNKLFFBQVMsWUFXZFAsS0FBSzhNLFlBQWMsV0FFbEJqTixFQUFHLGdEQUFpREksR0FBSSxRQUFTLFdBRWhFLElBQUkwRSxFQUFTOUUsRUFBR0csTUFDZjhKLEVBQVNuRixFQUFLeEUsUUFBUyxlQUd4QixHQUFLd0UsRUFBS2pELEtBQU0sYUFBZ0IsQ0FDL0IsSUFBSWdELEVBQU9DLEVBQUtELE9BQ2hCQyxFQUFLRCxLQUFNQyxFQUFLakQsS0FBTSxjQUN0QmlELEVBQUtqRCxLQUFNLFlBQWFnRCxHQUl6Qm9GLEVBQU90SixLQUFNLGVBQWdCRSxLQUFNLFdBRTdCYixFQUFHRyxNQUFPOEQsU0FBVSxVQUN4QmpFLEVBQUdHLE1BQU93QyxTQUFVLFVBQVc3QixZQUFhLFVBRTVDZCxFQUFHRyxNQUFPd0MsU0FBVSxVQUFXN0IsWUFBYSxlQVVoRFgsS0FBS2tCLFFBMTFDUCxDQWkyQ0s2TCIsImZpbGUiOiJsbG1zLW1ldGFib3hlcy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICpcbiAqIENvbnRyaWJ1dG9yJ3MgTm90aWNlXG4gKiBcbiAqIFRoaXMgaXMgYSBjb21waWxlZCBmaWxlIGFuZCBzaG91bGQgbm90IGJlIGVkaXRlZCBkaXJlY3RseSFcbiAqIFRoZSB1bmNvbXBpbGVkIHNjcmlwdCBpcyBsb2NhdGVkIGluIHRoZSBcImFzc2V0cy9wcml2YXRlXCIgZGlyZWN0b3J5XG4gKiBcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKipcbiAqIExpZnRlckxNUyBBZG1pbiBQYW5lbCBNZXRhYm94IEZ1bmN0aW9uc1xuICpcbiAqIEBzaW5jZSAzLjAuMFxuICogQHNpbmNlIDMuMzAuMCBNYWRlIGF1dG9lbnJvbGwgdGFibGUgc29ydGFibGUsIGFkZGVkIEFKQVggc2F2ZSBmb3IgYWRkaW5nIG5ldyBjb3Vyc2VzLlxuICogQHZlcnNpb24gMy4zMC4wXG4gKi9cbiggZnVuY3Rpb24oICQgKSB7XG5cblx0LyoqXG5cdCAqIGpRdWVyeSBwbHVnaW4gdG8gYWxsb3cgXCJjb2xsYXBzaWJsZVwiIHNlY3Rpb25zXG5cdCAqXG5cdCAqIEByZXR1cm4gIGpRdWVyeSBvYmplY3Rcblx0ICogQHNpbmNlICAgMy4wLjBcblx0ICogQHZlcnNpb24gMy4yOS4wXG5cdCAqL1xuXHQkLmZuLmxsbXNDb2xsYXBzaWJsZSA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyICRncm91cCA9IHRoaXM7XG5cblx0XHR0aGlzLm9uKCAnY2xpY2snLCAnLmxsbXMtY29sbGFwc2libGUtaGVhZGVyJywgZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciAkcGFyZW50ICAgPSAkKCB0aGlzICkuY2xvc2VzdCggJy5sbG1zLWNvbGxhcHNpYmxlJyApLFxuXHRcdFx0XHQkc2libGluZ3MgPSAkcGFyZW50LnNpYmxpbmdzKCAnLmxsbXMtY29sbGFwc2libGUnICk7XG5cblx0XHRcdCRwYXJlbnQudG9nZ2xlQ2xhc3MoICdvcGVuZWQnICkudHJpZ2dlciggJ2xsbXMtY29sbGFwc2libGUtdG9nZ2xlZCcgKTtcblxuXHRcdFx0JHBhcmVudC5maW5kKCAnLmxsbXMtY29sbGFwc2libGUtYm9keScgKS5zbGlkZVRvZ2dsZSggNDAwICk7XG5cblx0XHRcdCRzaWJsaW5ncy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0JCggdGhpcyApLnJlbW92ZUNsYXNzKCAnb3BlbmVkJyApO1xuXHRcdFx0XHQkKCB0aGlzICkuZmluZCggJy5sbG1zLWNvbGxhcHNpYmxlLWJvZHknICkuc2xpZGVVcCggNDAwICk7XG5cdFx0XHR9ICk7XG5cblx0XHR9ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9O1xuXG5cdHdpbmRvdy5sbG1zID0gd2luZG93LmxsbXMgfHwge307XG5cblx0dmFyIE1ldGFib3hlcyA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0LyoqXG5cdFx0ICogbG9hZCBhbGwgcGFydGlhbHNcblx0XHQgKi9cblx0XHQvKipcblx0XHQgKiBMaWZ0ZXJMTVMgQWRtaW4gTWV0YWJveCBSZXBlYXRlciBGaWVsZFxuXHRcdCAqXG5cdFx0ICogQHBhY2thZ2UgTGlmdGVyTE1TL1NjcmlwdHMvUGFydGlhbHNcblx0XHQgKlxuXHRcdCAqIEBzaW5jZSAgICAzLjExLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4yMy4wXG5cdFx0ICovXG5cdFx0XG5cdFx0dGhpcy5yZXBlYXRlcnMgPSB7XG5cdFx0XG5cdFx0XHQvKipcblx0XHRcdCAqIFJlZmVyZW5jZSB0byB0aGUgcGFyZW50IG1ldGFib3ggY2xhc3Ncblx0XHRcdCAqXG5cdFx0XHQgKiBAdHlwZSAgb2JqXG5cdFx0XHQgKi9cblx0XHRcdG1ldGFib3hlczogdGhpcyxcblx0XHRcblx0XHRcdC8qKlxuXHRcdFx0ICogQSBqUXVlcnkgc2VsZWN0b3IgZm9yIGFsbCByZXBlYXRlciBlbGVtZW50cyBvbiB0aGUgY3VycmVudCBzY3JlZW5cblx0XHRcdCAqXG5cdFx0XHQgKiBAdHlwZSAge1t0eXBlXX1cblx0XHRcdCAqL1xuXHRcdFx0JHJlcGVhdGVyczogbnVsbCxcblx0XHRcblx0XHRcdC8qKlxuXHRcdFx0ICogSW5pdFxuXHRcdFx0ICpcblx0XHRcdCAqIEBzaW5jZSAgICAzLjExLjBcblx0XHRcdCAqIEB2ZXJzaW9uICAzLjIzLjBcblx0XHRcdCAqXG5cdFx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdFx0ICovXG5cdFx0XHRpbml0OiBmdW5jdGlvbigpIHtcblx0XHRcblx0XHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFxuXHRcdFx0XHRzZWxmLiRyZXBlYXRlcnMgPSAkKCAnLmxsbXMtbWItbGlzdC5yZXBlYXRlcicgKTtcblx0XHRcblx0XHRcdFx0aWYgKCBzZWxmLiRyZXBlYXRlcnMubGVuZ3RoICkge1xuXHRcdFxuXHRcdFx0XHRcdC8vIHdhaXQgZm9yIHRpbnlNQ0UganVzdCBpbiBjYXNlIHRoZWlyIGVkaXRvcnMgaW4gdGhlIHJlcGVhdGVyc1xuXHRcdFx0XHRcdExMTVMud2FpdF9mb3IoXG5cdFx0XHRcdFx0XHRmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuICggJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiB0aW55TUNFICk7XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdHNlbGYubG9hZCgpO1xuXHRcdFx0XHRcdFx0XHRzZWxmLmJpbmQoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHQpO1xuXHRcdFxuXHRcdFx0XHRcdC8vIG9uIGNsaWNrIG9mIGFueSBwb3N0IHN1Ym1pdCBidXR0b25zIGFkZCBzb21lIGRhdGEgdG8gdGhlIHN1Ym1pdCBidXR0b25cblx0XHRcdFx0XHQvLyBzbyB3ZSBjYW4gc2VlIHdoaWNoIGJ1dHRvbiB0byB0cmlnZ2VyIGFmdGVyIHJlcGVhdGVycyBhcmUgZmluaXNoZWRcblx0XHRcdFx0XHQkKCAnI3Bvc3QgaW5wdXRbdHlwZT1cInN1Ym1pdFwiXSwgI3Bvc3QtcHJldmlldycgKS5vbiggJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHQkKCB0aGlzICkuYXR0ciggJ2RhdGEtbGxtcy1jbGlja2VkJywgJ3llcycgKTtcblx0XHRcdFx0XHR9ICk7XG5cdFx0XG5cdFx0XHRcdFx0Ly8gaGFuZGxlIHBvc3Qgc3VibWlzc2lvblxuXHRcdFx0XHRcdCQoICcjcG9zdCcgKS5vbiggJ3N1Ym1pdCcsIHNlbGYuaGFuZGxlX3N1Ym1pdCApO1xuXHRcdFxuXHRcdFx0XHR9XG5cdFx0XG5cdFx0XHR9LFxuXHRcdFxuXHRcdFx0LyoqXG5cdFx0XHQgKiBCaW5kIERPTSBFdmVudHNcblx0XHRcdCAqXG5cdFx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdFx0ICogQHNpbmNlICAgIDMuMTEuMFxuXHRcdFx0ICogQHZlcnNpb24gIDMuMTMuMFxuXHRcdFx0ICovXG5cdFx0XHRiaW5kOiBmdW5jdGlvbigpIHtcblx0XHRcblx0XHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFxuXHRcdFx0XHRzZWxmLiRyZXBlYXRlcnMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XG5cdFx0XHRcdFx0dmFyICRyZXBlYXRlciA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHRcdCRyb3dzICAgICA9ICRyZXBlYXRlci5maW5kKCAnLmxsbXMtcmVwZWF0ZXItcm93cycgKSxcblx0XHRcdFx0XHRcdCRtb2RlbCAgICA9ICRyZXBlYXRlci5maW5kKCAnLmxsbXMtcmVwZWF0ZXItbW9kZWwnICk7XG5cdFx0XG5cdFx0XHRcdFx0dGlueU1DRS5FZGl0b3JNYW5hZ2VyLmV4ZWNDb21tYW5kKCAnbWNlUmVtb3ZlRWRpdG9yJywgdHJ1ZSwgJG1vZGVsLmZpbmQoICcubGxtcy1tYi1saXN0LmVkaXRvciB0ZXh0YXJlYScgKS5hdHRyKCAnaWQnICkgKTtcblx0XHRcblx0XHRcdFx0XHQvLyBmb3IgdGhlIHJlcGVhdGVyICsgYnV0dG9uXG5cdFx0XHRcdFx0JHJlcGVhdGVyLmZpbmQoICcubGxtcy1yZXBlYXRlci1uZXctYnRuJyApLm9uKCAnY2xpY2snLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHNlbGYuYWRkX3JvdyggJHJlcGVhdGVyLCBudWxsLCB0cnVlICk7XG5cdFx0XHRcdFx0fSApO1xuXHRcdFxuXHRcdFx0XHRcdC8vIG1ha2UgcmVwZWF0ZXIgcm93cyBzb3J0YWJsZVxuXHRcdFx0XHRcdCRyb3dzLnNvcnRhYmxlKCB7XG5cdFx0XHRcdFx0XHRoYW5kbGU6ICcubGxtcy1kcmFnLWhhbmRsZScsXG5cdFx0XHRcdFx0XHRpdGVtczogJy5sbG1zLXJlcGVhdGVyLXJvdycsXG5cdFx0XHRcdFx0XHRzdGFydDogZnVuY3Rpb24oIGV2ZW50LCB1aSApIHtcblx0XHRcdFx0XHRcdFx0JHJvd3MuYWRkQ2xhc3MoICdkcmFnZ2luZycgKTtcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRzdG9wOiBmdW5jdGlvbiggZXZlbnQsIHVpICkge1xuXHRcdFx0XHRcdFx0XHQkcm93cy5yZW1vdmVDbGFzcyggJ2RyYWdnaW5nJyApO1xuXHRcdFxuXHRcdFx0XHRcdFx0XHR2YXIgJGVkcyA9IHVpLml0ZW0uZmluZCggJ3RleHRhcmVhLndwLWVkaXRvci1hcmVhJyApO1xuXHRcdFx0XHRcdFx0XHQkZWRzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdHZhciBlZF9pZCA9ICQoIHRoaXMgKS5hdHRyKCAnaWQnICk7XG5cdFx0XHRcdFx0XHRcdFx0dGlueU1DRS5FZGl0b3JNYW5hZ2VyLmV4ZWNDb21tYW5kKCAnbWNlUmVtb3ZlRWRpdG9yJywgdHJ1ZSwgZWRfaWQgKTtcblx0XHRcdFx0XHRcdFx0XHR0aW55TUNFLkVkaXRvck1hbmFnZXIuZXhlY0NvbW1hbmQoICdtY2VBZGRFZGl0b3InLCB0cnVlLCBlZF9pZCApO1xuXHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XG5cdFx0XHRcdFx0XHRcdHNlbGYuc2F2ZSggJHJlcGVhdGVyICk7XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0gKTtcblx0XHRcblx0XHRcdFx0XHQkcmVwZWF0ZXIub24oICdjbGljaycsICcubGxtcy1yZXBlYXRlci1yZW1vdmUnLCBmdW5jdGlvbiggZSApIHtcblx0XHRcdFx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdFx0XHR2YXIgJHJvdyA9ICQoIHRoaXMgKS5jbG9zZXN0KCAnLmxsbXMtcmVwZWF0ZXItcm93JyApO1xuXHRcdFx0XHRcdFx0aWYgKCB3aW5kb3cuY29uZmlybSggTExNUy5sMTBuLnRyYW5zbGF0ZSggJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyByb3c/IFRoaXMgY2Fubm90IGJlIHVuZG9uZS4nICkgKSApIHtcblx0XHRcdFx0XHRcdFx0JHJvdy5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdFx0c2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0c2VsZi5zYXZlKCAkcmVwZWF0ZXIgKTtcblx0XHRcdFx0XHRcdFx0fSwgMSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gKTtcblx0XHRcblx0XHRcdFx0fSApO1xuXHRcdFxuXHRcdFx0fSxcblx0XHRcblx0XHRcdC8qKlxuXHRcdFx0ICogQWRkIGEgbmV3IHJvdyB0byBhIHJlcGVhdGVyIHJvd3MgZ3JvdXBcblx0XHRcdCAqXG5cdFx0XHQgKiBAcGFyYW0gICAgb2JqICAgICRyZXBlYXRlciAgalF1ZXJ5IHNlbGVjdG9yIGZvciB0aGUgcmVwZWF0ZXIgdG8gYWRkIGEgcm93IHRvXG5cdFx0XHQgKiBAcGFyYW0gICAgb2JqICAgIGRhdGEgICAgICAgb3B0aW9uYWwgb2JqZWN0IG9mIGRhdGEgdG8gZmlsbCBmaWVsZHMgaW4gdGhlIHJvdyB3aXRoXG5cdFx0XHQgKiBAcGFyYW0gICAgYm9vbCAgIGV4cGFuZCAgICAgaWYgdHJ1ZSwgd2lsbCBhdXRvbWF0aWNhbGx5IG9wZW4gdGhlIHJvdyBhZnRlciBhZGRpbmcgaXQgdG8gdGhlIGRvbVxuXHRcdFx0ICogQHJldHVybiBcdCB2b2lkXG5cdFx0XHQgKiBAc2luY2UgICAgMy4xMS4wXG5cdFx0XHQgKiBAdmVyc2lvbiAgMy4xMS4wXG5cdFx0XHQgKi9cblx0XHRcdGFkZF9yb3c6IGZ1bmN0aW9uKCAkcmVwZWF0ZXIsIGRhdGEsIGV4cGFuZCApIHtcblx0XHRcblx0XHRcdFx0dmFyIHNlbGYgICAgICA9IHRoaXMsXG5cdFx0XHRcdFx0JHJvd3MgICAgID0gJHJlcGVhdGVyLmZpbmQoICcubGxtcy1yZXBlYXRlci1yb3dzJyApLFxuXHRcdFx0XHRcdCRtb2RlbCAgICA9ICRyZXBlYXRlci5maW5kKCAnLmxsbXMtcmVwZWF0ZXItbW9kZWwnICksXG5cdFx0XHRcdFx0JHJvdyAgICAgID0gJG1vZGVsLmZpbmQoICcubGxtcy1yZXBlYXRlci1yb3cnICkuY2xvbmUoKSxcblx0XHRcdFx0XHRuZXdfaW5kZXggPSAkcmVwZWF0ZXIuZmluZCggJy5sbG1zLXJlcGVhdGVyLXJvdycgKS5sZW5ndGgsXG5cdFx0XHRcdFx0ZWRpdG9yICAgID0gc2VsZi5yZWluZGV4KCAkcm93LCBuZXdfaW5kZXggKTtcblx0XHRcblx0XHRcdFx0aWYgKCBkYXRhICkge1xuXHRcdFx0XHRcdCQuZWFjaCggZGF0YSwgZnVuY3Rpb24oIGtleSwgdmFsICkge1xuXHRcdFxuXHRcdFx0XHRcdFx0dmFyICRmaWVsZCA9ICRyb3cuZmluZCggJ1tuYW1lXj1cIicgKyBrZXkgKyAnXCJdJyApO1xuXHRcdFxuXHRcdFx0XHRcdFx0aWYgKCAkZmllbGQuaGFzQ2xhc3MoICdsbG1zLXNlbGVjdDItc3R1ZGVudCcgKSApIHtcblx0XHRcdFx0XHRcdFx0JC5lYWNoKCB2YWwsIGZ1bmN0aW9uKCBpLCBkYXRhICkge1xuXHRcdFx0XHRcdFx0XHRcdCRmaWVsZC5hcHBlbmQoICc8b3B0aW9uIHZhbHVlPVwiJyArIGRhdGEua2V5ICsgJ1wiIHNlbGVjdGVkPVwic2VsZWN0ZWRcIj4nICsgZGF0YS50aXRsZSArICc8L29wdGlvbj4nIClcblx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0XHQkZmllbGQudHJpZ2dlciggJ2NoYW5nZScgKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdCRmaWVsZC52YWwoIHZhbCApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFxuXHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0fVxuXHRcdFxuXHRcdFx0XHRzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRzZWxmLmJpbmRfcm93KCAkcm93ICk7XG5cdFx0XHRcdH0sIDEgKTtcblx0XHRcblx0XHRcdFx0JHJvd3MuYXBwZW5kKCAkcm93ICk7XG5cdFx0XHRcdGlmICggZXhwYW5kICkge1xuXHRcdFx0XHRcdCRyb3cuZmluZCggJy5sbG1zLWNvbGxhcHNpYmxlLWhlYWRlcicgKS50cmlnZ2VyKCAnY2xpY2snICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dGlueU1DRS5FZGl0b3JNYW5hZ2VyLmV4ZWNDb21tYW5kKCAnbWNlQWRkRWRpdG9yJywgdHJ1ZSwgZWRpdG9yICk7XG5cdFx0XG5cdFx0XHRcdCRyZXBlYXRlci50cmlnZ2VyKCAnbGxtcy1uZXctcmVwZWF0ZXItcm93Jywge1xuXHRcdFx0XHRcdCRyb3c6ICRyb3csXG5cdFx0XHRcdFx0ZGF0YTogZGF0YSxcblx0XHRcdFx0fSApO1xuXHRcdFxuXHRcdFx0fSxcblx0XHRcblx0XHRcdC8qKlxuXHRcdFx0ICogQmluZCBET00gZXZlbnRzIGZvciBhIHNpbmdsZSByZXBlYXRlciByb3dcblx0XHRcdCAqXG5cdFx0XHQgKiBAcGFyYW0gICAgb2JqICAgJHJvdyAgalF1ZXJ5IHNlbGVjdG9yIGZvciB0aGUgcm93XG5cdFx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdFx0ICogQHNpbmNlICAgIDMuMTEuMFxuXHRcdFx0ICogQHZlcnNpb24gIDMuMTMuMFxuXHRcdFx0ICovXG5cdFx0XHRiaW5kX3JvdzogZnVuY3Rpb24oICRyb3cgKSB7XG5cdFx0XG5cdFx0XHRcdHRoaXMuYmluZF9yb3dfaGVhZGVyKCAkcm93ICk7XG5cdFx0XG5cdFx0XHRcdCRyb3cuZmluZCggJy5sbG1zLXNlbGVjdDInICkubGxtc1NlbGVjdDIoIHtcblx0XHRcdFx0XHR3aWR0aDogJzEwMCUnLFxuXHRcdFx0XHR9ICk7XG5cdFx0XG5cdFx0XHRcdCRyb3cuZmluZCggJy5sbG1zLXNlbGVjdDItc3R1ZGVudCcgKS5sbG1zU3R1ZGVudHNTZWxlY3QyKCk7XG5cdFx0XG5cdFx0XHRcdHRoaXMubWV0YWJveGVzLmJpbmRfZGF0ZXBpY2tlcnMoICRyb3cuZmluZCggJy5sbG1zLWRhdGVwaWNrZXInICkgKTtcblx0XHRcdFx0dGhpcy5tZXRhYm94ZXMuYmluZF9jb250cm9sbGVycyggJHJvdy5maW5kKCAnW2RhdGEtaXMtY29udHJvbGxlcl0nICkgKTtcblx0XHRcdFx0Ly8gdGhpcy5tZXRhYm94ZXMuYmluZF9tZXJnZV9jb2RlX2J1dHRvbnMoICRyb3cuZmluZCggJy5sbG1zLW1lcmdlLWNvZGUtd3JhcHBlcicgKSApO1xuXHRcdFx0fSxcblx0XHRcblx0XHRcdC8qKlxuXHRcdFx0ICogQmluZCByb3cgaGVhZGVyIGV2ZW50c1xuXHRcdFx0ICpcblx0XHRcdCAqIEBwYXJhbSAgICBvYmogICAkcm93ICBqUXVlcnkgc2VsZWN0b3IgZm9yIHRoZSByb3dcblx0XHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0XHQgKiBAc2luY2UgICAgMy4xMS4wXG5cdFx0XHQgKiBAdmVyc2lvbiAgMy4xMS4wXG5cdFx0XHQgKi9cblx0XHRcdGJpbmRfcm93X2hlYWRlcjogZnVuY3Rpb24oICRyb3cgKSB7XG5cdFx0XG5cdFx0XHRcdC8vIGhhbmRsZSB0aGUgdGl0bGUgZmllbGQgYmluZGluZ1xuXHRcdFx0XHR2YXIgJHRpdGxlID0gJHJvdy5maW5kKCAnLmxsbXMtcmVwZWF0ZXItdGl0bGUnICksXG5cdFx0XHRcdFx0JGZpZWxkID0gJHJvdy5maW5kKCAnLmxsbXMtY29sbGFwc2libGUtaGVhZGVyLXRpdGxlLWZpZWxkJyApO1xuXHRcdFxuXHRcdFx0XHQkdGl0bGUuYXR0ciggJ2RhdGEtZGVmYXVsdCcsICR0aXRsZS50ZXh0KCkgKTtcblx0XHRcblx0XHRcdFx0JGZpZWxkLm9uKCAna2V5dXAgZm9jdXNvdXQgYmx1cicsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHZhciB2YWwgPSAkKCB0aGlzICkudmFsKCk7XG5cdFx0XHRcdFx0aWYgKCAhIHZhbCApIHtcblx0XHRcdFx0XHRcdHZhbCA9ICR0aXRsZS5hdHRyKCAnZGF0YS1kZWZhdWx0JyApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQkdGl0bGUudGV4dCggdmFsICk7XG5cdFx0XHRcdH0gKS50cmlnZ2VyKCAna2V5dXAnICk7XG5cdFx0XG5cdFx0XHR9LFxuXHRcdFxuXHRcdFx0LyoqXG5cdFx0XHQgKiBIYW5kbGUgV1AgUG9zdCBmb3JtIHN1Ym1pc3Npb24gdG8gZW5zdXJlIHJlcGVhdGVycyBhcmUgc2F2ZWQgYmVmb3JlIHN1Ym1pdHRpbmcgdGhlIGZvcm0gdG8gc2F2ZS9wdWJsaXNoIHRoZSBwb3N0XG5cdFx0XHQgKlxuXHRcdFx0ICogQHBhcmFtICAgIG9iaiAgIGUgIEpTIGV2ZW50IG9iamVjdFxuXHRcdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHRcdCAqIEBzaW5jZSAgICAzLjExLjBcblx0XHRcdCAqIEB2ZXJzaW9uICAzLjIzLjBcblx0XHRcdCAqL1xuXHRcdFx0aGFuZGxlX3N1Ym1pdDogZnVuY3Rpb24oIGUgKSB7XG5cdFx0XG5cdFx0XHRcdC8vIGdldCB0aGUgYnV0dG9uIHVzZWQgdG8gc3VibWl0IHRoZSBmb3JtXG5cdFx0XHRcdHZhciAkYnRuICAgICA9ICQoICcjcG9zdCBbZGF0YS1sbG1zLWNsaWNrZWQ9XCJ5ZXNcIl0nICksXG5cdFx0XHRcdFx0JHNwaW5uZXIgPSAkYnRuLnBhcmVudCgpLmZpbmQoICcuc3Bpbm5lcicgKTtcblx0XHRcblx0XHRcdFx0aWYgKCAkYnRuLmlzKCAnI3Bvc3QtcHJldmlldycgKSApIHtcblx0XHRcdFx0XHQkYnRuLnJlbW92ZUF0dHIoICdkYXRhLWxsbXMtY2xpY2tlZCcgKTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFxuXHRcdFx0XHQvLyBjb3JlIFVYIHRvIHByZXZlbnQgbXVsdGktY2xpY2svb3IgdGhlIGFwcGVhcmFuY2Ugb2YgYSBkZWxheVxuXHRcdFx0XHQkKCAnI3Bvc3QgaW5wdXRbdHlwZT1cInN1Ym1pdFwiXScgKS5hZGRDbGFzcyggJ2Rpc2FibGVkJyApLmF0dHIoICdkaXNhYmxlZCcsICdkaXNhYmxlZCcgKTtcblx0XHRcdFx0JHNwaW5uZXIuYWRkQ2xhc3MoICdpcy1hY3RpdmUnICk7XG5cdFx0XG5cdFx0XHRcdHZhciBzZWxmID0gd2luZG93LmxsbXMubWV0YWJveGVzLnJlcGVhdGVycyxcblx0XHRcdFx0XHRpICAgID0gMCxcblx0XHRcdFx0XHR3YWl0O1xuXHRcdFxuXHRcdFx0XHRzZWxmLiRyZXBlYXRlcnMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0c2VsZi5zYXZlKCAkKCB0aGlzICkgKTtcblx0XHRcdFx0fSApO1xuXHRcdFxuXHRcdFx0XHR3YWl0ID0gc2V0SW50ZXJ2YWwoIGZ1bmN0aW9uKCkge1xuXHRcdFxuXHRcdFx0XHRcdGlmICggaSA+PSA1OSB8fCAhICQoICcubGxtcy1tYi1saXN0LnJlcGVhdGVyLnByb2Nlc3NpbmcnICkubGVuZ3RoICkge1xuXHRcdFxuXHRcdFx0XHRcdFx0Y2xlYXJJbnRlcnZhbCggd2FpdCApO1xuXHRcdFx0XHRcdFx0JCggJyNwb3N0JyApLm9mZiggJ3N1Ym1pdCcsIHRoaXMuaGFuZGxlX3N1Ym1pdCApO1xuXHRcdFx0XHRcdFx0JHNwaW5uZXIucmVtb3ZlQ2xhc3MoICdpcy1hY3RpdmUnICk7XG5cdFx0XHRcdFx0XHQkYnRuLnJlbW92ZUNsYXNzKCAnZGlzYWJsZWQnICkucmVtb3ZlQXR0ciggJ2Rpc2FibGVkJyApLnRyaWdnZXIoICdjbGljaycgKTtcblx0XHRcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFxuXHRcdFx0XHRcdFx0aSsrO1xuXHRcdFxuXHRcdFx0XHRcdH1cblx0XHRcblx0XHRcdFx0fSwgMTAwMCApO1xuXHRcdFxuXHRcdFx0fSxcblx0XHRcblx0XHRcdC8qKlxuXHRcdFx0ICogTG9hZCByZXBlYXRlciBkYXRhIGZyb20gdGhlIHNlcnZlciBhbmQgY3JlYXRlIHJvd3MgaW4gdGhlIERPTVxuXHRcdFx0ICpcblx0XHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0XHQgKiBAc2luY2UgICAgMy4xMS4wXG5cdFx0XHQgKiBAdmVyc2lvbiAgMy4xMi4xXG5cdFx0XHQgKi9cblx0XHRcdGxvYWQ6IGZ1bmN0aW9uKCkge1xuXHRcdFxuXHRcdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XG5cdFx0XHRcdHNlbGYuJHJlcGVhdGVycy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcblx0XHRcdFx0XHR2YXIgJHJlcGVhdGVyID0gJCggdGhpcyApO1xuXHRcdFxuXHRcdFx0XHRcdC8vIGVuc3VyZSB0aGUgcmVwZWF0ZXIgaXMgb25seSBsb2FkZWQgb25jZSB0byBwcmV2ZW50IGR1cGxpY2F0ZXMgcmVzdWx0aW5nIGZyb20gZHVwbGljYXRpbmcgYmluZGluZ1xuXHRcdFx0XHRcdC8vIG9uIGNlcnRhaW4gc2l0ZXMgd2hpY2ggSSBjYW5ub3QgcXVpdGUgZXhwbGFpbi4uLlxuXHRcdFx0XHRcdGlmICggJHJlcGVhdGVyLmhhc0NsYXNzKCAnaXMtbG9hZGVkJyApIHx8ICRyZXBlYXRlci5oYXNDbGFzcyggJ3Byb2Nlc3NpbmcnICkgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFxuXHRcdFx0XHRcdHNlbGYuc3RvcmUoICRyZXBlYXRlciwgJ2xvYWQnLCBmdW5jdGlvbiggZGF0YSApIHtcblx0XHRcblx0XHRcdFx0XHRcdCRyZXBlYXRlci5hZGRDbGFzcyggJ2lzLWxvYWRlZCcgKTtcblx0XHRcblx0XHRcdFx0XHRcdCQuZWFjaCggZGF0YS5kYXRhLCBmdW5jdGlvbiggaSwgb2JqICkge1xuXHRcdFx0XHRcdFx0XHRzZWxmLmFkZF9yb3coICRyZXBlYXRlciwgb2JqLCBmYWxzZSApO1xuXHRcdFx0XHRcdFx0fSApO1xuXHRcdFxuXHRcdFx0XHRcdFx0Ly8gZm9yIGVhY2ggcm93IHdpdGhpbiB0aGUgcmVwZWF0ZXJcblx0XHRcdFx0XHRcdCRyZXBlYXRlci5maW5kKCAnLmxsbXMtcmVwZWF0ZXItcm93cyAubGxtcy1yZXBlYXRlci1yb3cnICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdHNlbGYuYmluZF9yb3coICQoIHRoaXMgKSApO1xuXHRcdFx0XHRcdFx0fSApO1xuXHRcdFxuXHRcdFx0XHRcdH0gKTtcblx0XHRcblx0XHRcdFx0fSApO1xuXHRcdFxuXHRcdFx0fSxcblx0XHRcblx0XHRcdC8qKlxuXHRcdFx0ICogUmVpbmRleCBhIHJvd1xuXHRcdFx0ICogcmVuYW1lcyBpZHMsIGF0dHJzLCBhbmQgZXRjLi4uXG5cdFx0XHQgKiBVc2VkIHdoZW4gY2xvbmluZyB0aGUgbW9kZWwgZm9yIG5ldyByb3dzXG5cdFx0XHQgKlxuXHRcdFx0ICogQHBhcmFtICAgIG9iaiAgICAgICAgICAkcm93ICBqUXVlcnkgc2VsZWN0b3IgZm9yIHRoZSByb3dcblx0XHRcdCAqIEBwYXJhbSAgICBpbnR8c3RyaW5nICAgaW5kZXggIGluZGV4IChvciBpZCkgdG8gdXNlIHdoZW4gcmVuYW1pbmdcblx0XHRcdCAqIEByZXR1cm4gICBzdHJpbmdcblx0XHRcdCAqIEBzaW5jZSAgICAzLjExLjBcblx0XHRcdCAqIEB2ZXJzaW9uICAzLjExLjBcblx0XHRcdCAqL1xuXHRcdFx0cmVpbmRleDogZnVuY3Rpb24oICRyb3csIGluZGV4ICkge1xuXHRcdFxuXHRcdFx0XHR2YXIgb2xkX2luZGV4ID0gJHJvdy5hdHRyKCAnZGF0YS1yb3ctb3JkZXInICksXG5cdFx0XHRcdFx0JGVkICAgICAgID0gJHJvdy5maW5kKCAnLmxsbXMtbWItbGlzdC5lZGl0b3IgdGV4dGFyZWEnICk7XG5cdFx0XG5cdFx0XHRcdHRpbnlNQ0UuRWRpdG9yTWFuYWdlci5leGVjQ29tbWFuZCggJ21jZVJlbW92ZUVkaXRvcicsIHRydWUsICRlZC5hdHRyKCAnaWQnICkgKTtcblx0XHRcblx0XHRcdFx0ZnVuY3Rpb24gcmVwbGFjZV9hdHRyKCAkZWwsIGF0dHIgKSB7XG5cdFx0XHRcdFx0JGVsLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0dmFyIHN0ciA9ICQoIHRoaXMgKS5hdHRyKCBhdHRyICk7XG5cdFx0XHRcdFx0XHQkKCB0aGlzICkuYXR0ciggYXR0ciwgc3RyLnJlcGxhY2UoIG9sZF9pbmRleCwgaW5kZXggKSApO1xuXHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0fTtcblx0XHRcblx0XHRcdFx0JHJvdy5hdHRyKCAnZGF0YS1yb3ctb3JkZXInLCBpbmRleCApO1xuXHRcdFxuXHRcdFx0XHRyZXBsYWNlX2F0dHIoICRyb3csICdkYXRhLXJvdy1vcmRlcicgKTtcblx0XHRcblx0XHRcdFx0cmVwbGFjZV9hdHRyKCAkcm93LmZpbmQoICdidXR0b24uaW5zZXJ0LW1lZGlhJyApLCAnZGF0YS1lZGl0b3InICk7XG5cdFx0XG5cdFx0XHRcdHJlcGxhY2VfYXR0ciggJHJvdy5maW5kKCAnaW5wdXRbbmFtZV49XCJfbGxtc1wiXSwgdGV4dGFyZWFbbmFtZV49XCJfbGxtc1wiXSwgc2VsZWN0W25hbWVePVwiX2xsbXNcIl0nICksICdpZCcgKTtcblx0XHRcdFx0cmVwbGFjZV9hdHRyKCAkcm93LmZpbmQoICdpbnB1dFtuYW1lXj1cIl9sbG1zXCJdLCB0ZXh0YXJlYVtuYW1lXj1cIl9sbG1zXCJdLCBzZWxlY3RbbmFtZV49XCJfbGxtc1wiXScgKSwgJ25hbWUnICk7XG5cdFx0XHRcdHJlcGxhY2VfYXR0ciggJHJvdy5maW5kKCAnW2RhdGEtY29udHJvbGxlcl0nICksICdkYXRhLWNvbnRyb2xsZXInICk7XG5cdFx0XHRcdHJlcGxhY2VfYXR0ciggJHJvdy5maW5kKCAnW2RhdGEtY29udHJvbGxlcl0nICksICdkYXRhLWNvbnRyb2xsZXInICk7XG5cdFx0XHRcdHJlcGxhY2VfYXR0ciggJHJvdy5maW5kKCAnYnV0dG9uLndwLXN3aXRjaC1lZGl0b3InICksICdkYXRhLXdwLWVkaXRvci1pZCcgKTtcblx0XHRcdFx0cmVwbGFjZV9hdHRyKCAkcm93LmZpbmQoICdidXR0b24ud3Atc3dpdGNoLWVkaXRvcicgKSwgJ2lkJyApO1xuXHRcdFx0XHRyZXBsYWNlX2F0dHIoICRyb3cuZmluZCggJy53cC1lZGl0b3ItdG9vbHMnICksICdpZCcgKTtcblx0XHRcdFx0cmVwbGFjZV9hdHRyKCAkcm93LmZpbmQoICcud3AtZWRpdG9yLWNvbnRhaW5lcicgKSwgJ2lkJyApO1xuXHRcdFxuXHRcdFx0XHRyZXR1cm4gJGVkLmF0dHIoICdpZCcgKTtcblx0XHRcblx0XHRcdH0sXG5cdFx0XG5cdFx0XHQvKipcblx0XHRcdCAqIFNhdmUgYSBzaW5nbGUgcmVwZWF0ZXJzIGRhdGEgdG8gdGhlIHNlcnZlclxuXHRcdFx0ICpcblx0XHRcdCAqIEBwYXJhbSAgICBvYmogICAkcmVwZWF0ZXIgIGpRdWVyeSBzZWxlY3RvciBmb3IgYSByZXBlYXRlciBlbGVtZW50XG5cdFx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdFx0ICogQHNpbmNlICAgIDMuMTEuMFxuXHRcdFx0ICogQHZlcnNpb24gIDMuMTMuMFxuXHRcdFx0ICovXG5cdFx0XHRzYXZlOiBmdW5jdGlvbiggJHJlcGVhdGVyICkge1xuXHRcdFx0XHQkcmVwZWF0ZXIudHJpZ2dlciggJ2xsbXMtcmVwZWF0ZXItYmVmb3JlLXNhdmUnLCB7ICRlbDogJHJlcGVhdGVyIH0gKTtcblx0XHRcdFx0dGhpcy5zdG9yZSggJHJlcGVhdGVyLCAnc2F2ZScgKTtcblx0XHRcdH0sXG5cdFx0XG5cdFx0XHQvKipcblx0XHRcdCAqIENvbnZlcnQgYSByZXBlYXRlciBlbGVtZW50IGludG8gYW4gYXJyYXkgb2Ygb2JqZWN0cyB0aGF0IGNhbiBiZSBzYXZlZCB0byB0aGUgZGF0YWJhc2Vcblx0XHRcdCAqXG5cdFx0XHQgKiBAcGFyYW0gICAgb2JqICAgJHJlcGVhdGVyICBqUXVlcnkgc2VsZWN0b3IgZm9yIGEgcmVwZWF0ZXIgZWxlbWVudFxuXHRcdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHRcdCAqIEBzaW5jZSAgICAzLjExLjBcblx0XHRcdCAqIEB2ZXJzaW9uICAzLjExLjBcblx0XHRcdCAqL1xuXHRcdFx0c2VyaWFsaXplOiBmdW5jdGlvbiggJHJlcGVhdGVyICkge1xuXHRcdFxuXHRcdFx0XHR2YXIgcm93cyA9IFtdO1xuXHRcdFxuXHRcdFx0XHQkcmVwZWF0ZXIuZmluZCggJy5sbG1zLXJlcGVhdGVyLXJvd3MgLmxsbXMtcmVwZWF0ZXItcm93JyApLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFxuXHRcdFx0XHRcdHZhciBvYmogPSB7fTtcblx0XHRcblx0XHRcdFx0XHQvLyBlYXN5Li4uXG5cdFx0XHRcdFx0JCggdGhpcyApLmZpbmQoICdpbnB1dFtuYW1lXj1cIl9sbG1zXCJdLCBzZWxlY3RbbmFtZV49XCJfbGxtc1wiXScgKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdG9ialsgJCggdGhpcyApLmF0dHIoICduYW1lJyApIF0gPSAkKCB0aGlzICkudmFsKCk7XG5cdFx0XHRcdFx0fSApO1xuXHRcdFxuXHRcdFx0XHRcdC8vIGNoZWNrIGlmIHRoZSB0ZXh0YXJlYSBpcyBhIHRpbnlNQ0UgaW5zdGFuY2Vcblx0XHRcdFx0XHQkKCB0aGlzICkuZmluZCggJ3RleHRhcmVhW25hbWVePVwiX2xsbXNcIl0nICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XG5cdFx0XHRcdFx0XHR2YXIgbmFtZSA9ICQoIHRoaXMgKS5hdHRyKCAnbmFtZScgKTtcblx0XHRcblx0XHRcdFx0XHRcdC8vIGlmIGl0IGlzIGFuIGVkaXRvclxuXHRcdFx0XHRcdFx0aWYgKCB0aW55TUNFLmVkaXRvcnNbIG5hbWUgXSApIHtcblx0XHRcdFx0XHRcdFx0b2JqWyBuYW1lIF0gPSB0aW55TUNFLmVkaXRvcnNbIG5hbWUgXS5nZXRDb250ZW50KCk7XG5cdFx0XHRcdFx0XHRcdC8vIGdyYWIgdGhlIHZhbCBvZiB0aGUgdGV4dGFyZWFcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdG9ialsgbmFtZSBdID0gJCggdGhpcyApLnZhbCgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFxuXHRcdFx0XHRcdH0gKTtcblx0XHRcblx0XHRcdFx0XHRyb3dzLnB1c2goIG9iaiApO1xuXHRcdFxuXHRcdFx0XHR9ICk7XG5cdFx0XG5cdFx0XHRcdHJldHVybiByb3dzO1xuXHRcdFxuXHRcdFx0fSxcblx0XHRcblx0XHRcdC8qKlxuXHRcdFx0ICogQUpBWCBtZXRob2QgZm9yIGludGVyYWN0aW5nIHdpdGggdGhlIHJlcGVhdGVyJ3MgaGFuZGxlciBvbiB0aGUgc2VydmVyXG5cdFx0XHQgKlxuXHRcdFx0ICogQHBhcmFtICAgIG9iaiAgICAgICAkcmVwZWF0ZXIgIGpRdWVyeSBzZWxlY3RvciBmb3IgdGhlIHJlcGVhdGVyIGVsZW1lbnRcblx0XHRcdCAqIEBwYXJhbSAgICBzdHJpbmcgICAgYWN0aW9uICAgICBhY3Rpb24gdG8gY2FsbCBbc2F2ZXxsb2FkXVxuXHRcdFx0ICogQHBhcmFtICAgIGZ1bmN0aW9uICBjYiAgICAgICAgIGNhbGxiYWNrIGZ1bmN0aW9uXG5cdFx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdFx0ICogQHNpbmNlICAgIDMuMTEuMFxuXHRcdFx0ICogQHZlcnNpb24gIDMuMTEuMFxuXHRcdFx0ICovXG5cdFx0XHRzdG9yZTogZnVuY3Rpb24oICRyZXBlYXRlciwgYWN0aW9uLCBjYiApIHtcblx0XHRcblx0XHRcdFx0Y2IgICAgICAgPSBjYiB8fCBmdW5jdGlvbigpe307XG5cdFx0XHRcdHZhciBzZWxmID0gdGhpcyxcblx0XHRcdFx0XHRkYXRhID0ge1xuXHRcdFx0XHRcdFx0YWN0aW9uOiAkcmVwZWF0ZXIuZmluZCggJy5sbG1zLXJlcGVhdGVyLWZpZWxkLWhhbmRsZXInICkudmFsKCksXG5cdFx0XHRcdFx0XHRzdG9yZV9hY3Rpb246IGFjdGlvbixcblx0XHRcdFx0fTtcblx0XHRcblx0XHRcdFx0aWYgKCAnc2F2ZScgPT09IGFjdGlvbiApIHtcblx0XHRcdFx0XHRkYXRhLnJvd3MgPSBzZWxmLnNlcmlhbGl6ZSggJHJlcGVhdGVyICk7XG5cdFx0XHRcdH1cblx0XHRcblx0XHRcdFx0TExNUy5BamF4LmNhbGwoIHtcblx0XHRcdFx0XHRkYXRhOiBkYXRhLFxuXHRcdFx0XHRcdGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKCkge1xuXHRcdFxuXHRcdFx0XHRcdFx0JHJlcGVhdGVyLmFkZENsYXNzKCAncHJvY2Vzc2luZycgKTtcblx0XHRcdFx0XHRcdExMTVMuU3Bpbm5lci5zdGFydCggJHJlcGVhdGVyICk7XG5cdFx0XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbiggciApIHtcblx0XHRcblx0XHRcdFx0XHRcdGNiKCByICk7XG5cdFx0XHRcdFx0XHRMTE1TLlNwaW5uZXIuc3RvcCggJHJlcGVhdGVyICk7XG5cdFx0XHRcdFx0XHQkcmVwZWF0ZXIucmVtb3ZlQ2xhc3MoICdwcm9jZXNzaW5nJyApO1xuXHRcdFxuXHRcdFx0XHRcdH1cblx0XHRcblx0XHRcdFx0fSApO1xuXHRcdFxuXHRcdFx0fVxuXHRcdFxuXHRcdH07XG5cdFx0dGhpcy5yZXBlYXRlcnMuaW5pdCgpO1xuXHRcdFxuXG5cdFx0LyoqXG5cdFx0ICogSW5pdGlhbGl6ZVxuXHRcdCAqXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4xMy4wXG5cdFx0ICovXG5cdFx0dGhpcy5pbml0ID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdFx0JCggJy5sbG1zLXNlbGVjdDItcG9zdCcgKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0c2VsZi5wb3N0X3NlbGVjdCggJCggdGhpcyApICk7XG5cdFx0XHR9ICk7XG5cblx0XHRcdCQoICcubGxtcy1jb2xsYXBzaWJsZS1ncm91cCcgKS5sbG1zQ29sbGFwc2libGUoKTtcblxuXHRcdFx0dGhpcy5iaW5kX3RhYnMoKTtcblxuXHRcdFx0Ly8gYmluZCBldmVyeXRoaW5nIGJldHRlciBhbmQgbGVzcyByZXBldGl0aXZlbHkuLi5cblx0XHRcdHZhciBiaW5kaW5ncyA9IFtcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHNlbGVjdG9yOiAkKCAnLmxsbXMtZGF0ZXBpY2tlcicgKSxcblx0XHRcdFx0XHRmdW5jOiAnYmluZF9kYXRlcGlja2VycycsXG5cdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0c2VsZWN0b3I6ICQoICcubGxtcy1zZWxlY3QyJyApLFxuXHRcdFx0XHRcdGZ1bmM6IGZ1bmN0aW9uKCAkc2VsZWN0b3IgKSB7XG5cdFx0XHRcdFx0XHQkc2VsZWN0b3IubGxtc1NlbGVjdDIoIHtcblx0XHRcdFx0XHRcdFx0d2lkdGg6ICcxMDAlJyxcblx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHNlbGVjdG9yOiAkKCAnLmxsbXMtc2VsZWN0Mi1zdHVkZW50JyApLFxuXHRcdFx0XHRcdGZ1bmM6IGZ1bmN0aW9uKCAkc2VsZWN0b3IgKSB7XG5cdFx0XHRcdFx0XHQkc2VsZWN0b3IubGxtc1N0dWRlbnRzU2VsZWN0MigpO1xuXHRcdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRzZWxlY3RvcjogJCggJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXVtkYXRhLWNvbnRyb2xzXScgKSxcblx0XHRcdFx0XHRmdW5jOiAnYmluZF9jYl9jb250cm9sbGVycycsXG5cdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0c2VsZWN0b3I6ICQoICdbZGF0YS1pcy1jb250cm9sbGVyXScgKSxcblx0XHRcdFx0XHRmdW5jOiAnYmluZF9jb250cm9sbGVycycsXG5cdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0c2VsZWN0b3I6ICQoICcubGxtcy10YWJsZScgKSxcblx0XHRcdFx0XHRmdW5jOiAnYmluZF90YWJsZXMnLFxuXHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHNlbGVjdG9yOiAkKCAnLmxsbXMtbWVyZ2UtY29kZS13cmFwcGVyJyApLFxuXHRcdFx0XHRcdGZ1bmM6ICdiaW5kX21lcmdlX2NvZGVfYnV0dG9ucycsXG5cdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0c2VsZWN0b3I6ICQoICdhLmxsbXMtZWRpdGFibGUnICksXG5cdFx0XHRcdFx0ZnVuYzogJ2JpbmRfZWRpdGFibGVzJyxcblx0XHRcdH0sXG5cdFx0XHRdO1xuXG5cdFx0XHQvLyBiaW5kIGFsbCB0aGUgYmluZGFibGVzIGJ1dCBkb24ndCBiaW5kIHRoaW5ncyBpbiByZXBlYXRlcnNcblx0XHRcdCQuZWFjaCggYmluZGluZ3MsIGZ1bmN0aW9uKCBpbmRleCwgb2JqICkge1xuXG5cdFx0XHRcdGlmICggb2JqLnNlbGVjdG9yLmxlbmd0aCApIHtcblxuXHRcdFx0XHRcdC8vIHJlZHVjZSB0aGUgc2VsZWN0b3IgdG8gZXhjbHVkZSBpdGVtcyBpbiBhIHJlcGVhdGVyXG5cdFx0XHRcdFx0dmFyIHJlZHVjZWQgPSBvYmouc2VsZWN0b3IuZmlsdGVyKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHJldHVybiAoIDAgPT09ICQoIHRoaXMgKS5jbG9zZXN0KCAnLmxsbXMtcmVwZWF0ZXItbW9kZWwnICkubGVuZ3RoICk7XG5cdFx0XHRcdFx0fSApO1xuXG5cdFx0XHRcdFx0Ly8gYmluZCBieSBzdHJpbmdcblx0XHRcdFx0XHRpZiAoICdzdHJpbmcnID09PSB0eXBlb2Ygb2JqLmZ1bmMgKSB7XG5cdFx0XHRcdFx0XHRzZWxmWyBvYmouZnVuYyBdKCByZWR1Y2VkICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdC8vIGJpbmQgYnkgYW4gYW5vbnltb3VzIGZ1bmN0aW9uXG5cdFx0XHRcdFx0ZWxzZSBpZiAoICdmdW5jdGlvbicgPT09IHR5cGVvZiBvYmouZnVuYyApIHtcblx0XHRcdFx0XHRcdG9iai5mdW5jKCByZWR1Y2VkICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH1cblxuXHRcdFx0fSApO1xuXG5cdFx0XHQvLyBpZiBhIHBvc3QgdHlwZSBpcyBzZXQgJiBhIGJpbmQgZXhpc3RzIGZvciBpdCwgYmluZCBpdFxuXHRcdFx0aWYgKCB3aW5kb3cubGxtcy5wb3N0LnBvc3RfdHlwZSApIHtcblxuXHRcdFx0XHR2YXIgZnVuYyA9ICdiaW5kXycgKyB3aW5kb3cubGxtcy5wb3N0LnBvc3RfdHlwZTtcblxuXHRcdFx0XHRpZiAoICdmdW5jdGlvbicgPT09IHR5cGVvZiB0aGlzW2Z1bmNdICkge1xuXG5cdFx0XHRcdFx0dGhpc1tmdW5jXSgpO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIEJpbmQgY2hlY2tib3hlcyB0aGF0IGNvbnRyb2wgdGhlIGRpc3BsYXkgb2Ygb3RoZXIgZWxlbWVudHNcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSAgICBvYmogICAkY29udHJvbGxlcnMgIGpRdWVyeSBzZWxlY3RvciBmb3IgY2hlY2tib3hlcyB0byBiZSBib3VuZCBhcyBjaGVja2JveCBjb250cm9sbGVyc1xuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMTEuMFxuXHRcdCAqL1xuXHRcdHRoaXMuYmluZF9jYl9jb250cm9sbGVycyA9IGZ1bmN0aW9uKCAkY29udHJvbGxlcnMgKSB7XG5cblx0XHRcdCRjb250cm9sbGVycyA9ICRjb250cm9sbGVycyB8fCAkKCAnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdW2RhdGEtY29udHJvbHNdJyApO1xuXG5cdFx0XHQkY29udHJvbGxlcnMuZWFjaCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0dmFyICRjYiAgICAgICAgID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdCRjb250cm9sbGVkID0gJCggJGNiLmF0dHIoICdkYXRhLWNvbnRyb2xzJyApICkuY2xvc2VzdCggJy5sbG1zLW1iLWxpc3QnICk7XG5cblx0XHRcdFx0JGNiLm9uKCAnY2hhbmdlJywgZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0XHRpZiAoICQoIHRoaXMgKS5pcyggJzpjaGVja2VkJyApICkge1xuXG5cdFx0XHRcdFx0XHQkY29udHJvbGxlZC5zbGlkZURvd24oIDIwMCApO1xuXG5cdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0JGNvbnRyb2xsZWQuc2xpZGVVcCggMjAwICk7XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fSApO1xuXG5cdFx0XHRcdCRjYi50cmlnZ2VyKCAnY2hhbmdlJyApO1xuXG5cdFx0XHR9ICk7XG5cblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogQmluZCBlbGVtZW50cyB0aGF0IGNvbnRyb2wgdGhlIGRpc3BsYXkgb2Ygb3RoZXIgZWxlbWVudHNcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSAgICBvYmogICAkY29udHJvbGxlcnMgIGpRdWVyeSBzZWxlY3RvciBmb3IgZWxlbWVudHMgdG8gYmUgYm91bmQgYXMgY2hlY2tib3ggY29udHJvbGxlcnNcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjExLjBcblx0XHQgKi9cblx0XHR0aGlzLmJpbmRfY29udHJvbGxlcnMgPSBmdW5jdGlvbiggJGNvbnRyb2xsZXJzICkge1xuXG5cdFx0XHQkY29udHJvbGxlcnMgPSAkY29udHJvbGxlcnMgfHwgJCggJ1tkYXRhLWlzLWNvbnRyb2xsZXJdJyApO1xuXG5cdFx0XHQkY29udHJvbGxlcnMuZWFjaCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0dmFyICRlbCAgICAgICAgID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdCRjb250cm9sbGVkID0gJCggJ1tkYXRhLWNvbnRyb2xsZXI9XCIjJyArICRlbC5hdHRyKCAnaWQnICkgKyAnXCJdJyApLFxuXHRcdFx0XHRcdHZhbDtcblxuXHRcdFx0XHQkZWwub24oICdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRcdGlmICggJ2NoZWNrYm94JyA9PT0gJGVsLmF0dHIoICd0eXBlJyApICkge1xuXG5cdFx0XHRcdFx0XHR2YWwgPSAkZWwuaXMoICc6Y2hlY2tlZCcgKSA/ICRlbC52YWwoKSA6ICdmYWxzZSc7XG5cblx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHR2YWwgPSAkZWwudmFsKCk7XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQkY29udHJvbGxlZC5lYWNoKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRcdFx0dmFyIHBvc3NpYmxlID0gJCggdGhpcyApLmF0dHIoICdkYXRhLWNvbnRyb2xsZXItdmFsdWUnICksXG5cdFx0XHRcdFx0XHRcdHZhbHMgICAgID0gW107XG5cblx0XHRcdFx0XHRcdGlmICggLTEgIT09IHBvc3NpYmxlLmluZGV4T2YoICcsJyApICkge1xuXG5cdFx0XHRcdFx0XHRcdHZhbHMgPSBwb3NzaWJsZS5zcGxpdCggJywnICk7XG5cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0dmFscy5wdXNoKCBwb3NzaWJsZSApO1xuXG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGlmICggLTEgIT09IHZhbHMuaW5kZXhPZiggdmFsICkgKSB7XG5cblx0XHRcdFx0XHRcdFx0JCggdGhpcyApLnNsaWRlRG93biggMjAwICk7XG5cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0JCggdGhpcyApLnNsaWRlVXAoIDIwMCApO1xuXG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR9ICk7XG5cblx0XHRcdFx0fSApO1xuXG5cdFx0XHRcdCRlbC50cmlnZ2VyKCAnY2hhbmdlJyApO1xuXG5cdFx0XHR9ICk7XG5cblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogQmluZCBhIHNpbmdsZSBkYXRlcGlja2VyIGVsZW1lbnRcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSAgICBvYmogICAkZWwgIGpRdWVyeSBzZWxlY3RvciBmb3IgdGhlIGlucHV0IHRvIGJpbmQgdGhlIGRhdGVwaWNrZXIgdG9cblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjEwLjBcblx0XHQgKi9cblx0XHR0aGlzLmJpbmRfZGF0ZXBpY2tlciA9IGZ1bmN0aW9uKCAkZWwgKSB7XG5cdFx0XHR2YXIgZm9ybWF0ICA9ICRlbC5hdHRyKCAnZGF0YS1mb3JtYXQnICkgfHwgJ21tL2RkL3l5Jyxcblx0XHRcdFx0bWF4RGF0ZSA9ICRlbC5hdHRyKCAnZGF0YS1tYXgtZGF0ZScgKSB8fCBudWxsLFxuXHRcdFx0XHRtaW5EYXRlID0gJGVsLmF0dHIoICdkYXRhLW1pbi1kYXRlJyApIHx8IG51bGw7XG5cdFx0XHQkZWwuZGF0ZXBpY2tlcigge1xuXHRcdFx0XHRkYXRlRm9ybWF0OiBmb3JtYXQsXG5cdFx0XHRcdG1heERhdGU6IG1heERhdGUsXG5cdFx0XHRcdG1pbkRhdGU6IG1pbkRhdGUsXG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogQmluZCBhbGwgTGlmdGVyTE1TIGRhdGVwaWNrZXJzXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gICAgb2JqICAgJGRhdGVwaWNrZXJzICBqUXVlcnkgc2VsZWN0b3IgZm9yIHRoZSBlbGVtZW50cyB0byBiaW5kXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4xMS4wXG5cdFx0ICovXG5cdFx0dGhpcy5iaW5kX2RhdGVwaWNrZXJzID0gZnVuY3Rpb24oICRkYXRlcGlja2VycyApIHtcblxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0XHQkZGF0ZXBpY2tlcnMgPSAkZGF0ZXBpY2tlcnMgfHwgJCggJy5sbG1zLWRhdGVwaWNrZXInICk7XG5cblx0XHRcdCRkYXRlcGlja2Vycy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0c2VsZi5iaW5kX2RhdGVwaWNrZXIoICQoIHRoaXMgKSApO1xuXHRcdFx0fSApO1xuXG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIEJpbmQgbGxtcy1lZGl0YWJsZSBtZXRhYm94IGZpZWxkcyBhbmQgcmVsYXRlZCBkb20gaW50ZXJhY3Rpb25zXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjEwLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4yOC4wXG5cdFx0ICovXG5cdFx0dGhpcy5iaW5kX2VkaXRhYmxlcyA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdGZ1bmN0aW9uIG1ha2VfZWRpdGFibGUoICRmaWVsZCApIHtcblxuXHRcdFx0XHR2YXIgJGxhYmVsICAgPSAkZmllbGQuZmluZCggJ2xhYmVsJyApLmNsb25lKCksXG5cdFx0XHRcdFx0bmFtZSAgICAgPSAkZmllbGQuYXR0ciggJ2RhdGEtbGxtcy1lZGl0YWJsZScgKSxcblx0XHRcdFx0XHR0eXBlICAgICA9ICRmaWVsZC5hdHRyKCAnZGF0YS1sbG1zLWVkaXRhYmxlLXR5cGUnICksXG5cdFx0XHRcdFx0cmVxdWlyZWQgPSAkZmllbGQuYXR0ciggJ2RhdGEtbGxtcy1lZGl0YWJsZS1yZXF1aXJlZCcgKSB8fCAnbm8nLFxuXHRcdFx0XHRcdHZhbCAgICAgID0gJGZpZWxkLmF0dHIoICdkYXRhLWxsbXMtZWRpdGFibGUtdmFsdWUnICksXG5cdFx0XHRcdFx0JGlucHV0O1xuXG5cdFx0XHRcdHJlcXVpcmVkID0gKCAneWVzJyA9PT0gcmVxdWlyZWQgKSA/ICcgcmVxdWlyZWQ9XCJyZXF1aXJlZFwiJyA6ICcnO1xuXG5cdFx0XHRcdGlmICggJ3NlbGVjdCcgPT09IHR5cGUgKSB7XG5cblx0XHRcdFx0XHR2YXIgb3B0aW9ucyA9IEpTT04ucGFyc2UoICRmaWVsZC5hdHRyKCAnZGF0YS1sbG1zLWVkaXRhYmxlLW9wdGlvbnMnICkgKSxcblx0XHRcdFx0XHRcdHNlbGVjdGVkO1xuXG5cdFx0XHRcdFx0JGlucHV0ID0gJCggJzxzZWxlY3QgbmFtZT1cIicgKyBuYW1lICsgJ1wiJyArIHJlcXVpcmVkICsgJyAvPicgKTtcblx0XHRcdFx0XHRmb3IgKCB2YXIga2V5IGluIG9wdGlvbnMgKSB7XG5cdFx0XHRcdFx0XHRzZWxlY3RlZCA9IHZhbCA9PT0ga2V5ID8gJyBzZWxlY3RlZD1cInNlbGVjdGVkXCInIDogJyc7XG5cdFx0XHRcdFx0XHQkaW5wdXQuYXBwZW5kKCAnPG9wdGlvbiB2YWx1ZT1cIicgKyBrZXkgKyAnXCInICsgc2VsZWN0ZWQgKyAnPicgKyBvcHRpb25zWyBrZXkgXSArICc8L29wdGlvbj4nICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH0gZWxzZSBpZiAoICdkYXRldGltZScgPT09IHR5cGUgKSB7XG5cblx0XHRcdFx0XHQkaW5wdXQgPSAkKCAnPGRpdiBjbGFzcz1cImxsbXMtZGF0ZXRpbWUtZmllbGRcIiAvPicgKTtcblxuXHRcdFx0XHRcdHZhbCAgICAgICAgICA9IEpTT04ucGFyc2UoIHZhbCApO1xuXHRcdFx0XHRcdHZhciBmb3JtYXQgICA9ICRmaWVsZC5hdHRyKCAnZGF0YS1sbG1zLWVkaXRhYmxlLWRhdGUtZm9ybWF0JyApIHx8ICcnLFxuXHRcdFx0XHRcdFx0bWluX2RhdGUgPSAkZmllbGQuYXR0ciggJ2RhdGEtbGxtcy1lZGl0YWJsZS1kYXRlLW1pbicgKSB8fCAnJyxcblx0XHRcdFx0XHRcdG1heF9kYXRlID0gJGZpZWxkLmF0dHIoICdkYXRhLWxsbXMtZWRpdGFibGUtZGF0ZS1tYXgnICkgfHwgJyc7XG5cblx0XHRcdFx0XHQkcGlja2VyID0gJCggJzxpbnB1dCBjbGFzcz1cImxsbXMtZGF0ZS1pbnB1dCBsbG1zLWRhdGVwaWNrZXJcIiBkYXRhLWZvcm1hdD1cIicgKyBmb3JtYXQgKyAnXCIgZGF0YS1tYXgtZGF0ZT1cIicgKyBtYXhfZGF0ZSArICdcIiBkYXRhLW1pbi1kYXRlPVwiJyArIG1pbl9kYXRlICsgJ1wiIG5hbWU9XCInICsgbmFtZSArICdbZGF0ZV1cIiB0eXBlPVwidGV4dFwiIHZhbHVlPVwiJyArIHZhbC5kYXRlICsgJ1wiPicgKTtcblx0XHRcdFx0XHRzZWxmLmJpbmRfZGF0ZXBpY2tlciggJHBpY2tlciApO1xuXHRcdFx0XHRcdCRpbnB1dC5hcHBlbmQoICRwaWNrZXIgKTtcblx0XHRcdFx0XHQkaW5wdXQuYXBwZW5kKCAnPGVtPkA8L2VtPicgKTtcblxuXHRcdFx0XHRcdCRpbnB1dC5hcHBlbmQoICc8aW5wdXQgY2xhc3M9XCJsbG1zLXRpbWUtaW5wdXRcIiBtYXg9XCIyM1wiIG1pbj1cIjBcIiBuYW1lPVwiJyArIG5hbWUgKyAnW2hvdXJdXCIgdHlwZT1cIm51bWJlclwiIHZhbHVlPVwiJyArIHZhbC5ob3VyICsgJ1wiPicgKTtcblx0XHRcdFx0XHQkaW5wdXQuYXBwZW5kKCAnPGVtPjo8L2VtPicgKTtcblx0XHRcdFx0XHQkaW5wdXQuYXBwZW5kKCAnPGlucHV0IGNsYXNzPVwibGxtcy10aW1lLWlucHV0XCIgbWF4PVwiNTlcIiBtaW49XCIwXCIgbmFtZT1cIicgKyBuYW1lICsgJ1ttaW51dGVdXCIgdHlwZT1cIm51bWJlclwiIHZhbHVlPVwiJyArIHZhbC5taW51dGUgKyAnXCI+JyApO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHQkaW5wdXQgPSAkKCAnPGlucHV0IG5hbWU9XCInICsgbmFtZSArICdcIiB0eXBlPVwiJyArIHR5cGUgKyAnXCIgdmFsdWU9XCInICsgdmFsICsgJ1wiJyArIHJlcXVpcmVkICsgJz4nICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQkZmllbGQuZW1wdHkoKS5hcHBlbmQoICRsYWJlbCApLmFwcGVuZCggJGlucHV0ICk7XG5cdFx0XHRcdGlmICggJ3NlbGVjdCcgPT09IHR5cGUgKSB7XG5cdFx0XHRcdFx0c2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHQkaW5wdXQudHJpZ2dlciggJ2NoYW5nZScgKTtcblx0XHRcdFx0XHR9LCAxMDAgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHR9O1xuXG5cdFx0XHQkKCAnYS5sbG1zLWVkaXRhYmxlJyApLm9uKCAnY2xpY2snLCBmdW5jdGlvbiggZSApIHtcblxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdFx0dmFyICRidG4gPSAkKCB0aGlzICksXG5cdFx0XHRcdFx0JGZpZWxkcztcblxuXHRcdFx0XHRpZiAoICRidG4uYXR0ciggJ2RhdGEtZmllbGRzJyApICkge1xuXHRcdFx0XHRcdCRmaWVsZHMgPSAkKCAkYnRuLmF0dHIoICdkYXRhLWZpZWxkcycgKSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdCRmaWVsZHMgPSAkYnRuLmNsb3Nlc3QoICcubGxtcy1tZXRhYm94LXNlY3Rpb24nICkuZmluZCggJ1tkYXRhLWxsbXMtZWRpdGFibGVdJyApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0JGJ0bi5yZW1vdmUoKTtcblxuXHRcdFx0XHQkZmllbGRzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdG1ha2VfZWRpdGFibGUoICQoIHRoaXMgKSApO1xuXHRcdFx0XHR9ICk7XG5cblx0XHRcdH0gKTtcblxuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBCaW5kIEVuZ2FnZW1lbnQgcG9zdCB0eXBlIEpTXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjEuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjEuMFxuXHRcdCAqL1xuXHRcdHRoaXMuYmluZF9sbG1zX2VuZ2FnZW1lbnQgPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0XHQvLyB3aGVuIHRoZSBlbmdhZ2VtZW50IHR5cGUgY2hhbmdlcyB3ZSBuZWVkIHRvIGRvIHNvbWUgdGhpbmdzIHRvIHRoZSBVSVxuXHRcdFx0JCggJyNfbGxtc19lbmdhZ2VtZW50X3R5cGUnICkub24oICdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHQkKCAnI19sbG1zX2VuZ2FnZW1lbnQnICkudHJpZ2dlciggJ2xsbXMtZW5nYWdlbWVudC10eXBlLWNoYW5nZScsICQoIHRoaXMgKS52YWwoKSApO1xuXG5cdFx0XHR9ICk7XG5cblx0XHRcdC8vIGN1c3RvbSB0cmlnZ2VyIHdoZW4gY2FsbGVkIHdoZW4gdGhlIGVuZ2FnZW1lbnQgdHlwZSBjaGFuZ2VzXG5cdFx0XHQkKCAnI19sbG1zX2VuZ2FnZW1lbnQnICkub24oICdsbG1zLWVuZ2FnZW1lbnQtdHlwZS1jaGFuZ2UnLCBmdW5jdGlvbiggZSwgZW5nYWdlbWVudF90eXBlICkge1xuXG5cdFx0XHRcdHZhciAkc2VsZWN0ID0gJCggdGhpcyApO1xuXG5cdFx0XHRcdHN3aXRjaCAoIGVuZ2FnZW1lbnRfdHlwZSApIHtcblxuXHRcdFx0XHRcdC8qKlxuXHRcdFx0XHRcdCAqIGNvcmUgZW5nYWdlbWVudHMgcmVsYXRlZCB0byBhIENQVFxuXHRcdFx0XHRcdCAqL1xuXHRcdFx0XHRcdGNhc2UgJ2FjaGlldmVtZW50Jzpcblx0XHRcdFx0XHRjYXNlICdjZXJ0aWZpY2F0ZSc6XG5cdFx0XHRcdFx0Y2FzZSAnZW1haWwnOlxuXG5cdFx0XHRcdFx0XHR2YXIgY3B0ID0gJ2xsbXNfJyArIGVuZ2FnZW1lbnRfdHlwZTtcblxuXHRcdFx0XHRcdFx0JHNlbGVjdC52YWwoIG51bGwgKS5hdHRyKCAnZGF0YS1wb3N0LXR5cGUnLCBjcHQgKS50cmlnZ2VyKCAnY2hhbmdlJyApO1xuXHRcdFx0XHRcdFx0c2VsZi5wb3N0X3NlbGVjdCggJHNlbGVjdCApO1xuXG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHQvKipcblx0XHRcdFx0XHQgKiBBbGxvdyBvdGhlciBwbHVnaW5zIGFuZCBkZXZlbG9wZXJzIHRvIGhvb2sgaW50byB0aGUgZW5nYWdlbWVudCB0eXBlIGNoYW5nZSBhY3Rpb25cblx0XHRcdFx0XHQgKi9cblx0XHRcdFx0XHRkZWZhdWx0OlxuXG5cdFx0XHRcdFx0XHQkc2VsZWN0LnRyaWdnZXIoICdsbG1zLWVuZ2FnZW1lbnQtdHlwZS1jaGFuZ2UtZXh0ZXJuYWwnLCBlbmdhZ2VtZW50X3R5cGUgKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdH0gKTtcblxuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBBY3Rpb25zIGZvciBtZW1iZXJzaGlwc1xuXHRcdCAqXG5cdFx0ICogQHNpbmNlIDMuMC4wXG5cdFx0ICogQHNpbmNlIDMuMzAuMCBNYWRlIGF1dG9lbnJvbGwgdGFibGUgc29ydGFibGUsIGFkZGVkIEFKQVggc2F2ZSBmb3IgYWRkaW5nIG5ldyBjb3Vyc2VzLlxuXHRcdCAqIEB2ZXJzaW9uIDMuMzAuMFxuXHRcdCAqXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKi9cblx0XHR0aGlzLmJpbmRfbGxtc19tZW1iZXJzaGlwID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciAkdGFibGUgPSAkKCAnLmxsbXMtbWItbGlzdC5fbGxtc19jb250ZW50X3RhYmxlJyApO1xuXG5cdFx0XHQvKipcblx0XHRcdCAqIEhpZGUvU2hvdyBlbXB0eSBtZXNzYWdlIGhlYWRlciByb3cgZGVwZW5kaW5nIG9uIHRoZSBudW1iZXIgb2Ygcm93cyBpbiB0aGUgdGJvZHlcblx0XHRcdCAqXG5cdFx0XHQgKiBAc2luY2UgMy4zMC4wXG5cdFx0XHQgKiBAdmVyc2lvbiAzLjMwLjBcblx0XHRcdCAqXG5cdFx0XHQgKiBAcmV0dXJuIHZvaWRcblx0XHRcdCAqL1xuXHRcdFx0ZnVuY3Rpb24gdG9nZ2xlX2hlYWRlcl9yb3coKSB7XG5cblx0XHRcdFx0dmFyICRyb3dzID0gJHRhYmxlLmZpbmQoICd0Ym9keSB0cicgKTtcblx0XHRcdFx0aWYgKCAxID09PSAkcm93cy5sZW5ndGggKSB7XG5cdFx0XHRcdFx0JHJvd3MuZmlyc3QoKS5zaG93KCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0JHJvd3MuZmlyc3QoKS5oaWRlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0LyoqXG5cdFx0XHQgKiBSZXRyaWV2ZSBhbiBhcnJheSBvZiBjb3Vyc2UgSURzIGluIHRoZSB0YWJsZS5cblx0XHRcdCAqXG5cdFx0XHQgKiBAc2luY2UgMy4zMC4wXG5cdFx0XHQgKiBAdmVyc2lvbiAzLjMwLjBcblx0XHRcdCAqXG5cdFx0XHQgKiBAcmV0dXJuIGFycmF5XG5cdFx0XHQgKi9cblx0XHRcdGZ1bmN0aW9uIGdldF9jb3Vyc2VfaWRzKCkge1xuXG5cdFx0XHRcdHZhciBjb3Vyc2VzID0gW107XG5cdFx0XHRcdCR0YWJsZS5maW5kKCAndGJvZHkgdHIgYVtocmVmPVwiI2xsbXMtY291cnNlLXJlbW92ZVwiXScgKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRjb3Vyc2VzLnB1c2goICQoIHRoaXMgKS5hdHRyKCAnZGF0YS1pZCcgKSApO1xuXHRcdFx0XHR9ICk7XG5cdFx0XHRcdHJldHVybiBjb3Vyc2VzO1xuXG5cdFx0XHR9XG5cblx0XHRcdC8vIE9uIGluaXQsIHRvZ2dsZSB0aGUgaGVhZGVyIHJvdyB2aXNpYmlsaXR5LlxuXHRcdFx0dG9nZ2xlX2hlYWRlcl9yb3coKTtcblxuXHRcdFx0Ly8gcmVtb3ZlIGF1dG8tZW5yb2xsIGNvdXJzZVxuXHRcdFx0JHRhYmxlLm9uKCAnY2xpY2snLCAnYVtocmVmPVwiI2xsbXMtY291cnNlLXJlbW92ZVwiXScsIGZ1bmN0aW9uKCBlICkge1xuXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0XHR2YXIgJGVsICAgICAgICA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHQkcm93ICAgICAgID0gJGVsLmNsb3Nlc3QoICd0cicgKSxcblx0XHRcdFx0XHQkY29udGFpbmVyID0gJGVsLmNsb3Nlc3QoICcubGxtcy1tYi1saXN0JyApO1xuXG5cdFx0XHRcdExMTVMuU3Bpbm5lci5zdGFydCggJGNvbnRhaW5lciApO1xuXG5cdFx0XHRcdHdpbmRvdy5MTE1TLkFqYXguY2FsbCgge1xuXHRcdFx0XHRcdGRhdGE6IHtcblx0XHRcdFx0XHRcdGFjdGlvbjogJ21lbWJlcnNoaXBfcmVtb3ZlX2F1dG9fZW5yb2xsX2NvdXJzZScsXG5cdFx0XHRcdFx0XHRjb3Vyc2VfaWQ6ICRlbC5hdHRyKCAnZGF0YS1pZCcgKSxcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdFx0XHQkY29udGFpbmVyLmZpbmQoICdwLmVycm9yJyApLnJlbW92ZSgpO1xuXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbiggciApIHtcblxuXHRcdFx0XHRcdFx0aWYgKCByLnN1Y2Nlc3MgKSB7XG5cblx0XHRcdFx0XHRcdFx0JHJvdy5mYWRlT3V0KCAyMDAgKTtcblx0XHRcdFx0XHRcdFx0c2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0JHJvdy5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdFx0XHR0b2dnbGVfaGVhZGVyX3JvdygpO1xuXHRcdFx0XHRcdFx0XHR9LCA0MDAgKTtcblxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0XHQkY29udGFpbmVyLnByZXBlbmQoICc8cCBjbGFzcz1cImVycm9yXCI+JyArIHIubWVzc2FnZSArICc8L3A+JyApO1xuXG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdExMTVMuU3Bpbm5lci5zdG9wKCAkY29udGFpbmVyICk7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fSApO1xuXG5cdFx0XHR9ICk7XG5cblx0XHRcdC8vIGJ1bGsgZW5yb2xsIGFsbCBtZW1iZXJzIGludG8gYSBjb3Vyc2Vcblx0XHRcdCR0YWJsZS5vbiggJ2NsaWNrJywgJ2FbaHJlZj1cIiNsbG1zLWNvdXJzZS1idWxrLWVucm9sbFwiXScsIGZ1bmN0aW9uKCBlICkge1xuXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0XHR2YXIgJGVsICAgICAgICA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHQkcm93ICAgICAgID0gJGVsLmNsb3Nlc3QoICd0cicgKSxcblx0XHRcdFx0XHQkY29udGFpbmVyID0gJGVsLmNsb3Nlc3QoICcubGxtcy1tYi1saXN0JyApO1xuXG5cdFx0XHRcdGlmICggISB3aW5kb3cuY29uZmlybSggTExNUy5sMTBuLnRyYW5zbGF0ZSggJ0NsaWNrIG9rYXkgdG8gZW5yb2xsIGFsbCBhY3RpdmUgbWVtYmVycyBpbnRvIHRoZSBzZWxlY3RlZCBjb3Vyc2UuIEVucm9sbG1lbnQgd2lsbCB0YWtlIHBsYWNlIGluIHRoZSBiYWNrZ3JvdW5kIGFuZCB5b3UgbWF5IGxlYXZlIHlvdXIgc2l0ZSBhZnRlciBjb25maXJtYXRpb24uIFRoaXMgYWN0aW9uIGNhbm5vdCBiZSB1bmRvbmUhJyApICkgKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0TExNUy5TcGlubmVyLnN0YXJ0KCAkY29udGFpbmVyICk7XG5cblx0XHRcdFx0d2luZG93LkxMTVMuQWpheC5jYWxsKCB7XG5cdFx0XHRcdFx0ZGF0YToge1xuXHRcdFx0XHRcdFx0YWN0aW9uOiAnYnVsa19lbnJvbGxfbWVtYmVyc2hpcF9pbnRvX2NvdXJzZScsXG5cdFx0XHRcdFx0XHRjb3Vyc2VfaWQ6ICRlbC5hdHRyKCAnZGF0YS1pZCcgKSxcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0JGNvbnRhaW5lci5maW5kKCAncC5lcnJvcicgKS5yZW1vdmUoKTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKCByICkge1xuXG5cdFx0XHRcdFx0XHRpZiAoIHIuc3VjY2VzcyApIHtcblxuXHRcdFx0XHRcdFx0XHQkZWwucmVwbGFjZVdpdGgoICc8c3Ryb25nIHN0eWxlPVwiZmxvYXQ6cmlnaHQ7XCI+JyArIHIuZGF0YS5tZXNzYWdlICsgJyZuYnNwOyZuYnNwOzwvc3Ryb25nPicgKTtcblxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0XHQkY29udGFpbmVyLnByZXBlbmQoICc8cCBjbGFzcz1cImVycm9yXCI+JyArIHIubWVzc2FnZSArICc8L3A+JyApO1xuXG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdExMTVMuU3Bpbm5lci5zdG9wKCAkY29udGFpbmVyICk7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fSApO1xuXG5cdFx0XHR9ICk7XG5cblx0XHRcdC8vIEFkZCBhbiBpdGVtIHRvIHRoZSBhdXRvZW5yb2xsIHRhYmxlIG9uIHNlbGVjdC5cblx0XHRcdCQoICcjX2xsbXNfYXV0b19lbnJvbGwnICkub24oICdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHR2YXIgaWQgICAgPSAkKCB0aGlzICkudmFsKCksXG5cdFx0XHRcdFx0dGl0bGUgPSAkKCB0aGlzICkuZmluZCggJ29wdGlvblt2YWx1ZT1cIicgKyAkKCB0aGlzICkudmFsKCkgKyAnXCJdJyApLnRleHQoKTtcblxuXHRcdFx0XHQvLyBJZiB0aGVyZSdzIG5vIElEXG5cdFx0XHRcdGlmICggISBpZCApIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0Ly8gUHJldmVudCBEdXBlcy5cblx0XHRcdFx0fSBlbHNlIGlmICggLTEgIT09IGdldF9jb3Vyc2VfaWRzKCkuaW5kZXhPZiggaWQgKSApIHtcblxuXHRcdFx0XHRcdGFsZXJ0KCBMTE1TLmwxMG4ucmVwbGFjZSggJ1wiJXNcIiBpcyBhbHJlYWR5IGluIHRoZSBjb3Vyc2UgbGlzdC4nLCB7ICclcyc6IHRpdGxlIH0gKSApXG5cblx0XHRcdFx0XHQvLyByZXNldCB0aGUgc2VsZWN0IGZpZWxkLlxuXHRcdFx0XHRcdCQoIHRoaXMgKS52YWwoICcnICkudHJpZ2dlciggJ2NoYW5nZScgKTtcblxuXHRcdFx0XHRcdHJldHVybjtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0dmFyICR0YWJsZSA9ICQoICcubGxtcy1tYi1saXN0Ll9sbG1zX2NvbnRlbnRfdGFibGUnICk7XG5cdFx0XHRcdFx0JHRyICAgID0gJCggJzx0ciAvPicgKTtcblxuXHRcdFx0XHQkdHIuYXBwZW5kKCAnPHRkPjxzcGFuIGNsYXNzPVwibGxtcy1kcmFnLWhhbmRsZVwiIHN0eWxlPVwiY29sb3I6Izk5OTtcIj48aSBjbGFzcz1cImZhIGZhLWVsbGlwc2lzLXZcIiBhcmlhLWhpZGRlbj1cInRydWVcIiBzdHlsZT1cIm1hcmdpbi1yaWdodDoycHg7XCI+PC9pPjxpIGNsYXNzPVwiZmEgZmEtZWxsaXBzaXMtdlwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT48L3NwYW4+PC90ZD4nICk7XG5cdFx0XHRcdCR0ci5hcHBlbmQoICc8dGQ+PGEgaHJlZj1cIicgKyB3aW5kb3cubGxtcy5hZG1pbl91cmwgKyAncG9zdC5waHA/YWN0aW9uPWVkaXQmcG9zdD0nICsgaWQgKyAnXCI+JyArIHRpdGxlICsgJzwvYT48L3RkPicgKTtcblx0XHRcdFx0JHRyLmFwcGVuZCggJzx0ZD48YSBjbGFzcz1cImxsbXMtYnV0dG9uLWRhbmdlciBzbWFsbFwiIGRhdGEtaWQ9XCInICsgaWQgKyAnXCIgaHJlZj1cIiNsbG1zLWNvdXJzZS1yZW1vdmVcIiBzdHlsZT1cImZsb2F0OnJpZ2h0O1wiPicgKyBMTE1TLmwxMG4udHJhbnNsYXRlKCAnUmVtb3ZlIGNvdXJzZScgKSArICc8L2E+PGEgY2xhc3M9XCJsbG1zLWJ1dHRvbi1zZWNvbmRhcnkgc21hbGxcIiBkYXRhLWlkPVwiJyArIGlkICsgJ1wiIGhyZWY9XCIjbGxtcy1jb3Vyc2UtYnVsay1lbnJvbGxcIiBzdHlsZT1cImZsb2F0OnJpZ2h0O1wiPicgKyBMTE1TLmwxMG4udHJhbnNsYXRlKCAnRW5yb2xsIEFsbCBNZW1iZXJzJyApICsgJzwvYT48L3RkPicgKTtcblxuXHRcdFx0XHQvLyBhcHBlbmQgdGhlIGVsZW1lbnQgdG8gdGhlIHRhYmxlLlxuXHRcdFx0XHQkdGFibGUuZmluZCggJ3RhYmxlIHRib2R5JyApLmFwcGVuZCggJHRyICk7XG5cblx0XHRcdFx0Ly8gcmVzZXQgdGhlIHNlbGVjdCBmaWVsZC5cblx0XHRcdFx0JCggdGhpcyApLnZhbCggJycgKS50cmlnZ2VyKCAnY2hhbmdlJyApO1xuXG5cdFx0XHRcdC8vIFNob3cgdGhlIGhlYWRlciByb3cuXG5cdFx0XHRcdHRvZ2dsZV9oZWFkZXJfcm93KCk7XG5cblx0XHRcdFx0Ly8gdHJpZ2dlciBhIHNhdmUgZXZlbnQuXG5cdFx0XHRcdCR0YWJsZS50cmlnZ2VyKCAnbGxtcy1zYXZlLWF1dG9lbnJvbGwtY291cnNlcycgKTtcblxuXHRcdFx0fSApO1xuXG5cdFx0XHQvLyBNYWtlIGF1dG9lbnJvbGxtZW50IHRhYmxlIHNvcnRhYmxlLlxuXHRcdFx0JHRhYmxlLmZpbmQoICd0YWJsZSB0Ym9keScgKS5zb3J0YWJsZSgge1xuXHRcdFx0XHRoYW5kbGU6ICcubGxtcy1kcmFnLWhhbmRsZScsXG5cdFx0XHRcdC8vIFNhdmUgb3JkZXIgb24gc3RvcC5cblx0XHRcdFx0c3RvcDogZnVuY3Rpb24oIGV2ZW50LCB1aSApIHtcblx0XHRcdFx0XHR1aS5pdGVtLmNsb3Nlc3QoICcubGxtcy1tYi1saXN0JyApLnRyaWdnZXIoICdsbG1zLXNhdmUtYXV0b2Vucm9sbC1jb3Vyc2VzJyApO1xuXHRcdFx0XHR9LFxuXHRcdFx0fSApO1xuXG5cdFx0XHQvLyBTYXZlIGNvdXJzZXMgJiBjb3Vyc2Ugb3JkZXIuXG5cdFx0XHQkdGFibGUub24oICdsbG1zLXNhdmUtYXV0b2Vucm9sbC1jb3Vyc2VzJywgZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0dmFyICRjb250YWluZXIgPSAkKCB0aGlzICk7XG5cblx0XHRcdFx0TExNUy5TcGlubmVyLnN0YXJ0KCAkY29udGFpbmVyICk7XG5cblx0XHRcdFx0d2luZG93LkxMTVMuQWpheC5jYWxsKCB7XG5cdFx0XHRcdFx0ZGF0YToge1xuXHRcdFx0XHRcdFx0YWN0aW9uOiAnbGxtc19zYXZlX21lbWJlcnNoaXBfYXV0b2Vucm9sbF9jb3Vyc2VzJyxcblx0XHRcdFx0XHRcdGNvdXJzZXM6IGdldF9jb3Vyc2VfaWRzKCksXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRlcnJvcjogZnVuY3Rpb24oIGpxeGhyLCBjb2RlLCBlcnJvcl9tc2cgKSB7XG5cdFx0XHRcdFx0XHRhbGVydCggZXJyb3JfbXNnICk7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRjb21wbGV0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRMTE1TLlNwaW5uZXIuc3RvcCggJGNvbnRhaW5lciApO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH0gKTtcblxuXHRcdFx0fSApO1xuXG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIEFjdGlvbnMgZm9yIE9SREVSU1xuXHRcdCAqXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4yOC4wXG5cdFx0ICovXG5cdFx0dGhpcy5iaW5kX2xsbXNfb3JkZXIgPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0JCggJ2J1dHRvbltuYW1lPVwibGxtcy1yZWZ1bmQtdG9nZ2xlXCJdJyApLm9uKCAnY2xpY2snLCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHR2YXIgJGJ0biAgICAgICAgICAgICAgPSAkKCB0aGlzICksXG5cdFx0XHRcdFx0JHJvdyAgICAgICAgICAgICAgPSAkYnRuLmNsb3Nlc3QoICd0cicgKSxcblx0XHRcdFx0XHR0eG5faWQgICAgICAgICAgICA9ICRyb3cuYXR0ciggJ2RhdGEtdHJhbnNhY3Rpb24taWQnICksXG5cdFx0XHRcdFx0cmVmdW5kYWJsZV9hbW91bnQgPSAkYnRuLmF0dHIoICdkYXRhLXJlZnVuZGFibGUnICksXG5cdFx0XHRcdFx0Z2F0ZXdheV9zdXBwb3J0cyAgPSAoICcxJyA9PT0gJGJ0bi5hdHRyKCAnZGF0YS1nYXRld2F5LXN1cHBvcnRzJyApICkgPyB0cnVlIDogZmFsc2UsXG5cdFx0XHRcdFx0Z2F0ZXdheV90aXRsZSAgICAgPSAkYnRuLmF0dHIoICdkYXRhLWdhdGV3YXknICksXG5cdFx0XHRcdFx0JG5ld19yb3cgICAgICAgICAgPSAkKCAnI2xsbXMtdHhuLXJlZnVuZC1tb2RlbCAubGxtcy10eG4tcmVmdW5kLWZvcm0nICkuY2xvbmUoKSxcblx0XHRcdFx0XHQkZ2F0ZXdheV9idG4gICAgICA9ICRuZXdfcm93LmZpbmQoICcuZ2F0ZXdheS1idG4nICk7XG5cblx0XHRcdFx0Ly8gY29uZmlndXJlIGFuZCBhZGQgdGhlIGZvcm1cblx0XHRcdFx0aWYgKCAncmVtb3ZlJyAhPT0gJGJ0bi5hdHRyKCAnZGF0YS1hY3Rpb24nICkgKSB7XG5cblx0XHRcdFx0XHQkYnRuLnRleHQoIExMTVMubDEwbi50cmFuc2xhdGUoICdDYW5jZWwnICkgKTtcblx0XHRcdFx0XHQkYnRuLmF0dHIoICdkYXRhLWFjdGlvbicsICdyZW1vdmUnICk7XG5cdFx0XHRcdFx0JG5ld19yb3cuZmluZCggJ2lucHV0JyApLnJlbW92ZUF0dHIoICdkaXNhYmxlZCcgKTtcblx0XHRcdFx0XHQkbmV3X3Jvdy5maW5kKCAnaW5wdXRbbmFtZT1cImxsbXNfcmVmdW5kX2Ftb3VudFwiXScgKS5hdHRyKCAnbWF4JywgcmVmdW5kYWJsZV9hbW91bnQgKTtcblx0XHRcdFx0XHQkbmV3X3Jvdy5maW5kKCAnaW5wdXRbbmFtZT1cImxsbXNfcmVmdW5kX3R4bl9pZFwiXScgKS52YWwoIHR4bl9pZCApO1xuXG5cdFx0XHRcdFx0aWYgKCBnYXRld2F5X3N1cHBvcnRzICkge1xuXHRcdFx0XHRcdFx0JGdhdGV3YXlfYnRuLmZpbmQoICcubGxtcy1nYXRld2F5LXRpdGxlJyApLnRleHQoIGdhdGV3YXlfdGl0bGUgKTtcblx0XHRcdFx0XHRcdCRnYXRld2F5X2J0bi5zaG93KCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0JHJvdy5hZnRlciggJG5ld19yb3cgKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0JGJ0bi50ZXh0KCBMTE1TLmwxMG4udHJhbnNsYXRlKCAnUmVmdW5kJyApICk7XG5cdFx0XHRcdFx0JGJ0bi5hdHRyKCAnZGF0YS1hY3Rpb24nLCAnJyApO1xuXHRcdFx0XHRcdCRyb3cubmV4dCggJ3RyJyApLnJlbW92ZSgpO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0fSApO1xuXG5cdFx0XHQkKCAnYnV0dG9uW25hbWU9XCJsbG1zLW1hbnVhbC10eG4tdG9nZ2xlXCJdJyApLm9uKCAnY2xpY2snLCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHR2YXIgJGJ0biAgICAgPSAkKCB0aGlzICksXG5cdFx0XHRcdFx0JHJvdyAgICAgPSAkYnRuLmNsb3Nlc3QoICd0cicgKSxcblx0XHRcdFx0XHQkbmV3X3JvdyA9ICQoICcjbGxtcy1tYW51YWwtdHhuLW1vZGVsIC5sbG1zLW1hbnVhbC10eG4tZm9ybScgKS5jbG9uZSgpO1xuXG5cdFx0XHRcdC8vIGNvbmZpZ3VyZSBhbmQgYWRkIHRoZSBmb3JtXG5cdFx0XHRcdGlmICggJ3JlbW92ZScgIT09ICRidG4uYXR0ciggJ2RhdGEtYWN0aW9uJyApICkge1xuXG5cdFx0XHRcdFx0JGJ0bi50ZXh0KCBMTE1TLmwxMG4udHJhbnNsYXRlKCAnQ2FuY2VsJyApICk7XG5cdFx0XHRcdFx0JGJ0bi5hdHRyKCAnZGF0YS1hY3Rpb24nLCAncmVtb3ZlJyApO1xuXHRcdFx0XHRcdCRuZXdfcm93LmZpbmQoICdpbnB1dCcgKS5yZW1vdmVBdHRyKCAnZGlzYWJsZWQnICk7XG5cblx0XHRcdFx0XHQkcm93LmFmdGVyKCAkbmV3X3JvdyApO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHQkYnRuLnRleHQoIExMTVMubDEwbi50cmFuc2xhdGUoICdSZWNvcmQgYSBNYW51YWwgUGF5bWVudCcgKSApO1xuXHRcdFx0XHRcdCRidG4uYXR0ciggJ2RhdGEtYWN0aW9uJywgJycgKTtcblx0XHRcdFx0XHQkcm93Lm5leHQoICd0cicgKS5yZW1vdmUoKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdH0gKTtcblxuXHRcdFx0Ly8gY2FjaGUgdGhlIG9yaWdpbmFsIHZhbHVlIHdoZW4gZm9jdXNpbmcgb24gYSBwYXltZW50IGdhdGV3YXkgc2VsZWN0XG5cdFx0XHQvLyB1c2VkIGJlbG93IHNvIHRoZSBvcmlnaW5hbCBmaWVsZCByZWxhdGVkIGRhdGEgY2FuIGJlIHJlc3RvcmVkIHdoZW4gc3dpdGNoaW5nIGJhY2sgdG8gdGhlIG9yaWdpbmFsbHkgc2VsZWN0ZWQgZ2F0ZXdheVxuXHRcdFx0JCggJy5sbG1zLW1ldGFib3gnICkub25lKCAnZm9jdXMnLCAnLmxsbXMtbWV0YWJveC1maWVsZFtkYXRhLWxsbXMtZWRpdGFibGU9XCJwYXltZW50X2dhdGV3YXlcIl0gc2VsZWN0JywgZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0aWYgKCAhICQoIHRoaXMgKS5hdHRyKCAnZGF0YS1vcmlnaW5hbC12YWx1ZScgKSApIHtcblx0XHRcdFx0XHQkKCB0aGlzICkuYXR0ciggJ2RhdGEtb3JpZ2luYWwtdmFsdWUnLCAkKCB0aGlzICkudmFsKCkgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHR9ICk7XG5cblx0XHRcdC8vIHdoZW4gc2VsZWN0aW5nIGEgbmV3IHBheW1lbnQgZ2F0ZXdheSBnZXQgZmllbGQgZGF0YSBhbmQgdXBkYXRlIHRoZSBkb20gdG8gb25seSBkaXNwbGF5IHRoZSBmaWVsZHNcblx0XHRcdC8vIHN1cHBvcnRlZC9uZWVkZWQgYnkgdGhlIG5ld2x5IHNlbGVjdGVkIGdhdGV3YXlcblx0XHRcdCQoICcubGxtcy1tZXRhYm94JyApLm9uKCAnY2hhbmdlJywgJy5sbG1zLW1ldGFib3gtZmllbGRbZGF0YS1sbG1zLWVkaXRhYmxlPVwicGF5bWVudF9nYXRld2F5XCJdIHNlbGVjdCcsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdHZhciAkc2VsZWN0ICAgICAgPSAkKCB0aGlzICksXG5cdFx0XHRcdFx0Z2F0ZXdheSAgICAgID0gJHNlbGVjdC52YWwoKSxcblx0XHRcdFx0XHRkYXRhICAgICAgICAgPSBKU09OLnBhcnNlKCAkc2VsZWN0LmNsb3Nlc3QoICcubGxtcy1tZXRhYm94LWZpZWxkJyApLmF0dHIoICdkYXRhLWdhdGV3YXktZmllbGRzJyApICksXG5cdFx0XHRcdFx0Z2F0ZXdheV9kYXRhID0gZGF0YVsgZ2F0ZXdheSBdO1xuXG5cdFx0XHRcdGZvciAoIHZhciBmaWVsZCBpbiBnYXRld2F5X2RhdGEgKSB7XG5cblx0XHRcdFx0XHR2YXIgJGZpZWxkID0gJCggJ2lucHV0W25hbWU9XCInICsgZ2F0ZXdheV9kYXRhWyBmaWVsZCBdLm5hbWUgKyAnXCJdJyApLFxuXHRcdFx0XHRcdFx0JHdyYXAgID0gJGZpZWxkLmNsb3Nlc3QoICcubGxtcy1tZXRhYm94LWZpZWxkJyApO1xuXG5cdFx0XHRcdFx0Ly8gaWYgdGhlIGZpZWxkIGlzIGVuYWJsZWQgc2hvdyBpdCB0aGUgZmllbGQgYW5kLCBpZiB3ZSdyZSBzd2l0Y2hpbmcgYmFjayB0byB0aGUgb3JpZ2luYWxseSBzZWxlY3RlZFxuXHRcdFx0XHRcdC8vIGdhdGV3YXksIHJlbG9hZCB0aGUgdmFsdWUgZnJvbSB0aGUgZG9tXG5cdFx0XHRcdFx0aWYgKCBnYXRld2F5X2RhdGFbIGZpZWxkIF0uZW5hYmxlZCApIHtcblxuXHRcdFx0XHRcdFx0JHdyYXAuc2hvdygpO1xuXHRcdFx0XHRcdFx0JGZpZWxkLmF0dHIoICdyZXF1aXJlZCcsICdyZXF1aXJlZCcgKTtcblx0XHRcdFx0XHRcdCRmaWVsZC5yZW1vdmVBdHRyKCAnZGlzYWJsZWQnICk7XG5cblx0XHRcdFx0XHRcdGlmICggZ2F0ZXdheSA9PT0gJHNlbGVjdC5hdHRyKCAnZGF0YS1vcmlnaW5hbC12YWx1ZScgKSApIHtcblx0XHRcdFx0XHRcdFx0JGZpZWxkLnZhbCggJHdyYXAuYXR0ciggJ2RhdGEtbGxtcy1lZGl0YWJsZS12YWx1ZScgKSApO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBvdGhlcndpc2UgaGlkZSB0aGUgZmllbGRcblx0XHRcdFx0XHRcdC8vIHRoaXMgd2lsbCBlbnN1cmUgaXQgZ2V0cyB1cGRhdGVkIGluIHRoZSBkYXRhYmFzZVxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdC8vIGFsd2F5cyBjbGVhciB0aGUgdmFsdWUgd2hlbiBzd2l0Y2hpbmdcblx0XHRcdFx0XHRcdC8vIGVuc3VyZXMgdGhhdCBvdXRkYXRlZCBkYXRhIGlzIHJlbW92ZWQgZnJvbSB0aGUgREJcblx0XHRcdFx0XHRcdCRmaWVsZC5hdHRyKCAndmFsdWUnLCAnJyApO1xuXG5cdFx0XHRcdFx0XHQkZmllbGQucmVtb3ZlQXR0ciggJ3JlcXVpcmVkJyApO1xuXHRcdFx0XHRcdFx0Ly8gJGZpZWxkLmF0dHIoICdkaXNhYmxlZCcsICdkaXNhYmxlZCcgKTtcblx0XHRcdFx0XHRcdCR3cmFwLmhpZGUoKTtcblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9XG5cblx0XHRcdH0gKTtcblxuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBCaW5kcyBjdXN0b20gbGxtcyBtZXJnZSBjb2RlIGJ1dHRvbnNcblx0XHQgKlxuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMS4wXG5cdFx0ICogQHZlcnNpb24gIDMuOS4yXG5cdFx0ICovXG5cdFx0dGhpcy5iaW5kX21lcmdlX2NvZGVfYnV0dG9ucyA9IGZ1bmN0aW9uKCAkd3JhcHBlcnMgKSB7XG5cblx0XHRcdCR3cmFwcGVycyA9ICR3cmFwcGVycyB8fCAkKCAnLmxsbXMtbWVyZ2UtY29kZS13cmFwcGVyJyApO1xuXG5cdFx0XHQkd3JhcHBlcnMuZmluZCggJy5sbG1zLW1lcmdlLWNvZGUtYnV0dG9uJyApLm9uKCAnY2xpY2snLCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHQkKCB0aGlzICkubmV4dCggJy5sbG1zLW1lcmdlLWNvZGVzJyApLnRvZ2dsZUNsYXNzKCAnYWN0aXZlJyApO1xuXG5cdFx0XHR9ICk7XG5cblx0XHRcdCR3cmFwcGVycy5maW5kKCAnLmxsbXMtbWVyZ2UtY29kZXMgbGknICkub24oICdjbGljaycsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdHZhciAkZWwgICAgID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdCRwYXJlbnQgPSAkZWwuY2xvc2VzdCggJy5sbG1zLW1lcmdlLWNvZGVzJyApLFxuXHRcdFx0XHRcdHRhcmdldCAgPSAkcGFyZW50LmF0dHIoICdkYXRhLXRhcmdldCcgKSxcblx0XHRcdFx0XHRjb2RlICAgID0gJGVsLmF0dHIoICdkYXRhLWNvZGUnICk7XG5cblx0XHRcdFx0Ly8gZGVhbGluZyB3aXRoIGEgdGlueW1jZSBpbnN0YW5jZVxuXHRcdFx0XHRpZiAoIC0xID09PSB0YXJnZXQuaW5kZXhPZiggJyMnICkgKSB7XG5cblx0XHRcdFx0XHR2YXIgZWRpdG9yID0gd2luZG93LnRpbnltY2UuZWRpdG9yc1sgdGFyZ2V0IF07XG5cdFx0XHRcdFx0aWYgKCBlZGl0b3IgKSB7XG5cdFx0XHRcdFx0XHRlZGl0b3IuaW5zZXJ0Q29udGVudCggY29kZSApO1xuXHRcdFx0XHRcdH0gLy8gZmFsbGJhY2sgaW4gY2FzZSB3ZSBjYW4ndCBhY2Nlc3MgdGhlIGVkaXRvciBkaXJlY3RseVxuXHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0YWxlcnQoIExMTVMubDEwbi50cmFuc2xhdGUoICdDb3B5IHRoaXMgY29kZSBhbmQgcGFzdGUgaXQgaW50byB0aGUgZGVzaXJlZCBhcmVhJyApICsgJzogJyArIGNvZGUgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBkZWFsaW5nIHdpdGggYSBET00gaWRcblx0XHRcdFx0ZWxzZSB7XG5cblx0XHRcdFx0XHQkKCB0YXJnZXQgKS52YWwoICQoIHRhcmdldCApLnZhbCgpICsgY29kZSApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHQkcGFyZW50LnJlbW92ZUNsYXNzKCAnYWN0aXZlJyApO1xuXG5cdFx0XHR9ICk7XG5cblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogQmluZCBtZXRhYm94IHRhYnNcblx0XHQgKlxuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMC4wXG5cdFx0ICovXG5cdFx0dGhpcy5iaW5kX3RhYnMgPSBmdW5jdGlvbigpIHtcblx0XHRcdCQoICcubGxtcy1uYXYtdGFiLXdyYXBwZXIgLnRhYnMgbGknICkub24oICdjbGljaycsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdHZhciAkYnRuICAgICA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHQkbWV0YWJveCA9ICRidG4uY2xvc2VzdCggJy5sbG1zLW1iLWNvbnRhaW5lcicgKSxcblx0XHRcdFx0XHR0YWJfaWQgICA9ICRidG4uYXR0ciggJ2RhdGEtdGFiJyApO1xuXG5cdFx0XHRcdCRidG4uc2libGluZ3MoKS5yZW1vdmVDbGFzcyggJ2xsbXMtYWN0aXZlJyApO1xuXG5cdFx0XHRcdCRtZXRhYm94LmZpbmQoICcudGFiLWNvbnRlbnQnICkucmVtb3ZlQ2xhc3MoICdsbG1zLWFjdGl2ZScgKTtcblxuXHRcdFx0XHQkYnRuLmFkZENsYXNzKCAnbGxtcy1hY3RpdmUnICk7XG5cdFx0XHRcdCQoICcjJyArIHRhYl9pZCApLmFkZENsYXNzKCAnbGxtcy1hY3RpdmUnICk7XG5cblx0XHRcdH0gKTtcblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogRW5hYmxlIFdQIFBvc3QgVGFibGUgc2VhcmNoZXMgZm9yIGFwcGxpY2FibGUgc2VsZWN0MiBib3hlc1xuXHRcdCAqXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4yMS4wXG5cdFx0ICovXG5cdFx0dGhpcy5wb3N0X3NlbGVjdCA9IGZ1bmN0aW9uKCAkZWwgKSB7XG5cblx0XHRcdHZhciBtdWx0aSA9ICdtdWx0aXBsZScgPT09ICRlbC5hdHRyKCAnbXVsdGlwbGUnICk7XG5cblx0XHRcdCRlbC5sbG1zUG9zdHNTZWxlY3QyKCB7XG5cdFx0XHRcdHdpZHRoOiBtdWx0aSA/ICcxMDAlJyA6ICc2NSUnLFxuXHRcdFx0fSApO1xuXG5cdFx0XHRpZiAoIG11bHRpIHx8ICRlbC5hdHRyKCAnZGF0YS1uby12aWV3LWJ1dHRvbicgKSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBhZGQgYSBcIlZpZXdcIiBidXR0b24gdG8gc2VlIHdoYXQgdGhlIHNlbGVjdGVkIHBhZ2UgbG9va3MgbGlrZVxuXHRcdFx0dmFyIG1zZyAgPSBMTE1TLmwxMG4udHJhbnNsYXRlKCAnVmlldycgKSxcblx0XHRcdFx0JGJ0biA9ICQoICc8YSBjbGFzcz1cImxsbXMtYnV0dG9uLXNlY29uZGFyeSBzbWFsbFwiIHN0eWxlPVwibWFyZ2luLWxlZnQ6NXB4O1wiIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCIjXCI+JyArIG1zZyArICcgPGkgY2xhc3M9XCJmYSBmYS1leHRlcm5hbC1saW5rXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPjwvYT4nICk7XG5cdFx0XHQkZWwubmV4dCggJy5zZWxlY3QyJyApLmFmdGVyKCAkYnRuICk7XG5cblx0XHRcdCRlbC5vbiggJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgaWQgPSAkKCB0aGlzICkudmFsKCk7XG5cdFx0XHRcdGlmICggaWQgKSB7XG5cdFx0XHRcdFx0JGJ0bi5hdHRyKCAnaHJlZicsICcvP3A9JyArIGlkICkuc2hvdygpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdCRidG4uaGlkZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICkudHJpZ2dlciggJ2NoYW5nZScgKTtcblxuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBCaW5kIGRvbSBldmVudHMgZm9yIC5sbG1zLXRhYmxlc1xuXHRcdCAqXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4wLjBcblx0XHQgKi9cblx0XHR0aGlzLmJpbmRfdGFibGVzID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdCQoICcubGxtcy10YWJsZSBidXR0b25bbmFtZT1cImxsbXMtZXhwYW5kLXRhYmxlXCJdJyApLm9uKCAnY2xpY2snLCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHR2YXIgJGJ0biAgID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdCR0YWJsZSA9ICRidG4uY2xvc2VzdCggJy5sbG1zLXRhYmxlJyApXG5cblx0XHRcdFx0Ly8gc3dpdGNoIHRoZSB0ZXh0IG9uIHRoZSBidXR0b24gaWYgYWx0IHRleHQgaXMgZm91bmRcblx0XHRcdFx0aWYgKCAkYnRuLmF0dHIoICdkYXRhLXRleHQnICkgKSB7XG5cdFx0XHRcdFx0dmFyIHRleHQgPSAkYnRuLnRleHQoKTtcblx0XHRcdFx0XHQkYnRuLnRleHQoICRidG4uYXR0ciggJ2RhdGEtdGV4dCcgKSApO1xuXHRcdFx0XHRcdCRidG4uYXR0ciggJ2RhdGEtdGV4dCcsIHRleHQgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIHN3aXRjaCBjbGFzc2VzIG9uIGFsbCBleHBhbmRhYmxlIGVsZW1lbnRzXG5cdFx0XHRcdCR0YWJsZS5maW5kKCAnLmV4cGFuZGFibGUnICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0XHRpZiAoICQoIHRoaXMgKS5oYXNDbGFzcyggJ2Nsb3NlZCcgKSApIHtcblx0XHRcdFx0XHRcdCQoIHRoaXMgKS5hZGRDbGFzcyggJ29wZW5lZCcgKS5yZW1vdmVDbGFzcyggJ2Nsb3NlZCcgKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0JCggdGhpcyApLmFkZENsYXNzKCAnY2xvc2VkJyApLnJlbW92ZUNsYXNzKCAnb3BlbmVkJyApO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9ICk7XG5cblx0XHRcdH0gKTtcblxuXHRcdH07XG5cblx0XHQvLyBnb1xuXHRcdHRoaXMuaW5pdCgpO1xuXG5cdH07XG5cblx0Ly8gaW5pdGlhbGl6ZSB0aGUgb2JqZWN0XG5cdHdpbmRvdy5sbG1zLm1ldGFib3hlcyA9IG5ldyBNZXRhYm94ZXMoKTtcblxufSApKCBqUXVlcnkgKTtcbiJdfQ==
